"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[8148],{2830:(e,o,t)=>{t.d(o,{A:()=>a});t(65043);var r=t(70579);const i=e=>"number"===typeof e?8*e+"px":e,a=e=>{const{component:o,sx:t,style:a,children:l,...n}=e,s={...a||{},display:null===t||void 0===t?void 0:t.display,flexDirection:null===t||void 0===t?void 0:t.flexDirection,justifyContent:null===t||void 0===t?void 0:t.justifyContent,alignItems:null===t||void 0===t?void 0:t.alignItems,flexWrap:null===t||void 0===t?void 0:t.flexWrap,gap:i(null===t||void 0===t?void 0:t.gap),marginBottom:i(null===t||void 0===t?void 0:t.mb),marginTop:i(null===t||void 0===t?void 0:t.mt),marginRight:i(null===t||void 0===t?void 0:t.mr),marginLeft:i(null===t||void 0===t?void 0:t.ml),padding:i(null===t||void 0===t?void 0:t.p),paddingTop:i(null===t||void 0===t?void 0:t.pt),paddingBottom:i(null===t||void 0===t?void 0:t.pb),paddingLeft:i(null===t||void 0===t?void 0:t.pl),paddingRight:i(null===t||void 0===t?void 0:t.pr),height:null===t||void 0===t?void 0:t.height,width:null===t||void 0===t?void 0:t.width,minWidth:null===t||void 0===t?void 0:t.minWidth,maxWidth:null===t||void 0===t?void 0:t.maxWidth,minHeight:null===t||void 0===t?void 0:t.minHeight,maxHeight:null===t||void 0===t?void 0:t.maxHeight,position:null===t||void 0===t?void 0:t.position,top:null===t||void 0===t?void 0:t.top,left:null===t||void 0===t?void 0:t.left,right:null===t||void 0===t?void 0:t.right,bottom:null===t||void 0===t?void 0:t.bottom,borderRadius:null===t||void 0===t?void 0:t.borderRadius,border:null===t||void 0===t?void 0:t.border,borderColor:null===t||void 0===t?void 0:t.borderColor,borderBottom:null===t||void 0===t?void 0:t.borderBottom,backgroundColor:null===t||void 0===t?void 0:t.bgcolor,color:null===t||void 0===t?void 0:t.color,flexGrow:null===t||void 0===t?void 0:t.flexGrow,overflow:null===t||void 0===t?void 0:t.overflow,boxSizing:"border-box"};if(Object.keys(s).forEach((e=>{void 0===s[e]&&delete s[e]})),o){const e={...n,style:s,as:o};return(0,r.jsx)("div",{...e,children:l})}return(0,r.jsx)("div",{style:s,...n,children:l})}},4598:(e,o,t)=>{t.d(o,{A:()=>w});var r=t(98587),i=t(58168),a=t(65043),l=t(58387),n=t(98610),s=t(67266),d=t(6803),c=t(33064),h=t(34535),m=t(98206),g=t(92532),p=t(72372);function u(e){return(0,p.Ay)("MuiSwitch",e)}const v=(0,g.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var x=t(70579);const b=["className","color","edge","size","sx"],y=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.edge&&o[`edge${(0,d.A)(t.edge)}`],o[`size${(0,d.A)(t.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${v.thumb}`]:{width:16,height:16},[`& .${v.switchBase}`]:{padding:4,[`&.${v.checked}`]:{transform:"translateX(16px)"}}}}]}),f=(0,h.Ay)(c.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.switchBase,{[`& .${v.input}`]:o.input},"default"!==t.color&&o[`color${(0,d.A)(t.color)}`]]}})((e=>{let{theme:o}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:o.vars?o.vars.palette.Switch.defaultColor:`${"light"===o.palette.mode?o.palette.common.white:o.palette.grey[300]}`,transition:o.transitions.create(["left","transform"],{duration:o.transitions.duration.shortest}),[`&.${v.checked}`]:{transform:"translateX(20px)"},[`&.${v.disabled}`]:{color:o.vars?o.vars.palette.Switch.defaultDisabledColor:`${"light"===o.palette.mode?o.palette.grey[100]:o.palette.grey[600]}`},[`&.${v.checked} + .${v.track}`]:{opacity:.5},[`&.${v.disabled} + .${v.track}`]:{opacity:o.vars?o.vars.opacity.switchTrackDisabled:""+("light"===o.palette.mode?.12:.2)},[`& .${v.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:o}=e;return{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:(0,s.X4)(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(o.palette).filter((e=>{let[,o]=e;return o.main&&o.light})).map((e=>{let[t]=e;return{props:{color:t},style:{[`&.${v.checked}`]:{color:(o.vars||o).palette[t].main,"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[t].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:(0,s.X4)(o.palette[t].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.disabled}`]:{color:o.vars?o.vars.palette.Switch[`${t}DisabledColor`]:`${"light"===o.palette.mode?(0,s.a)(o.palette[t].main,.62):(0,s.e$)(o.palette[t].main,.55)}`}},[`&.${v.checked} + .${v.track}`]:{backgroundColor:(o.vars||o).palette[t].main}}}}))]}})),A=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,o)=>o.track})((e=>{let{theme:o}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:o.transitions.create(["opacity","background-color"],{duration:o.transitions.duration.shortest}),backgroundColor:o.vars?o.vars.palette.common.onBackground:`${"light"===o.palette.mode?o.palette.common.black:o.palette.common.white}`,opacity:o.vars?o.vars.opacity.switchTrack:""+("light"===o.palette.mode?.38:.3)}})),j=(0,h.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,o)=>o.thumb})((e=>{let{theme:o}=e;return{boxShadow:(o.vars||o).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),w=a.forwardRef((function(e,o){const t=(0,m.b)({props:e,name:"MuiSwitch"}),{className:a,color:s="primary",edge:c=!1,size:h="medium",sx:g}=t,p=(0,r.A)(t,b),v=(0,i.A)({},t,{color:s,edge:c,size:h}),w=(e=>{const{classes:o,edge:t,size:r,color:a,checked:l,disabled:s}=e,c={root:["root",t&&`edge${(0,d.A)(t)}`,`size${(0,d.A)(r)}`],switchBase:["switchBase",`color${(0,d.A)(a)}`,l&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=(0,n.A)(c,u,o);return(0,i.A)({},o,h)})(v),k=(0,x.jsx)(j,{className:w.thumb,ownerState:v});return(0,x.jsxs)(y,{className:(0,l.A)(w.root,a),sx:g,ownerState:v,children:[(0,x.jsx)(f,(0,i.A)({type:"checkbox",icon:k,checkedIcon:k,ref:o,ownerState:v},p,{classes:(0,i.A)({},w,{root:w.switchBase})})),(0,x.jsx)(A,{className:w.track,ownerState:v})]})}))},18728:(e,o,t)=>{t.d(o,{MY:()=>r});const r=e=>e},39370:(e,o,t)=>{t.d(o,{L_:()=>n,Yv:()=>a,ae:()=>i,h:()=>l});const r="USE_MOCK_DATA_FOR_UI_TESTING",i=()=>"true"===localStorage.getItem(r),a=()=>{localStorage.setItem(r,"true"),console.log("Mock data mode enabled")},l=()=>{localStorage.setItem(r,"false"),console.log("Mock data mode disabled")},n=()=>{const e=!i();return e?a():l(),e}},48148:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var r=t(65043),i=t(73216),a=t(19252),l=t(67254),n=t(85865),s=t(51495),d=t(77739),c=t(17392),h=t(63336),m=t(74605),g=t(4598),p=t(30279),u=t(2830),v=t(18728),x=t(98348),b=t(21337),y=t(85473),f=t(39370),A=t(70579);const j=e=>{let{showDetails:o=!1,collapsed:t=!1}=e;const[i,a]=(0,r.useState)(!1),[l,s]=(0,r.useState)(o),[j,w]=(0,r.useState)(t);(0,r.useEffect)((()=>{a((0,f.ae)())}),[]);const k=()=>{w(!j)};return j?(0,A.jsx)(d.A,{title:"API Selection",children:(0,A.jsx)(c.A,{onClick:k,sx:{bgcolor:i?"warning.light":"primary.light",color:"white","&:hover":{bgcolor:i?"warning.main":"primary.main"}},children:(0,A.jsx)(x.A,{})})}):(0,A.jsxs)(h.A,{elevation:0,sx:{p:2,mb:2,border:"1px solid",borderColor:i?"warning.light":"divider",bgcolor:i?"warning.50":"background.paper"},children:[(0,A.jsxs)(u.A,{sx:(0,v.MY)({display:"flex",alignItems:"center",justifyContent:"space-between"}),children:[(0,A.jsxs)(u.A,{sx:(0,v.MY)({display:"flex",alignItems:"center"}),children:[(0,A.jsx)(m.A,{control:(0,A.jsx)(g.A,{checked:i,onChange:()=>{const e=(0,f.L_)();a(e)},color:"warning"}),label:(0,A.jsx)(n.A,{variant:"body2",fontWeight:500,children:i?"Using Mock Data":"Using Real API"})}),(0,A.jsx)(d.A,{title:"Toggle between mock data and real API calls",children:(0,A.jsx)(c.A,{size:"small",sx:{ml:1},children:(0,A.jsx)(x.A,{fontSize:"small",color:"info"})})})]}),(0,A.jsxs)(u.A,{sx:(0,v.MY)({}),children:[(0,A.jsx)(c.A,{size:"small",onClick:()=>{s(!l)},sx:{mr:1},children:l?(0,A.jsx)(y.A,{}):(0,A.jsx)(b.A,{})}),(0,A.jsx)(c.A,{size:"small",onClick:k,color:"primary",children:(0,A.jsx)(x.A,{fontSize:"small"})})]})]}),(0,A.jsx)(p.A,{in:l,children:(0,A.jsxs)(u.A,{sx:(0,v.MY)({mt:2,p:1,bgcolor:"background.default",borderRadius:1}),children:[(0,A.jsxs)(n.A,{variant:"body2",gutterBottom:!0,children:[(0,A.jsx)("strong",{children:"Current Mode:"})," ",i?"Mock Data":"Real API"]}),(0,A.jsx)(n.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:i?"Using simulated data for UI testing. No API calls are being made.":"Connected to the real API. All data is fetched from the server."}),i&&(0,A.jsx)(n.A,{variant:"body2",color:"warning.dark",sx:{mt:1},children:"Note: Mock data is for testing only and does not reflect real data."})]})})]})};var w=t(69717);const k=()=>{var e,o;const{login:t,loginWithGoogle:d,loginWithMicrosoft:c}=(0,w.h)(),[h,m]=(0,r.useState)(""),[g,p]=(0,r.useState)(!1),u=(0,i.Zp)(),v=(null===(e=(0,i.zy)().state)||void 0===e||null===(o=e.from)||void 0===o?void 0:o.pathname)||"/dashboard",x=(0,r.useCallback)((async e=>{p(!0),m("");try{await t({username:e.username,password:e.password,rememberMe:e.rememberMe});u(v,{replace:!0})}catch(o){m(o.message||"Failed to login. Please check your credentials.")}finally{p(!1)}}),[t,u,v]),b=(0,r.useCallback)((async()=>{p(!0),m("");try{await d(),u(v,{replace:!0})}catch(e){m(e.message||"Google login failed. Please try again.")}finally{p(!1)}}),[d,u,v]),y=(0,r.useCallback)((async()=>{p(!0),m("");try{await c(),u(v,{replace:!0})}catch(e){m(e.message||"Microsoft login failed. Please try again.")}finally{p(!1)}}),[c,u,v]),k=(0,f.ae)(),S=(0,r.useCallback)((e=>{e.target.src="/logo.png"}),[]);return(0,A.jsx)(a.A,{component:"main",maxWidth:"xs",sx:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",py:2},children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,A.jsx)("div",{style:{width:"100%",marginBottom:16,display:"flex",justifyContent:"center",userSelect:"none"},children:(0,A.jsx)("img",{src:"/assets/preplogo.png",alt:"PPrePorter Logo",style:{height:500,width:"auto",pointerEvents:"none"},onError:S,draggable:"false"})}),(0,A.jsx)("div",{style:{position:"absolute",top:20,right:20},children:(0,A.jsx)(j,{showDetails:!1,collapsed:!0})}),h&&(0,A.jsxs)(l.A,{severity:"error",sx:{width:"100%",mb:3},children:[h,k&&(0,A.jsxs)(n.A,{variant:"body2",sx:{mt:1},children:[(0,A.jsx)("strong",{children:"Tip:"})," You're currently in mock data mode. Toggle it off above to connect to the real API."]})]}),(0,A.jsx)(s.A,{onSubmit:x,onGoogleLogin:b,onMicrosoftLogin:y,logoUrl:"",error:h,loading:g,showSocialLogin:!0,showForgotPassword:!0,showRegister:!0,registerLink:"/register",forgotPasswordLink:"/forgot-password"}),(0,A.jsx)("div",{style:{marginTop:16,padding:8,textAlign:"center"},children:(0,A.jsxs)(n.A,{variant:"caption",color:"text.secondary",children:["By using our services, you agree to our"," ",(0,A.jsx)("a",{href:"/terms",children:"Terms of Service"})," and"," ",(0,A.jsx)("a",{href:"/privacy",children:"Privacy Policy"}),"."," ","Need help? ",(0,A.jsx)("a",{href:"/support",children:"Contact Support"})]})})]})})}},51495:(e,o,t)=>{t.d(o,{A:()=>S});var r=t(65043),i=t(63336),a=t(96446),l=t(85865),n=t(67254),s=t(67784),d=t(51787),c=t(17392),h=t(74605),m=t(51962),g=t(88446),p=t(11906),u=t(81637),v=t(39336),x=t(35475),b=t(47260),y=t(72819),f=t(37402),A=t(17555),j=t(3563),w=t(85890),k=t(70579);const S=e=>{let{onSubmit:o,onGoogleLogin:t,onMicrosoftLogin:S,error:C,loading:I=!1,showSocialLogin:M=!0,showForgotPassword:$=!0,showRegister:z=!0,registerLink:P="/register",forgotPasswordLink:R="/forgot-password",logoUrl:T="/logo.png",sx:B}=e;const[L,W]=(0,r.useState)({username:"",password:"",rememberMe:!1}),[D,N]=(0,r.useState)(!1),[_,E]=(0,r.useState)({}),U=e=>{const{name:o,value:t,checked:r,type:i}=e.target;W({...L,[o]:"checkbox"===i?r:t}),_[o]&&E({..._,[o]:void 0})},F=e=>{e.preventDefault(),e.stopPropagation(),console.log("Form submit event prevented");const t=(()=>{const e={};return L.username.trim()||(e.username="Username or email is required"),L.password||(e.password="Password is required"),e})();0===Object.keys(t).length?o&&(console.log("Form is valid, calling onSubmit"),o(L)):(console.log("Form has errors:",t),E(t))};return(0,k.jsx)(i.A,{elevation:3,sx:{maxWidth:450,width:"100%",p:3,borderRadius:2,...B},children:(0,k.jsxs)(a.A,{component:"form",onSubmit:e=>(F(e),!1),noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,k.jsxs)("div",{style:{textAlign:"center",marginBottom:"8px"},children:[T&&""!==T.trim()&&(0,k.jsx)("img",{src:T,alt:"Logo",style:{height:60,width:"auto",marginBottom:8},onError:e=>{e.target.style.display="none"}}),(0,k.jsx)(l.A,{variant:"h5",component:"h1",sx:{fontWeight:"bold",mb:.5},children:"Sign In"}),(0,k.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"Enter your credentials to access your account"})]}),C&&(0,k.jsx)(n.A,{severity:"error",sx:{mb:2},children:C}),(0,k.jsx)(s.A,{label:"Username or Email",name:"username",value:L.username,onChange:U,fullWidth:!0,error:!!_.username,helperText:_.username,InputProps:{startAdornment:(0,k.jsx)(d.A,{position:"start",children:(0,k.jsx)(f.A,{color:"action"})})},disabled:I,required:!0}),(0,k.jsx)(s.A,{label:"Password",name:"password",type:D?"text":"password",value:L.password,onChange:U,fullWidth:!0,error:!!_.password,helperText:_.password,InputProps:{startAdornment:(0,k.jsx)(d.A,{position:"start",children:(0,k.jsx)(A.A,{color:"action"})}),endAdornment:(0,k.jsx)(d.A,{position:"end",children:(0,k.jsx)(c.A,{"aria-label":"toggle password visibility",onClick:()=>{N(!D)},edge:"end",children:D?(0,k.jsx)(y.A,{}):(0,k.jsx)(b.A,{})})})},disabled:I,required:!0}),(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsx)(h.A,{control:(0,k.jsx)(m.A,{name:"rememberMe",checked:L.rememberMe,onChange:U,color:"primary",disabled:I}),label:"Remember me"}),$&&(0,k.jsx)(g.A,{component:x.N_,to:R,variant:"body2",color:"primary",underline:"hover",children:"Forgot password?"})]}),(0,k.jsx)(p.A,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,disabled:I,sx:{mt:2},children:I?(0,k.jsx)(u.A,{size:24}):"Sign In"}),z&&(0,k.jsx)("div",{style:{textAlign:"center",marginTop:"16px"},children:(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",(0,k.jsx)(g.A,{component:x.N_,to:P,color:"primary",underline:"hover",children:"Sign up"})]})}),M&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:"16px"},children:[(0,k.jsx)(v.A,{sx:{flex:1}}),(0,k.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mx:2},children:"or continue with"}),(0,k.jsx)(v.A,{sx:{flex:1}})]}),(0,k.jsxs)("div",{style:{display:"flex",gap:"16px",marginTop:"16px"},children:[(0,k.jsx)(p.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,k.jsx)(j.A,{}),onClick:()=>{t&&t()},disabled:I,children:"Google"}),(0,k.jsx)(p.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,k.jsx)(w.A,{}),onClick:()=>{S&&S()},disabled:I,children:"Microsoft"})]})]})]})})}},98348:(e,o,t)=>{var r=t(24994);o.A=void 0;var i=r(t(40039)),a=t(70579);o.A=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")}}]);
//# sourceMappingURL=8148.d8cb6f57.chunk.js.map