"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[349],{6349:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ia});var n=t(65043),s=t(83003),r=t(26240),l=t(19252),i=t(96446),o=t(81637),d=t(85865),c=t(14194),x=t(11906),m=t(48625),h=t(5780),u=t(19170),g=t(46087),j=t(69525),p=t(69717),y=t(72898),A=t(53193),v=t(18356),b=t(69285),f=t(32143),w=t(67784),k=t(63336),S=t(43845),C=t(17392),D=t(30279),R=t(39336),P=t(68903),z=t(77739),M=t(29598),I=t(58390),T=t(82232),E=t(28242),B=t(10155),L=t(21337),$=t(85473),G=t(94329),F=t(70579);let N=function(e){return e.TEXT="text",e.SELECT="select",e.DATE="date",e.BOOLEAN="boolean",e.NUMBER="number",e.RANGE="range",e}({});const W=e=>{let{title:a="Filters",filters:t=[],values:s={},onChange:r,onApply:l,onReset:o,onFilterSave:c,expanded:m,defaultExpanded:h=!0,sx:u}=e;const[g,j]=(0,n.useState)(h),p=void 0!==m,y=p?m:g,W=Object.keys(s).filter((e=>{const a=s[e];return void 0!==a&&null!==a&&""!==a})),O=(e,a)=>{r&&r(e,a)},K=()=>{o&&o()},V=e=>{var a;const t=void 0!==s[e.id]?s[e.id]:e.defaultValue||"";switch(e.type){case N.SELECT:return(0,F.jsxs)(A.A,{fullWidth:!0,size:"small",children:[(0,F.jsx)(v.A,{id:`filter-${e.id}-label`,children:e.label}),(0,F.jsxs)(b.A,{labelId:`filter-${e.id}-label`,id:`filter-${e.id}`,value:t,label:e.label,onChange:a=>O(e.id,a.target.value),children:[(0,F.jsx)(f.A,{value:"",children:(0,F.jsx)("em",{children:"Any"})}),null===(a=e.options)||void 0===a?void 0:a.map((e=>(0,F.jsx)(f.A,{value:e.value,children:e.label},e.value)))]})]});case N.DATE:return(0,F.jsx)(I.$,{dateAdapter:T.h,children:(0,F.jsx)(M.l,{label:e.label,value:t||null,onChange:a=>O(e.id,a),slotProps:{textField:{size:"small",fullWidth:!0}}})});case N.BOOLEAN:return(0,F.jsxs)(A.A,{fullWidth:!0,size:"small",children:[(0,F.jsx)(v.A,{id:`filter-${e.id}-label`,children:e.label}),(0,F.jsxs)(b.A,{labelId:`filter-${e.id}-label`,id:`filter-${e.id}`,value:t,label:e.label,onChange:a=>O(e.id,a.target.value),children:[(0,F.jsx)(f.A,{value:"",children:(0,F.jsx)("em",{children:"Any"})}),(0,F.jsx)(f.A,{value:"true",children:"Yes"}),(0,F.jsx)(f.A,{value:"false",children:"No"})]})]});case N.NUMBER:return(0,F.jsx)(w.A,{fullWidth:!0,label:e.label,type:"number",value:t,onChange:a=>O(e.id,a.target.value),size:"small",inputProps:{min:e.min,max:e.max,step:e.step||1}});case N.RANGE:return(0,F.jsxs)(i.A,{sx:{display:"flex",gap:1},children:[(0,F.jsx)(w.A,{label:`Min ${e.label}`,type:"number",value:(null===t||void 0===t?void 0:t.min)||"",onChange:a=>O(e.id,{...t,min:a.target.value}),size:"small",sx:{flex:1}}),(0,F.jsx)(w.A,{label:`Max ${e.label}`,type:"number",value:(null===t||void 0===t?void 0:t.max)||"",onChange:a=>O(e.id,{...t,max:a.target.value}),size:"small",sx:{flex:1}})]});default:return(0,F.jsx)(w.A,{fullWidth:!0,label:e.label,value:t,onChange:a=>O(e.id,a.target.value),size:"small",placeholder:e.placeholder})}};return(0,F.jsxs)(k.A,{variant:"outlined",sx:{mb:2,...u},children:[(0,F.jsxs)(i.A,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(E.A,{sx:{mr:1}}),(0,F.jsx)(d.A,{variant:"h6",component:"div",children:a}),W.length>0&&(0,F.jsx)(S.A,{label:`${W.length} active`,color:"primary",size:"small",sx:{ml:1}})]}),(0,F.jsx)(i.A,{children:(0,F.jsx)(C.A,{onClick:()=>{p||j(!g)},size:"small",children:y?(0,F.jsx)($.A,{}):(0,F.jsx)(L.A,{})})})]}),(0,F.jsxs)(D.A,{in:y,children:[(0,F.jsx)(R.A,{}),(0,F.jsxs)(i.A,{sx:{p:2},children:[(0,F.jsx)(P.Ay,{container:!0,spacing:2,children:t.map((e=>(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:4,children:V(e)},e.id)))}),W.length>0&&(0,F.jsxs)(i.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1},children:[(0,F.jsx)(d.A,{variant:"body2",sx:{mr:1},children:"Active filters:"}),W.map((e=>{const a=t.find((a=>a.id===e));let n=s[e];if((null===a||void 0===a?void 0:a.type)===N.SELECT&&a.options){const e=a.options.find((e=>e.value===n));n=e?e.label:n}return(null===a||void 0===a?void 0:a.type)===N.BOOLEAN&&(n="true"===n?"Yes":"No"),(null===a||void 0===a?void 0:a.type)===N.DATE&&n instanceof Date&&(n=n.toLocaleDateString()),(0,F.jsx)(S.A,{label:`${(null===a||void 0===a?void 0:a.label)||e}: ${n}`,onDelete:()=>O(e,""),size:"small"},e)})),(0,F.jsx)(S.A,{label:"Clear All",onDelete:K,deleteIcon:(0,F.jsx)(B.A,{}),size:"small",color:"secondary"})]})]}),(0,F.jsx)(R.A,{}),(0,F.jsxs)(i.A,{sx:{p:2,display:"flex",justifyContent:"flex-end",gap:1},children:[(0,F.jsx)(x.A,{variant:"outlined",onClick:K,startIcon:(0,F.jsx)(B.A,{}),children:"Reset"}),c&&(0,F.jsx)(z.A,{title:"Save these filters",children:(0,F.jsx)(x.A,{variant:"outlined",color:"secondary",onClick:()=>{c&&c()},startIcon:(0,F.jsx)(G.A,{}),children:"Save"})}),(0,F.jsx)(x.A,{variant:"contained",color:"primary",onClick:()=>{l&&l()},startIcon:(0,F.jsx)(E.A,{}),children:"Apply Filters"})]})]})]})};var O=t(91225);var K=t(688),V=t(2050),U=t(48734),H=t(37948);class Z extends n.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:{message:e.message,stack:e.stack}}}componentDidCatch(e,a){console.error("Error caught by ErrorBoundary:",e,a)}render(){const{fallback:e,children:a}=this.props,{hasError:t,error:n}=this.state;if(t){if(e){if("function"===typeof e&&n){return e(n)}return e}return(0,F.jsxs)(i.A,{sx:{p:3,textAlign:"center"},children:[(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,F.jsx)(d.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Something went wrong"}),(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:(null===n||void 0===n?void 0:n.message)||"An unexpected error occurred"}),(0,F.jsx)(x.A,{variant:"outlined",startIcon:(0,F.jsx)(m.A,{}),onClick:this.handleReset,children:"Try Again"})]})}return a}}const _=Z;var J=t(86974),q=t(45194);const Y=e=>{let{user:a,onRefresh:t,onToggleFilters:n,onFilterReset:s,onToggleTestPanel:l,filterMenuAnchor:o,onFilterMenuClick:c,onFilterMenuClose:h,showTestPanel:u,sx:g}=e;const j=(0,r.A)();return(0,F.jsx)(_,{fallback:(0,F.jsx)(k.A,{elevation:0,sx:{p:3,mb:4,bgcolor:j.palette.error.light,color:"white",borderRadius:2},children:(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(H.A,{sx:{mr:2,fontSize:32}}),(0,F.jsx)(d.A,{variant:"h6",children:"Something went wrong loading the dashboard header"})]})}),children:(0,F.jsx)(k.A,{elevation:0,sx:{p:3,mb:4,bgcolor:j.palette.primary.main,color:"white",borderRadius:2,...g},children:(0,F.jsxs)(P.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,F.jsxs)(P.Ay,{item:!0,xs:12,md:8,children:[(0,F.jsxs)(d.A,{variant:"h4",component:"h1",gutterBottom:!0,children:["Welcome, ",(null===a||void 0===a?void 0:a.firstName)||"User","!"]}),(0,F.jsx)(d.A,{variant:"body1",children:"Here's an overview of your PP Reporter performance. Use the dashboard to monitor key metrics and gain insights."})]}),(0,F.jsx)(P.Ay,{item:!0,xs:12,md:4,sx:{textAlign:"right"},children:(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,F.jsx)(x.A,{variant:"contained",color:"secondary",onClick:c,startIcon:(0,F.jsx)(E.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Open filter menu",children:"Filter"}),(0,F.jsx)(x.A,{variant:"contained",color:"secondary",onClick:t,startIcon:(0,F.jsx)(m.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Refresh dashboard data",children:"Refresh"}),(0,F.jsx)(x.A,{variant:"contained",color:"secondary",onClick:l,startIcon:(0,F.jsx)(q.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Toggle test panel",children:"Test"}),(0,F.jsxs)(K.A,{anchorEl:o,open:Boolean(o),onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,F.jsxs)(f.A,{onClick:n,children:[(0,F.jsx)(V.A,{children:(0,F.jsx)(J.A,{fontSize:"small"})}),(0,F.jsx)(U.A,{children:"Advanced Filters"})]}),(0,F.jsxs)(f.A,{onClick:s,children:[(0,F.jsx)(V.A,{children:(0,F.jsx)(B.A,{fontSize:"small"})}),(0,F.jsx)(U.A,{children:"Reset Filters"})]})]})]})})]})})})};var Q=t(8939),X=t(24056);const ee=e=>{let{children:a,value:t,index:n,label:s,sx:r,...l}=e;const o=t===n;return(0,F.jsx)("div",{role:"tabpanel",hidden:!o,id:`tabpanel-${n}`,"aria-labelledby":`tab-${n}`,"aria-label":s,...l,children:o&&(0,F.jsx)(i.A,{sx:{p:3,...r},children:a})})};var ae=t(98348);const te=e=>{let{message:a="No data available",icon:t=(0,F.jsx)(ae.A,{sx:{fontSize:48,color:"text.secondary"}}),action:n,description:s,sx:r={}}=e;return(0,F.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,...r},children:[t,(0,F.jsx)(d.A,{variant:"body1",color:"text.secondary",sx:{mt:2,textAlign:"center"},children:a}),s&&(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:s}),n&&(0,F.jsx)(i.A,{sx:{mt:2},children:n})]})};var ne=t(4721),se=t(37991),re=t(74523),le=t(15415),ie=t(12110),oe=t(26494),de=t(37912),ce=t(93881),xe=t(2306),me=t(47030),he=t(98082);const ue=e=>{let{title:a,value:t,subtitle:n,description:s,trend:r=null,trendLabel:l="vs previous period",icon:c=null,loading:x=!1,onMoreClick:m,color:h,isInverse:u=!1,sx:g}=e;const j=null===r?{icon:null,color:"text.secondary"}:r>0?{icon:(0,F.jsx)(de.A,{fontSize:"small"}),color:u?"error.main":"success.main"}:r<0?{icon:(0,F.jsx)(ce.A,{fontSize:"small"}),color:u?"success.main":"error.main"}:{icon:(0,F.jsx)(xe.A,{fontSize:"small"}),color:"text.secondary"};return(0,F.jsx)(ie.A,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:h,...g},children:(0,F.jsxs)(oe.A,{sx:{flex:1,position:"relative",p:2},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(d.A,{variant:"subtitle2",color:"text.secondary",children:a}),s&&(0,F.jsx)(z.A,{title:s,arrow:!0,children:(0,F.jsx)(C.A,{size:"small",sx:{ml:.5,p:0},children:(0,F.jsx)(me.A,{fontSize:"small",color:"action"})})})]}),m&&(0,F.jsx)(C.A,{size:"small",onClick:m,sx:{marginRight:-1},children:(0,F.jsx)(he.A,{fontSize:"small"})})]}),(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:1},children:[(0,F.jsx)(i.A,{children:x?(0,F.jsx)(o.A,{size:24}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(d.A,{variant:"h4",component:"div",fontWeight:"medium",children:t}),n&&(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",children:n})]})}),c&&(0,F.jsx)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"action.hover",borderRadius:"50%",width:48,height:48},children:c})]}),null!==r&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(R.A,{sx:{my:1.5}}),(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",color:j.color,mr:1},children:[j.icon,(0,F.jsx)(d.A,{variant:"body2",component:"span",fontWeight:"medium",sx:{color:j.color,ml:.5},children:(e=>{if(null===e)return"";return`${e>0?"+":""}${e}%`})(r)})]}),(0,F.jsx)(d.A,{variant:"caption",color:"text.secondary",children:l})]})]})]})})},ge=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return null===e||void 0===e?"\u2014":new Intl.NumberFormat("en-GB",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},je=e=>{if(!e)return"\u2014";const a="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(a)},pe=e=>{if(!e)return"\u2014";const a="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)},ye=e=>{let{stats:a,loading:t=!1,error:n=null,title:s="Key Metrics",onRetry:r,sx:l}=e;if(n)return(0,F.jsx)(te,{message:`Error loading metrics: ${n.message}`,icon:(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main"}}),action:r?(0,F.jsx)(x.A,{onClick:r,children:"Retry"}):void 0});const o=a||{revenue:{value:0,change:0},players:{value:0,change:0},games:{value:0,change:0},engagement:{value:0,change:0}};return(0,F.jsx)(_,{fallback:(0,F.jsx)(te,{message:"Error displaying metrics"}),children:(0,F.jsxs)(i.A,{sx:{mb:4,...l},children:[(0,F.jsx)(d.A,{variant:"h5",sx:{mb:2},children:s}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Total Revenue",value:ge(o.revenue.value),trend:o.revenue.change,icon:(0,F.jsx)(ne.A,{}),loading:t,description:"Total revenue across all games"})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Active Players",value:o.players.value.toLocaleString(),trend:o.players.change,icon:(0,F.jsx)(se.A,{}),loading:t,description:"Number of active players"})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Popular Games",value:o.games.value,trend:o.games.change,icon:(0,F.jsx)(re.A,{}),loading:t,description:"Number of games with active players"})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Engagement Rate",value:`${o.engagement.value}%`,trend:o.engagement.change,icon:(0,F.jsx)(le.A,{}),loading:t,description:"Average player engagement rate"})})]})]})})},Ae=(0,n.memo)(ye);var ve=t(78185);const be=e=>{let{children:a,title:t,subheader:s,action:r,icon:l,sx:o,collapsible:c=!1,defaultExpanded:x=!0,variant:m="outlined"}=e;const[h,u]=(0,n.useState)(x);return(0,F.jsxs)(k.A,{variant:m,sx:{borderRadius:1,overflow:"hidden",...o},children:[(t||s)&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(i.A,{sx:{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[l&&(0,F.jsx)(i.A,{sx:{mr:1.5,display:"flex",alignItems:"center"},children:l}),(0,F.jsxs)(i.A,{children:[t&&(0,F.jsx)(d.A,{variant:"h6",component:"div",children:t}),s&&(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",children:s})]})]}),(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[r,c&&(0,F.jsx)(C.A,{onClick:()=>{u(!h)},sx:{ml:r?1:0},size:"small",children:h?(0,F.jsx)($.A,{}):(0,F.jsx)(L.A,{})})]})]}),(0,F.jsx)(R.A,{})]}),c?(0,F.jsx)(D.A,{in:h,children:(0,F.jsx)(i.A,{children:a})}):(0,F.jsx)(i.A,{children:a})]})};var fe=t(83600),we=t(50108),ke=t(75748),Se=t(87734),Ce=t(52185),De=t(6026),Re=t(86150),Pe=t(90168),ze=t(877),Me=t(21327),Ie=t(13839);const Te=e=>{let{data:a,isLoading:t=!1,height:s=300,error:l=null,onRetry:c,sx:x}=e;const m=(0,r.A)(),h=(0,fe.A)(m.breakpoints.down("sm")),u=(0,n.useMemo)((()=>a&&0!==a.length?a.map((e=>({date:je(e.date),fullDate:e.date,revenue:parseFloat((e.revenue||e.value||0).toString()),formattedValue:ge(e.revenue||e.value||0)}))):[]),[a]);return t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...x},children:(0,F.jsx)(o.A,{})}):l?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...x},children:(0,F.jsxs)(d.A,{variant:"body1",color:"error",children:["Error loading revenue data: ",l.message,c&&(0,F.jsx)(i.A,{component:"span",sx:{ml:2,cursor:"pointer",textDecoration:"underline"},onClick:c,children:"Retry"})]})}):a&&0!==a.length?h?(0,F.jsx)(i.A,{sx:{width:"100%",height:s,...x},children:(0,F.jsx)(we.u,{children:(0,F.jsxs)(ke.b,{data:u,margin:{top:10,right:10,left:0,bottom:0},children:[(0,F.jsx)(Se.d,{strokeDasharray:"3 3"}),(0,F.jsx)(Ce.W,{dataKey:"date",tick:{fontSize:10},interval:"preserveStartEnd"}),(0,F.jsx)(De.h,{tickFormatter:e=>ge(e,"GBP").replace("\xa3",""),tick:{fontSize:10},width:40}),(0,F.jsx)(Re.m,{formatter:e=>[ge(e),"Revenue"],labelFormatter:e=>{const a=u.find((a=>a.date===e));return a?je(a.fullDate):e}}),(0,F.jsx)(Pe.N,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})}):(0,F.jsx)(i.A,{sx:{width:"100%",height:s,...x},children:(0,F.jsx)(we.u,{children:(0,F.jsxs)(ze.Q,{data:u,margin:{top:10,right:30,left:0,bottom:0},children:[(0,F.jsx)(Se.d,{strokeDasharray:"3 3"}),(0,F.jsx)(Ce.W,{dataKey:"date"}),(0,F.jsx)(De.h,{tickFormatter:e=>ge(e,"GBP").replace("\xa3","")}),(0,F.jsx)(Re.m,{formatter:e=>[ge(e),"Revenue"]}),(0,F.jsx)(Me.s,{}),(0,F.jsx)(Ie.G,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",fill:"#4caf50",fillOpacity:.3})]})})}):(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...x},children:(0,F.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"No revenue data available"})})},Ee=(0,n.memo)(Te);var Be=t(82291),Le=t(38643),$e=t(17869),Ge=t(28076),Fe=t(10039),Ne=t(79650),We=t(71806),Oe=t(84882),Ke=t(73460),Ve=t(85271);function Ue(e){let{data:a=[],columns:t=[],height:s=400,width:r="100%",rowHeight:l=53,loading:c=!1,emptyMessage:x="No data to display",onRowClick:m,headerHeight:h=56,sx:u={}}=e;const g=(0,n.useCallback)((e=>{let{index:n,style:s}=e;const r=a[n];return(0,F.jsx)(Ge.A,{component:"div",hover:!0,onClick:m?()=>m(r):void 0,style:{...s,display:"flex",alignItems:"center",boxSizing:"border-box",cursor:m?"pointer":"default"},children:t.map((e=>{const a=r[e.id],n=100/t.length+"%";return(0,F.jsx)(Fe.A,{component:"div",align:e.align||"left",style:{width:n,display:"flex",alignItems:"center",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.format?e.format(a,r):a},e.id)}))})}),[a,t,m]);return c?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...u},children:(0,F.jsx)(o.A,{})}):a&&0!==a.length?(0,F.jsx)(k.A,{sx:{height:s,width:r,overflow:"hidden",...u},children:(0,F.jsx)(Ne.A,{component:"div",sx:{height:"100%",width:"100%"},children:(0,F.jsxs)(We.A,{component:"div",sx:{display:"block",width:"100%",height:"100%"},children:[(0,F.jsx)(Oe.A,{component:"div",sx:{display:"block",width:"100%"},children:(0,F.jsx)(Ge.A,{component:"div",sx:{display:"flex",width:"100%",height:h,alignItems:"center"},children:t.map((e=>{const a=100/t.length+"%";return(0,F.jsx)(Fe.A,{component:"div",align:e.align||"left",sx:{width:a,display:"flex",alignItems:"center",fontWeight:"bold",boxSizing:"border-box"},children:e.label},e.id)}))})}),(0,F.jsx)(Ke.A,{component:"div",sx:{display:"block",width:"100%",height:`calc(${s}px - ${h}px)`,overflow:"hidden"},children:(0,F.jsx)(Ve.Y1,{height:s-h,width:"100%",itemCount:a.length,itemSize:l,style:{overflow:"auto"},children:g})})]})})}):(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...u},children:(0,F.jsx)(d.A,{variant:"body1",color:"text.secondary",children:x})})}const He=(0,n.memo)(Ue),Ze=e=>{let{active:a,payload:t,label:n}=e;return a&&t&&t.length?(0,F.jsxs)(i.A,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:1},children:[(0,F.jsx)(d.A,{variant:"subtitle2",gutterBottom:!0,children:t[0].payload.name}),(0,F.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Revenue: ",ge(t[0].value)]}),(0,F.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Players: ",t[0].payload.players.toLocaleString()]})]}):null},_e=e=>{let{data:a,isLoading:t=!1,height:s=300,showLegend:l=!0,error:c=null,onRetry:x,sx:m,emptyStateMessage:h="No game data available",errorFallback:u,valueKey:g="revenue",nameKey:j="name"}=e;const p=(0,r.A)(),[y,A]=(0,n.useState)("chart"),v=(0,n.useMemo)((()=>a&&0!==a.length?a.map((e=>({name:e.name,revenue:e.revenue,players:e.players,category:e.category}))):[]),[a]),b=(0,n.useMemo)((()=>[p.palette.primary.main,p.palette.primary.light,p.palette.secondary.main,p.palette.secondary.light,p.palette.info.main,p.palette.info.light,p.palette.success.main,p.palette.success.light,p.palette.warning.main,p.palette.warning.light]),[p]),f=(0,n.useMemo)((()=>[{id:"name",label:"Game Name",align:"left"},{id:"category",label:"Category",align:"left"},{id:"revenue",label:"Revenue",align:"right",format:e=>ge(e)},{id:"players",label:"Players",align:"right",format:e=>e.toLocaleString()}]),[]);return t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...m},children:(0,F.jsx)(o.A,{})}):c?u?u(c):(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...m},children:(0,F.jsxs)(d.A,{variant:"body1",color:"error",children:["Error loading games data: ",c.message,x&&(0,F.jsx)(i.A,{component:"span",sx:{ml:2,cursor:"pointer",textDecoration:"underline"},onClick:x,children:"Retry"})]})}):a&&0!==a.length?(0,F.jsxs)(i.A,{sx:{width:"100%",...m},children:[(0,F.jsx)(i.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,F.jsxs)(Q.A,{value:y,onChange:(e,a)=>{A(a)},"aria-label":"view mode tabs",children:[(0,F.jsx)(X.A,{label:"Chart",value:"chart"}),(0,F.jsx)(X.A,{label:"Table",value:"table"})]})}),"chart"===y?(0,F.jsx)(i.A,{sx:{width:"100%",height:s},children:(0,F.jsx)(we.u,{children:(0,F.jsxs)(Be.E,{data:v,margin:{top:20,right:30,left:20,bottom:70},children:[(0,F.jsx)(Se.d,{strokeDasharray:"3 3"}),(0,F.jsx)(Ce.W,{dataKey:"name",angle:-45,textAnchor:"end",height:70,tick:{fontSize:12}}),(0,F.jsx)(De.h,{tickFormatter:e=>`\xa3${e.toLocaleString()}`,tick:{fontSize:12}}),(0,F.jsx)(Re.m,{content:(0,F.jsx)(Ze,{})}),l&&(0,F.jsx)(Me.s,{}),(0,F.jsx)(Le.y,{dataKey:"revenue",name:"Revenue",radius:[4,4,0,0],children:v.map(((e,a)=>(0,F.jsx)($e.f,{fill:b[a%b.length]},`cell-${a}`)))})]})})}):(0,F.jsx)(He,{data:a,columns:f,height:s,rowHeight:53,loading:t,emptyMessage:"No games data available"})]}):(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...m},children:(0,F.jsx)(d.A,{variant:"body1",color:"text.secondary",children:h})})},Je=(0,n.memo)(_e),qe=e=>{let{data:a,loading:t,error:s,title:r="Performance Metrics",timePeriod:l="week",onTimePeriodChange:o,sx:c}=e;const x=a||{revenueByDay:[],playersByGame:[]},m=(0,n.useMemo)((()=>x.revenueByDay.map((e=>({date:e.day,revenue:e.value})))),[x.revenueByDay]),h=(0,n.useMemo)((()=>x.playersByGame.map(((e,a)=>({id:`game-${a}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Unknown"})))),[x.playersByGame]);return s?(0,F.jsx)(te,{message:`Error loading charts: ${s.message}`,icon:(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main"}})}):(0,F.jsx)(_,{fallback:(0,F.jsx)(te,{message:"Error displaying charts"}),children:(0,F.jsxs)(i.A,{sx:{mb:4,...c},children:[(0,F.jsx)(d.A,{variant:"h5",sx:{mb:2},children:r}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsx)(be,{title:"Revenue Trends",action:(0,F.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,F.jsxs)(A.A,{size:"small",sx:{minWidth:120},children:[(0,F.jsx)(v.A,{id:"time-period-label",children:"Period"}),(0,F.jsxs)(b.A,{labelId:"time-period-label",id:"time-period-select",value:l,label:"Period",onChange:e=>{o&&o(e.target.value)},children:[(0,F.jsx)(f.A,{value:"day",children:"Day"}),(0,F.jsx)(f.A,{value:"week",children:"Week"}),(0,F.jsx)(f.A,{value:"month",children:"Month"}),(0,F.jsx)(f.A,{value:"quarter",children:"Quarter"})]})]})}),children:t?(0,F.jsx)(i.A,{sx:{p:3},children:(0,F.jsx)(ve.A,{variant:"rectangular",height:300})}):(0,F.jsx)(Ee,{data:m,isLoading:t})})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsx)(be,{title:"Player Distribution by Game",children:t?(0,F.jsx)(i.A,{sx:{p:3},children:(0,F.jsx)(ve.A,{variant:"rectangular",height:300})}):(0,F.jsx)(Je,{data:h,isLoading:t})})})]})]})})},Ye=(0,n.memo)(qe);var Qe=t(41132),Xe=t(92577);const ea=e=>{let{data:a,isLoading:t=!1,maxHeight:n=400,showHeader:s=!0}=e;const l=(0,r.A)(),o=e=>{switch(e.toLowerCase()){case"completed":case"success":return l.palette.success.main;case"pending":case"processing":return l.palette.warning.main;case"failed":case"declined":return l.palette.error.main;case"refunded":return l.palette.info.main;default:return l.palette.grey[500]}},c=e=>{switch(e.toLowerCase()){case"deposit":return l.palette.success.main;case"withdrawal":return l.palette.error.main;case"bonus":return l.palette.info.main;case"wager":return l.palette.warning.main;case"win":return l.palette.success.light;default:return l.palette.grey[500]}};return t?(0,F.jsx)(Ne.A,{component:k.A,sx:{maxHeight:n},children:(0,F.jsxs)(We.A,{stickyHeader:!0,size:"small",children:[s&&(0,F.jsx)(Oe.A,{children:(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:"Player"}),(0,F.jsx)(Fe.A,{children:"Type"}),(0,F.jsx)(Fe.A,{align:"right",children:"Amount"}),(0,F.jsx)(Fe.A,{children:"Date"}),(0,F.jsx)(Fe.A,{children:"Status"})]})}),(0,F.jsx)(Ke.A,{children:Array.from(new Array(5)).map(((e,a)=>(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:(0,F.jsx)(ve.A,{width:120})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(ve.A,{width:80})}),(0,F.jsx)(Fe.A,{align:"right",children:(0,F.jsx)(ve.A,{width:60})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(ve.A,{width:100})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(ve.A,{width:80})})]},a)))})]})}):a&&0!==a.length?(0,F.jsx)(Ne.A,{component:k.A,sx:{maxHeight:n},children:(0,F.jsxs)(We.A,{stickyHeader:!0,size:"small",children:[s&&(0,F.jsx)(Oe.A,{children:(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:"Player"}),(0,F.jsx)(Fe.A,{children:"Type"}),(0,F.jsx)(Fe.A,{align:"right",children:"Amount"}),(0,F.jsx)(Fe.A,{children:"Date"}),(0,F.jsx)(Fe.A,{children:"Status"})]})}),(0,F.jsx)(Ke.A,{children:a.map((e=>(0,F.jsxs)(Ge.A,{hover:!0,children:[(0,F.jsx)(Fe.A,{children:(0,F.jsx)(d.A,{variant:"body2",noWrap:!0,sx:{maxWidth:150},children:e.playerName})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(S.A,{label:e.type,size:"small",sx:{bgcolor:`${c(e.type)}20`,color:c(e.type),fontWeight:"medium",fontSize:"0.75rem"}})}),(0,F.jsx)(Fe.A,{align:"right",children:(0,F.jsx)(d.A,{variant:"body2",fontWeight:"medium",color:"deposit"===e.type.toLowerCase()||"win"===e.type.toLowerCase()?"success.main":"withdrawal"===e.type.toLowerCase()?"error.main":"text.primary",children:ge(e.amount,e.currency)})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",children:pe(e.timestamp)})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(S.A,{label:e.status,size:"small",sx:{bgcolor:`${o(e.status)}20`,color:o(e.status),fontWeight:"medium",fontSize:"0.75rem"}})})]},e.id)))})]})}):(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:(0,F.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"No transaction data available"})})},aa=(0,n.memo)(ea),ta=e=>{let{data:a,isLoading:t=!1,onDownload:s=()=>{},onSettings:r=()=>{}}=e;const l=(0,n.useMemo)((()=>a||[]),[a]);return(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Recent Transactions"}),(0,F.jsxs)(i.A,{children:[(0,F.jsx)(z.A,{title:"Download report",children:(0,F.jsx)(C.A,{size:"small",sx:{mr:1},onClick:s,"aria-label":"Download transactions report",children:(0,F.jsx)(Qe.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Settings",children:(0,F.jsx)(C.A,{size:"small",onClick:r,"aria-label":"Transactions settings",children:(0,F.jsx)(Xe.A,{fontSize:"small"})})})]})]}),(0,F.jsx)(be,{children:t&&0===l.length?(0,F.jsx)(i.A,{sx:{p:3},children:(0,F.jsx)(ve.A,{variant:"rectangular",height:300})}):l.length?(0,F.jsx)(aa,{data:l,isLoading:t,errorFallback:e=>(0,F.jsx)(te,{message:`Error loading transactions: ${e.message}`,icon:(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main"}})})}):(0,F.jsx)(te,{message:"No recent transactions available",icon:(0,F.jsx)(ne.A,{sx:{fontSize:48}})})})]})},na=e=>{var a,t,s,r,l,o,c;let{dashboardData:x,isLoading:m=!1,error:h=null}=e;const[u,g]=(0,n.useState)("week");if(h)return(0,F.jsxs)(i.A,{sx:{p:3,textAlign:"center"},children:[(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,F.jsx)(d.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Dashboard Data"}),(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",children:h.message||"An unexpected error occurred. Please try again later."})]});const j={revenue:(null===x||void 0===x||null===(a=x.stats)||void 0===a?void 0:a.revenue)||{value:0,change:0},players:(null===x||void 0===x||null===(t=x.stats)||void 0===t?void 0:t.players)||{value:0,change:0},games:{value:(null===x||void 0===x||null===(s=x.topGames)||void 0===s?void 0:s.length)||0,change:0},engagement:{value:(null===x||void 0===x||null===(r=x.stats)||void 0===r?void 0:r.engagementRate)||0,change:(null===x||void 0===x||null===(l=x.stats)||void 0===l?void 0:l.engagementChange)||0}},p={revenueByDay:((null===x||void 0===x||null===(o=x.charts)||void 0===o?void 0:o.revenueByDay)||[]).map((e=>({day:e.date,value:e.value}))),playersByGame:((null===x||void 0===x||null===(c=x.charts)||void 0===c?void 0:c.playersByGame)||[]).map((e=>({game:e.name,value:e.players})))};return(0,F.jsx)(_,{fallback:(0,F.jsx)(te,{message:"Something went wrong loading the dashboard",icon:(0,F.jsx)(H.A,{})}),children:(0,F.jsxs)(i.A,{children:[(0,F.jsx)(Ae,{stats:j,loading:m,error:h,title:"Key Performance Indicators"}),(0,F.jsx)(Ye,{data:p,loading:m,error:h,title:"Performance Analytics",timePeriod:u,onTimePeriodChange:e=>{g(e),console.log(`Time period changed to ${e}`)}}),(0,F.jsx)(ta,{data:null===x||void 0===x?void 0:x.recentTransactions,isLoading:m,onDownload:()=>console.log("Download transactions report"),onSettings:()=>console.log("Open transactions settings")})]})})},sa=(0,n.memo)(na);var ra=t(87890),la=t(4240);const ia=e=>{var a,t;let{dashboardData:s,isLoading:l=!1,error:o=null,theme:c}=e;const x=(0,r.A)(),m=c||x,[h,u]=(0,n.useState)("line"),[g,j]=(0,n.useState)("week"),p=((0,n.useMemo)((()=>[m.palette.primary.main,m.palette.secondary.main,m.palette.success.main,m.palette.error.main,m.palette.warning.main,m.palette.info.main]),[m.palette]),(0,n.useMemo)((()=>{var e;return(null===s||void 0===s||null===(e=s.charts)||void 0===e?void 0:e.revenueByDay)||[{day:"Mon",value:2100},{day:"Tue",value:2400},{day:"Wed",value:1800},{day:"Thu",value:2200},{day:"Fri",value:2600},{day:"Sat",value:3100},{day:"Sun",value:2500}]}),[null===s||void 0===s||null===(a=s.charts)||void 0===a?void 0:a.revenueByDay])),y=(0,n.useMemo)((()=>{var e;return(null===s||void 0===s||null===(e=s.charts)||void 0===e?void 0:e.playersByGame)||[{game:"Poker",value:450},{game:"Slots",value:380},{game:"Roulette",value:240},{game:"Blackjack",value:190},{game:"Baccarat",value:165}]}),[null===s||void 0===s||null===(t=s.charts)||void 0===t?void 0:t.playersByGame]),w=(0,n.useMemo)((()=>(null===s||void 0===s?void 0:s.kpis)||{averageSessionTime:45,conversionRate:3.2,churnRate:5.7,revenuePerUser:87.5}),[null===s||void 0===s?void 0:s.kpis]),k=(0,n.useMemo)((()=>p.map((e=>({date:e.day,revenue:e.value})))),[p]);if(o)return(0,F.jsxs)(i.A,{sx:{p:3,textAlign:"center"},children:[(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,F.jsx)(d.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Performance Data"}),(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",children:o.message||"An unexpected error occurred. Please try again later."})]});return(0,F.jsx)(_,{fallback:(0,F.jsx)(te,{message:"Something went wrong loading the performance data",icon:(0,F.jsx)(H.A,{})}),children:(0,F.jsxs)(i.A,{children:[(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Performance Metrics"}),(0,F.jsxs)(i.A,{children:[(0,F.jsx)(z.A,{title:"Download report",children:(0,F.jsx)(C.A,{size:"small",sx:{mr:1},children:(0,F.jsx)(Qe.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Settings",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(Xe.A,{fontSize:"small"})})})]})]}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsx)(be,{title:"Revenue Trends",action:(0,F.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,F.jsxs)(A.A,{size:"small",sx:{minWidth:120},children:[(0,F.jsx)(v.A,{id:"time-period-label",children:"Period"}),(0,F.jsxs)(b.A,{labelId:"time-period-label",id:"time-period-select",value:g,label:"Period",onChange:e=>{j(e.target.value)},children:[(0,F.jsx)(f.A,{value:"day",children:"Day"}),(0,F.jsx)(f.A,{value:"week",children:"Week"}),(0,F.jsx)(f.A,{value:"month",children:"Month"}),(0,F.jsx)(f.A,{value:"quarter",children:"Quarter"})]})]})}),children:l&&0===p.length?(0,F.jsx)(i.A,{sx:{p:3},children:(0,F.jsx)(ve.A,{variant:"rectangular",height:300})}):(0,F.jsx)(Ee,{data:k,isLoading:l})})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsx)(be,{title:"Player Distribution by Game",children:l&&0===y.length?(0,F.jsx)(i.A,{sx:{p:3},children:(0,F.jsx)(ve.A,{variant:"rectangular",height:300})}):(0,F.jsx)(Je,{data:y.map(((e,a)=>({id:`game-${a}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Game"}))),isLoading:l,valueKey:"revenue",nameKey:"name",emptyStateMessage:"No player distribution data available"})})})]})]}),(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,F.jsx)(d.A,{variant:"h5",children:"Key Performance Indicators"})}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Avg. Session Time",value:`${w.averageSessionTime} min`,icon:(0,F.jsx)(le.A,{}),loading:l,description:"Average time users spend in a single session"})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Conversion Rate",value:`${w.conversionRate}%`,icon:(0,F.jsx)(de.A,{}),loading:l,description:"Percentage of visitors who register"})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Churn Rate",value:`${w.churnRate}%`,icon:(0,F.jsx)(ce.A,{}),loading:l,description:"Percentage of users who stop using the platform",isInverse:!0})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,F.jsx)(ue,{title:"Revenue Per User",value:ge(w.revenuePerUser),icon:(0,F.jsx)(ne.A,{}),loading:l,description:"Average revenue generated per active user"})})]})]})]})})};var oa=t(81045),da=t(19090),ca=t(57566),xa=t(47260),ma=t(95540),ha=t(63471);const ua=e=>{let{dashboardData:a,isLoading:t=!1,theme:s}=e;const l=(0,r.A)(),c=s||l,[m,h]=(0,n.useState)(0),[u,g]=(0,n.useState)(5),j=(0,n.useMemo)((()=>[c.palette.primary.main,c.palette.secondary.main,c.palette.success.main,c.palette.error.main,c.palette.warning.main,c.palette.info.main]),[c.palette]),p=(null===a||void 0===a?void 0:a.playerRegistrations)||[{date:"2023-05-01",count:45},{date:"2023-05-02",count:38},{date:"2023-05-03",count:52},{date:"2023-05-04",count:41},{date:"2023-05-05",count:37},{date:"2023-05-06",count:29},{date:"2023-05-07",count:33}],y=(null===a||void 0===a?void 0:a.playerDemographics)||[{name:"Male",value:65},{name:"Female",value:30},{name:"Other",value:5}],A=(null===a||void 0===a?void 0:a.playerAgeData)||[{age:"18-24",count:120},{age:"25-34",count:280},{age:"35-44",count:210},{age:"45-54",count:150},{age:"55+",count:90}],v=(null===a||void 0===a?void 0:a.recentPlayers)||[{id:1,name:"John Doe",registeredAt:"2023-05-01T08:30:00Z",status:"active",country:"USA"},{id:2,name:"Jane Smith",registeredAt:"2023-05-02T10:15:00Z",status:"active",country:"Canada"},{id:3,name:"Mike Johnson",registeredAt:"2023-05-03T14:45:00Z",status:"inactive",country:"UK"},{id:4,name:"Lisa Brown",registeredAt:"2023-05-04T09:20:00Z",status:"active",country:"Australia"},{id:5,name:"Robert Wilson",registeredAt:"2023-05-05T16:10:00Z",status:"pending",country:"Germany"}],b=e=>{if(!e)return"";return new Date(e).toLocaleDateString()},f=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"success";case"inactive":return"error";case"pending":return"warning";default:return"default"}};return(0,F.jsxs)(i.A,{children:[(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Player Acquisition"}),(0,F.jsxs)(i.A,{children:[(0,F.jsx)(z.A,{title:"Download report",children:(0,F.jsx)(C.A,{size:"small",sx:{mr:1},children:(0,F.jsx)(Qe.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Settings",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(Xe.A,{fontSize:"small"})})})]})]}),(0,F.jsx)(k.A,{sx:{p:3,borderRadius:2},children:t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,F.jsx)(o.A,{})}):(0,F.jsx)(we.u,{width:"100%",height:300,children:(0,F.jsxs)(Be.E,{data:p,children:[(0,F.jsx)(Se.d,{strokeDasharray:"3 3"}),(0,F.jsx)(Ce.W,{dataKey:"date",tickFormatter:b}),(0,F.jsx)(De.h,{}),(0,F.jsx)(Re.m,{formatter:e=>[e,"New Players"],labelFormatter:b}),(0,F.jsx)(Me.s,{}),(0,F.jsx)(Le.y,{dataKey:"count",name:"New Players",fill:c.palette.primary.main})]})})})]}),(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,F.jsx)(d.A,{variant:"h5",children:"Player Demographics"})}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsxs)(k.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,F.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Gender Distribution"}),t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,F.jsx)(o.A,{})}):(0,F.jsx)(we.u,{width:"100%",height:250,children:(0,F.jsxs)(ra.r,{children:[(0,F.jsx)(la.F,{data:y,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:a,percent:t}=e;return`${a}: ${(100*t).toFixed(0)}%`},children:y.map(((e,a)=>(0,F.jsx)($e.f,{fill:j[a%j.length]},`cell-${a}`)))}),(0,F.jsx)(Re.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,F.jsx)(Me.s,{})]})})]})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsxs)(k.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,F.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Age Distribution"}),t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,F.jsx)(o.A,{})}):(0,F.jsx)(we.u,{width:"100%",height:250,children:(0,F.jsxs)(Be.E,{data:A,children:[(0,F.jsx)(Se.d,{strokeDasharray:"3 3"}),(0,F.jsx)(Ce.W,{dataKey:"age"}),(0,F.jsx)(De.h,{}),(0,F.jsx)(Re.m,{formatter:e=>[e,"Players"]}),(0,F.jsx)(Me.s,{}),(0,F.jsx)(Le.y,{dataKey:"count",name:"Players",fill:c.palette.secondary.main})]})})]})})]})]}),(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Player List"}),(0,F.jsx)(x.A,{variant:"contained",startIcon:(0,F.jsx)(ca.A,{}),size:"small",children:"Add Player"})]}),(0,F.jsx)(k.A,{sx:{borderRadius:2},children:t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,F.jsx)(o.A,{})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Ne.A,{children:(0,F.jsxs)(We.A,{children:[(0,F.jsx)(Oe.A,{children:(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:"Player"}),(0,F.jsx)(Fe.A,{children:"Registration Date"}),(0,F.jsx)(Fe.A,{children:"Status"}),(0,F.jsx)(Fe.A,{children:"Country"}),(0,F.jsx)(Fe.A,{align:"right",children:"Actions"})]})}),(0,F.jsx)(Ke.A,{children:v.slice(m*u,m*u+u).map((e=>{return(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(oa.A,{sx:{mr:2,bgcolor:c.palette.primary.main},children:(a=e.name,a?a.split(" ").map((e=>e[0])).join("").toUpperCase():"")}),(0,F.jsx)(d.A,{variant:"body1",children:e.name})]})}),(0,F.jsx)(Fe.A,{children:b(e.registeredAt)}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(S.A,{label:e.status,color:f(e.status),size:"small"})}),(0,F.jsx)(Fe.A,{children:e.country}),(0,F.jsxs)(Fe.A,{align:"right",children:[(0,F.jsx)(z.A,{title:"View",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(xa.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Edit",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(ma.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Delete",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(ha.A,{fontSize:"small"})})})]})]},e.id);var a}))})]})}),(0,F.jsx)(da.A,{rowsPerPageOptions:[5,10,25],component:"div",count:v.length,rowsPerPage:u,page:m,onPageChange:(e,a)=>{h(a)},onRowsPerPageChange:e=>{g(parseInt(e.target.value,10)),h(0)}})]})})]})]})};var ga=t(36591),ja=t(16682),pa=t(22505),ya=t(64960),Aa=t(65514),va=t(49866),ba=t(53721),fa=t(35258);const wa=e=>{let{dashboardData:a,isLoading:t=!1,theme:s}=e;const l=(0,r.A)(),c=s||l,[m,h]=(0,n.useState)(0),[u,g]=(0,n.useState)(5),j=[c.palette.primary.main,c.palette.secondary.main,c.palette.success.main,c.palette.error.main,c.palette.warning.main,c.palette.info.main],p=(null===a||void 0===a?void 0:a.gameCategoryData)||[{name:"Slots",value:45},{name:"Table Games",value:25},{name:"Poker",value:15},{name:"Live Casino",value:10},{name:"Specialty",value:5}],y=(null===a||void 0===a?void 0:a.gamePerformanceData)||[{name:"Engagement",game1:80,game2:90,game3:70},{name:"Retention",game1:85,game2:75,game3:80},{name:"Revenue",game1:90,game2:80,game3:85},{name:"Popularity",game1:70,game2:85,game3:75},{name:"Growth",game1:75,game2:70,game3:90}],A=(null===a||void 0===a?void 0:a.topGames)||[{id:1,name:"Poker Pro",revenue:3200.56,players:432,rating:4.5,category:"Poker"},{id:2,name:"Blackjack Masters",revenue:2800.32,players:387,rating:4.2,category:"Table Games"},{id:3,name:"Slots Royale",revenue:2300.18,players:356,rating:4.7,category:"Slots"},{id:4,name:"Roulette King",revenue:1900.45,players:289,rating:4,category:"Table Games"},{id:5,name:"Baccarat Elite",revenue:1450.67,players:218,rating:3.8,category:"Table Games"}],v=(null===a||void 0===a?void 0:a.featuredGames)||[{id:1,name:"Poker Pro",description:"The ultimate poker experience with multiple game modes and tournaments.",image:"https://via.placeholder.com/300x150",category:"Poker",rating:4.5,players:432},{id:2,name:"Slots Royale",description:"Exciting slot machine game with progressive jackpots and bonus rounds.",image:"https://via.placeholder.com/300x150",category:"Slots",rating:4.7,players:356},{id:3,name:"Blackjack Masters",description:"Classic blackjack with advanced features and realistic gameplay.",image:"https://via.placeholder.com/300x150",category:"Table Games",rating:4.2,players:387}];return(0,F.jsxs)(i.A,{children:[(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Featured Games"}),(0,F.jsx)(x.A,{variant:"contained",startIcon:(0,F.jsx)(pa.A,{}),size:"small",children:"Add Game"})]}),(0,F.jsx)(P.Ay,{container:!0,spacing:3,children:v.map((e=>(0,F.jsx)(P.Ay,{item:!0,xs:12,md:4,children:(0,F.jsxs)(ie.A,{sx:{height:"100%"},children:[(0,F.jsx)(ga.A,{component:"img",height:"140",image:e.image,alt:e.name}),(0,F.jsxs)(oe.A,{children:[(0,F.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,F.jsx)(S.A,{label:e.category,size:"small",color:"primary",sx:{mr:1}}),(0,F.jsx)(ja.A,{value:e.rating,precision:.5,size:"small",readOnly:!0})]}),(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,F.jsxs)(d.A,{variant:"body2",children:[(0,F.jsx)("strong",{children:e.players})," active players"]}),(0,F.jsx)(x.A,{size:"small",variant:"outlined",children:"Details"})]})]})]})},e.id)))})]}),(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,F.jsx)(d.A,{variant:"h5",children:"Game Analytics"}),(0,F.jsxs)(i.A,{children:[(0,F.jsx)(z.A,{title:"Download report",children:(0,F.jsx)(C.A,{size:"small",sx:{mr:1},children:(0,F.jsx)(Qe.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Settings",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(Xe.A,{fontSize:"small"})})})]})]}),(0,F.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsxs)(k.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,F.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Game Category Distribution"}),t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,F.jsx)(o.A,{})}):(0,F.jsx)(we.u,{width:"100%",height:300,children:(0,F.jsxs)(ra.r,{children:[(0,F.jsx)(la.F,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:a,percent:t}=e;return`${a}: ${(100*t).toFixed(0)}%`},children:p.map(((e,a)=>(0,F.jsx)($e.f,{fill:j[a%j.length]},`cell-${a}`)))}),(0,F.jsx)(Re.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,F.jsx)(Me.s,{})]})})]})}),(0,F.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,F.jsxs)(k.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,F.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Game Performance Comparison"}),t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,F.jsx)(o.A,{})}):(0,F.jsx)(we.u,{width:"100%",height:300,children:(0,F.jsxs)(ya.V,{outerRadius:90,data:y,children:[(0,F.jsx)(Aa.z,{}),(0,F.jsx)(va.r,{dataKey:"name"}),(0,F.jsx)(ba.E,{angle:30,domain:[0,100]}),(0,F.jsx)(fa.V,{name:"Poker Pro",dataKey:"game1",stroke:c.palette.primary.main,fill:c.palette.primary.main,fillOpacity:.6}),(0,F.jsx)(fa.V,{name:"Slots Royale",dataKey:"game2",stroke:c.palette.secondary.main,fill:c.palette.secondary.main,fillOpacity:.6}),(0,F.jsx)(fa.V,{name:"Blackjack Masters",dataKey:"game3",stroke:c.palette.success.main,fill:c.palette.success.main,fillOpacity:.6}),(0,F.jsx)(Me.s,{}),(0,F.jsx)(Re.m,{})]})})]})})]})]}),(0,F.jsxs)(i.A,{sx:{mb:4},children:[(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,F.jsx)(d.A,{variant:"h5",children:"Game Performance"})}),(0,F.jsx)(k.A,{sx:{borderRadius:2},children:t?(0,F.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,F.jsx)(o.A,{})}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Ne.A,{children:(0,F.jsxs)(We.A,{children:[(0,F.jsx)(Oe.A,{children:(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:"Game"}),(0,F.jsx)(Fe.A,{children:"Category"}),(0,F.jsx)(Fe.A,{children:"Rating"}),(0,F.jsx)(Fe.A,{align:"right",children:"Players"}),(0,F.jsx)(Fe.A,{align:"right",children:"Revenue"}),(0,F.jsx)(Fe.A,{align:"right",children:"Actions"})]})}),(0,F.jsx)(Ke.A,{children:A.slice(m*u,m*u+u).map((e=>{return(0,F.jsxs)(Ge.A,{children:[(0,F.jsx)(Fe.A,{children:(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(re.A,{sx:{mr:1,color:c.palette.primary.main}}),(0,F.jsx)(d.A,{variant:"body1",children:e.name})]})}),(0,F.jsx)(Fe.A,{children:(0,F.jsx)(S.A,{label:e.category,size:"small",color:"primary",variant:"outlined"})}),(0,F.jsx)(Fe.A,{children:(0,F.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,F.jsx)(ja.A,{value:e.rating,precision:.5,size:"small",readOnly:!0}),(0,F.jsxs)(d.A,{variant:"body2",sx:{ml:1},children:["(",e.rating,")"]})]})}),(0,F.jsx)(Fe.A,{align:"right",children:e.players.toLocaleString()}),(0,F.jsx)(Fe.A,{align:"right",children:(a=e.revenue,a?`$${a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00")}),(0,F.jsxs)(Fe.A,{align:"right",children:[(0,F.jsx)(z.A,{title:"View",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(xa.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Edit",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(ma.A,{fontSize:"small"})})}),(0,F.jsx)(z.A,{title:"Delete",children:(0,F.jsx)(C.A,{size:"small",children:(0,F.jsx)(ha.A,{fontSize:"small"})})})]})]},e.id);var a}))})]})}),(0,F.jsx)(da.A,{rowsPerPageOptions:[5,10,25],component:"div",count:A.length,rowsPerPage:u,page:m,onPageChange:(e,a)=>{h(a)},onRowsPerPageChange:e=>{g(parseInt(e.target.value,10)),h(0)}})]})})]})]})},ka=e=>{let{activeTab:a,onTabChange:t,dashboardData:s,isLoading:r,error:l,theme:o,sx:d}=e;const c=(0,n.useCallback)(((e,a)=>{t&&t(e,a)}),[t]),x=(0,n.useMemo)((()=>[{id:0,label:"Dashboard Overview",component:(0,F.jsx)(sa,{dashboardData:s,isLoading:r,error:l})},{id:1,label:"Performance Metrics",component:(0,F.jsx)(ia,{dashboardData:s,isLoading:r,error:l})},{id:2,label:"Player Analytics",component:(0,F.jsx)(ua,{dashboardData:s,isLoading:r})},{id:3,label:"Game Analytics",component:(0,F.jsx)(wa,{dashboardData:s,isLoading:r})}]),[s,r,l,o]),m=(0,n.useCallback)((e=>(0,F.jsx)(te,{message:e,icon:(0,F.jsx)(H.A,{sx:{fontSize:48,color:"error.main"}})})),[]);return(0,F.jsxs)(i.A,{sx:d,children:[(0,F.jsx)(i.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,F.jsx)(Q.A,{value:a,onChange:c,"aria-label":"dashboard tabs",role:"tablist",children:x.map((e=>(0,F.jsx)(X.A,{label:e.label.split(" ")[0],id:`tab-${e.id}`,"aria-controls":`tabpanel-${e.id}`,tabIndex:a===e.id?0:-1},e.id)))})}),x.map((e=>(0,F.jsx)(ee,{value:a,index:e.id,label:e.label,children:(0,F.jsx)(_,{fallback:m(`Something went wrong loading the ${e.label.toLowerCase()}`),children:e.component})},e.id)))]})},Sa=(0,n.memo)(ka);var Ca=t(51292),Da=t(60338),Ra=t(68577),Pa=t(14256),za=t(74802);const Ma=e=>{let{testScenario:a,onTestScenarioChange:t,onClose:n}=e;return(0,F.jsx)(ie.A,{sx:{mb:3,border:"1px dashed #999"},children:(0,F.jsxs)(oe.A,{children:[(0,F.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,F.jsx)(d.A,{variant:"h6",color:"primary",children:"Test Panel"}),(0,F.jsx)(C.A,{onClick:n,size:"small",children:(0,F.jsx)(za.A,{fontSize:"small"})})]}),(0,F.jsx)(d.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"This panel allows you to simulate different data scenarios for testing purposes."}),(0,F.jsx)(R.A,{sx:{my:2}}),(0,F.jsxs)(A.A,{component:"fieldset",children:[(0,F.jsx)(Ca.A,{component:"legend",children:"Data Scenario"}),(0,F.jsxs)(Da.A,{"aria-label":"test-scenario",name:"test-scenario",value:a,onChange:t,children:[(0,F.jsx)(Ra.A,{value:"normal",control:(0,F.jsx)(Pa.A,{}),label:"Normal - Fetch real data from API"}),(0,F.jsx)(Ra.A,{value:"empty",control:(0,F.jsx)(Pa.A,{}),label:"Empty - No data available"}),(0,F.jsx)(Ra.A,{value:"partial",control:(0,F.jsx)(Pa.A,{}),label:"Partial - Some data missing"}),(0,F.jsx)(Ra.A,{value:"large",control:(0,F.jsx)(Pa.A,{}),label:"Large - Large dataset for performance testing"}),(0,F.jsx)(Ra.A,{value:"error",control:(0,F.jsx)(Pa.A,{}),label:"Error - Simulate API error"}),(0,F.jsx)(Ra.A,{value:"loading",control:(0,F.jsx)(Pa.A,{}),label:"Loading - Perpetual loading state"})]})]}),(0,F.jsx)(i.A,{sx:{mt:2,p:1,bgcolor:"info.light",borderRadius:1},children:(0,F.jsx)(d.A,{variant:"caption",color:"info.contrastText",children:"Note: This panel is for development and testing purposes only and should be removed in production."})})]})})},Ia=()=>{const e=(0,r.A)(),{user:a}=(0,p.h)(),[t,A]=((0,s.wA)(),(0,n.useState)(0)),[v,b]=(0,n.useState)(!1),[f,w]=(0,n.useState)(null),[k,S]=(0,n.useState)(null),[C,D]=(0,n.useState)(!1),[R,P]=(0,n.useState)(null),[z,M]=(0,n.useState)("normal"),[I,T]=(0,n.useState)(!1),[E,B]=(0,n.useState)({start:(0,h.A)((0,u.A)(new Date,30)),end:(0,g.A)(new Date)}),[L,$]=(0,n.useState)({gameCategory:"",playerStatus:"",country:"",minRevenue:"",maxRevenue:""});(0,n.useEffect)((()=>{K()}),[]);const G=()=>{const e={gameCategory:"",playerStatus:"",country:"",minRevenue:"",maxRevenue:""};$(e),K(E,e)},N=()=>{P(null)},K=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;if(b(!0),w(null),"normal"!==z){if(setTimeout((()=>{switch(z){case"empty":S({stats:{revenue:{value:0,change:0,period:"vs last week"},players:{value:0,change:0,period:"vs last week"},games:{value:0,change:0,period:"vs last week"},engagement:{value:0,change:0,period:"vs last week"}},topGames:[],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[],playersByGame:[]}}),b(!1);break;case"partial":S({stats:{revenue:{value:8765.43,change:5.2,period:"vs last week"},players:{value:876,change:-2.1,period:"vs last week"},games:{value:45,change:3.5,period:"vs last week"},engagement:{value:67.8,change:1.2,period:"vs last week"}},topGames:[{id:"poker-pro",name:"Poker Pro",category:"poker",revenue:2100.56,players:321},{id:"blackjack-masters",name:"Blackjack Masters",category:"table",revenue:1800.32,players:287}],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[{day:"Mon",value:1100},{day:"Tue",value:1400},{day:"Wed",value:1200}],playersByGame:[{game:"Poker",value:321},{game:"Blackjack",value:287}]}}),b(!1);break;case"large":S((()=>{const e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=[],t=[],n=[];for(let r=0;r<100;r++){const t=e[r%7],n=new Date;n.setDate(n.getDate()-r),a.push({day:t,date:n.toISOString().split("T")[0],value:Math.floor(5e3*Math.random())+1e3})}for(let r=0;r<1e3;r++){const e=new Date;e.setMinutes(e.getMinutes()-30*r),t.push({id:`tx-${r}`,playerId:`player-${Math.floor(100*Math.random())+1}`,playerName:`Player ${Math.floor(100*Math.random())+1}`,amount:Math.floor(1e3*Math.random())/10,type:["deposit","withdrawal","bet","win"][Math.floor(4*Math.random())],timestamp:e.toISOString(),status:["completed","pending","failed"][Math.floor(3*Math.random())]})}const s=["Slots","Poker","Blackjack","Roulette","Baccarat","Craps","Bingo"];for(let r=0;r<100;r++){const e=s[Math.floor(Math.random()*s.length)];n.push({id:`game-${r}`,name:`${e} ${r+1}`,revenue:Math.floor(1e4*Math.random())+500,players:Math.floor(1e3*Math.random())+50,sessions:Math.floor(5e3*Math.random())+100,category:e.toLowerCase()})}return{stats:{revenue:{value:123456.78,change:25.4,period:"vs last week"},players:{value:12345,change:15.7,period:"vs last week"},games:{value:245,change:32.8,period:"vs last week"},engagement:{value:78.5,change:18.2,period:"vs last week"}},topGames:n.slice(0,20),recentTransactions:t.slice(0,50),playerRegistrations:a.map((e=>({date:e.date,registrations:Math.floor(200*Math.random())+50,ftd:Math.floor(50*Math.random())+10}))),charts:{revenueByDay:a.slice(0,30),playersByGame:n.slice(0,10).map((e=>({game:e.name,value:e.players})))}}})()),b(!1);break;case"error":const e=(()=>{const e=[{code:"API_ERROR",message:"Failed to connect to API endpoint"},{code:"AUTH_ERROR",message:"Authentication token expired"},{code:"TIMEOUT_ERROR",message:"Request timed out after 30 seconds"},{code:"DATA_ERROR",message:"Invalid data format received from server"},{code:"SERVER_ERROR",message:"Internal server error (500)"}],a=e[Math.floor(Math.random()*e.length)];return{code:a.code,message:a.message,timestamp:(new Date).toISOString()}})();w(new Error(`Error connecting to API: ${e.message}. This is a simulated error for testing.`)),S({stats:{revenue:{value:8765.43,change:5.2,period:"vs last week"},players:{value:876,change:-2.1,period:"vs last week"},games:{value:45,change:3.5,period:"vs last week"},engagement:{value:67.8,change:1.2,period:"vs last week"}},topGames:[{id:"poker-pro",name:"Poker Pro",category:"poker",revenue:2100.56,players:321},{id:"blackjack-masters",name:"Blackjack Masters",category:"table",revenue:1800.32,players:287}],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[{day:"Mon",value:1100},{day:"Tue",value:1400},{day:"Wed",value:1200}],playersByGame:[{game:"Poker",value:321},{game:"Blackjack",value:287}]}}),b(!1);break;case"loading":break;default:b(!1)}}),2e3),"loading"===z)return}else try{var t;const n=null!==e&&void 0!==e&&e.start?(0,j.A)(e.start,"yyyy-MM-dd"):null,s=null!==e&&void 0!==e&&e.end?(0,j.A)(e.end,"yyyy-MM-dd"):null,r={startDate:n,endDate:s,gameCategory:a.gameCategory||void 0,playerStatus:a.playerStatus||void 0,country:a.country||void 0,minRevenue:a.minRevenue?Number(a.minRevenue):void 0,maxRevenue:a.maxRevenue?Number(a.maxRevenue):void 0},l=await O.A.getDashboardStats(r),i=await O.A.getPlayerRegistrations({startDate:n,endDate:s,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),o=await O.A.getRecentTransactions({limit:10,startDate:n,endDate:s,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),d=await O.A.getTopGames({metric:"revenue",limit:5,startDate:n,endDate:s,gameCategory:a.gameCategory||void 0,minRevenue:a.minRevenue?Number(a.minRevenue):void 0,maxRevenue:a.maxRevenue?Number(a.maxRevenue):void 0}),c=await O.A.getCasinoRevenue({startDate:n,endDate:s,gameCategory:a.gameCategory||void 0}),x={stats:l,playerRegistrations:i,recentTransactions:o,topGames:d,casinoRevenue:c,kpis:await O.A.getKpiData({startDate:n,endDate:s,gameCategory:a.gameCategory||void 0,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),charts:{revenueByDay:(null===c||void 0===c||null===(t=c.dailyRevenue)||void 0===t?void 0:t.map((e=>({...e,day:e.day||(0,j.A)(new Date(e.date),"EEE"),value:e.value||e.revenue}))))||[],playersByGame:(null===d||void 0===d?void 0:d.map((e=>({game:e.name,value:e.players}))))||[]}};S(x),b(!1)}catch(f){console.error("Error fetching dashboard data:",f);const a={stats:{revenue:{value:12567.89,change:15.2,period:"vs last week"},players:{value:1432,change:7.5,period:"vs last week"},games:{value:256,change:12.8,period:"vs last week"},engagement:{value:5621,change:-3.2,period:"vs last week"}},topGames:[{name:"Poker Pro",revenue:3200.56,players:432},{name:"Blackjack Masters",revenue:2800.32,players:387},{name:"Slots Royale",revenue:2300.18,players:356},{name:"Roulette King",revenue:1900.45,players:289},{name:"Baccarat Elite",revenue:1450.67,players:218}],charts:{revenueByDay:[{day:"Mon",value:2100},{day:"Tue",value:2400},{day:"Wed",value:1800},{day:"Thu",value:2200},{day:"Fri",value:2600},{day:"Sat",value:3100},{day:"Sun",value:2500}],playersByGame:[{game:"Poker",value:450},{game:"Slots",value:380},{game:"Roulette",value:240},{game:"Blackjack",value:190},{game:"Baccarat",value:165}]},recentTransactions:[{id:1,playerId:101,playerName:"John Doe",amount:100,type:"deposit",timestamp:"2023-05-01T08:30:00Z"},{id:2,playerId:102,playerName:"Jane Smith",amount:50,type:"withdrawal",timestamp:"2023-05-02T10:15:00Z"},{id:3,playerId:103,playerName:"Mike Johnson",amount:75.5,type:"bet",timestamp:"2023-05-03T14:45:00Z"},{id:4,playerId:104,playerName:"Lisa Brown",amount:120.25,type:"win",timestamp:"2023-05-04T09:20:00Z"},{id:5,playerId:105,playerName:"Robert Wilson",amount:200,type:"deposit",timestamp:"2023-05-05T16:10:00Z"}]};w(new Error(`Error connecting to API: ${f.message||"Unknown error"}. Showing mock data instead.`)),S(a),b(!1)}},V=()=>{T(!I)},U=()=>{K()};return v&&!k?(0,F.jsx)(l.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:(0,F.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:8},children:[(0,F.jsx)(o.A,{size:60}),(0,F.jsx)(d.A,{variant:"h6",sx:{mt:2},children:"Loading dashboard..."})]})}):(0,F.jsxs)(l.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[f&&(0,F.jsx)(c.A,{severity:"warning",sx:{mb:3},action:(0,F.jsx)(x.A,{color:"inherit",size:"small",onClick:U,startIcon:(0,F.jsx)(m.A,{}),children:"Retry"}),children:f.message}),(0,F.jsx)(Y,{user:a||void 0,onRefresh:U,onToggleFilters:()=>{D(!C),N()},onFilterReset:G,onToggleTestPanel:V,filterMenuAnchor:R,onFilterMenuClick:e=>{P(e.currentTarget)},onFilterMenuClose:N,showTestPanel:I}),I&&(0,F.jsx)(Ma,{testScenario:z,onTestScenarioChange:e=>{const a=e.target.value;M(a),K()},onClose:V}),(0,F.jsxs)(i.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,F.jsx)(y.A,{startDate:E.start,endDate:E.end,onChange:e=>{e.start&&e.end&&(B({start:e.start,end:e.end}),K({start:e.start,end:e.end},L))},buttonLabel:"Select Date Range"}),(0,F.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Showing data from ",E.start?(0,j.A)(E.start,"MMM d, yyyy"):"all time"," to ",E.end?(0,j.A)(E.end,"MMM d, yyyy"):"present"]})]}),C&&(0,F.jsx)(W,{filters:[{id:"gameCategory",label:"Game Category",type:"select",options:[{value:"casino",label:"Casino"},{value:"sports",label:"Sports"},{value:"poker",label:"Poker"},{value:"bingo",label:"Bingo"},{value:"lottery",label:"Lottery"}]},{id:"playerStatus",label:"Player Status",type:"select",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"new",label:"New"},{value:"vip",label:"VIP"}]},{id:"country",label:"Country",type:"select",options:[{value:"us",label:"United States"},{value:"uk",label:"United Kingdom"},{value:"ca",label:"Canada"},{value:"au",label:"Australia"},{value:"de",label:"Germany"}]},{id:"minRevenue",label:"Min Revenue",type:"number"},{id:"maxRevenue",label:"Max Revenue",type:"number"}],values:L,onChange:(e,a)=>{$((t=>({...t,[e]:a})))},onApply:()=>(K(E,L),void D(!1)),onReset:G,title:"Dashboard Filters"}),(0,F.jsx)(Sa,{activeTab:t,onTabChange:(e,a)=>{A(a)},dashboardData:k,isLoading:v,error:f,theme:e})]})}},72898:(e,a,t)=>{t.d(a,{A:()=>f});var n=t(65043),s=t(11906),r=t(17392),l=t(41020),i=t(85865),o=t(96446),d=t(29598),c=t(58390),x=t(82232),m=t(5780),h=t(46087),u=t(19170),g=t(72128),j=t(86255),p=t(45837),y=t(69525),A=t(3021),v=t(10155),b=t(70579);const f=e=>{let{startDate:a=null,endDate:t=null,onChange:f,buttonLabel:w="Date Range",presets:k=null,showClearButton:S=!0,autoApplyPresets:C=!0,disabled:D=!1,className:R,sx:P}=e;const[z,M]=(0,n.useState)(null),[I,T]=(0,n.useState)(a),[E,B]=(0,n.useState)(t),L=k||[{label:"Today",getValue:()=>({start:(0,m.A)(new Date),end:(0,h.A)(new Date)})},{label:"Yesterday",getValue:()=>({start:(0,m.A)((0,u.A)(new Date,1)),end:(0,h.A)((0,u.A)(new Date,1))})},{label:"Last 7 days",getValue:()=>({start:(0,m.A)((0,u.A)(new Date,6)),end:(0,h.A)(new Date)})},{label:"Last 30 days",getValue:()=>({start:(0,m.A)((0,u.A)(new Date,29)),end:(0,h.A)(new Date)})},{label:"This month",getValue:()=>({start:(0,g.A)(new Date),end:(0,j.A)(new Date)})},{label:"Last month",getValue:()=>{const e=new Date;return e.setMonth(e.getMonth()-1),{start:(0,g.A)(e),end:(0,j.A)(e)}}}],$=()=>{M(null)},G=Boolean(z),F=G?"date-range-popover":void 0;return(0,b.jsxs)("div",{className:R,style:P,children:[(0,b.jsx)(s.A,{variant:"outlined",onClick:e=>{M(e.currentTarget),T(a),B(t)},startIcon:(0,b.jsx)(A.A,{}),endIcon:S&&a&&t&&(0,p.A)(a)&&(0,p.A)(t)?(0,b.jsx)(r.A,{size:"small",onClick:e=>{e&&e.stopPropagation(),T(null),B(null),f&&f({start:null,end:null}),$()},children:(0,b.jsx)(v.A,{fontSize:"small"})}):void 0,sx:{justifyContent:"space-between",minWidth:200,textTransform:"none"},disabled:D,children:a&&t&&(0,p.A)(a)&&(0,p.A)(t)?`${(0,y.A)(a,"MMM dd, yyyy")} - ${(0,y.A)(t,"MMM dd, yyyy")}`:w}),(0,b.jsxs)(l.Ay,{id:F,open:G,anchorEl:z,onClose:$,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{elevation:8,sx:{p:2,width:{xs:"90vw",sm:400}}},children:[(0,b.jsx)(i.A,{variant:"subtitle1",gutterBottom:!0,children:"Select Date Range"}),(0,b.jsx)(o.A,{sx:{mb:2},children:(0,b.jsx)(c.$,{dateAdapter:x.h,children:(0,b.jsxs)(o.A,{sx:{display:"flex",gap:2},children:[(0,b.jsx)(d.l,{label:"Start Date",value:I,onChange:e=>T(e),slotProps:{textField:{size:"small",fullWidth:!0,helperText:I?(0,y.A)(I,"EEEE"):""}}}),(0,b.jsx)(d.l,{label:"End Date",value:E,onChange:e=>B(e),minDate:I,slotProps:{textField:{size:"small",fullWidth:!0,helperText:E?(0,y.A)(E,"EEEE"):""}}})]})})}),(0,b.jsx)(i.A,{variant:"subtitle2",gutterBottom:!0,children:"Presets"}),(0,b.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:L.map(((e,a)=>(0,b.jsx)(s.A,{size:"small",variant:"outlined",onClick:()=>(e=>{const{start:a,end:t}=e.getValue();T(a),B(t),C&&(f&&f({start:a,end:t}),$())})(e),children:e.label},a)))}),(0,b.jsxs)(o.A,{sx:{display:"flex",justifyContent:"flex-end",gap:1,mt:2},children:[(0,b.jsx)(s.A,{variant:"outlined",onClick:$,children:"Cancel"}),(0,b.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>{f&&f({start:I,end:E}),$()},children:"Apply"})]})]})]})}}}]);
//# sourceMappingURL=349.b36742a2.chunk.js.map