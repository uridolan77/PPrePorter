"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[8696],{2830:(e,n,l)=>{l.d(n,{A:()=>r});l(65043);var i=l(70579);const o=e=>"number"===typeof e?8*e+"px":e,r=e=>{const{component:n,sx:l,style:r,children:t,...a}=e,s={...r||{},display:null===l||void 0===l?void 0:l.display,flexDirection:null===l||void 0===l?void 0:l.flexDirection,justifyContent:null===l||void 0===l?void 0:l.justifyContent,alignItems:null===l||void 0===l?void 0:l.alignItems,flexWrap:null===l||void 0===l?void 0:l.flexWrap,gap:o(null===l||void 0===l?void 0:l.gap),marginBottom:o(null===l||void 0===l?void 0:l.mb),marginTop:o(null===l||void 0===l?void 0:l.mt),marginRight:o(null===l||void 0===l?void 0:l.mr),marginLeft:o(null===l||void 0===l?void 0:l.ml),padding:o(null===l||void 0===l?void 0:l.p),paddingTop:o(null===l||void 0===l?void 0:l.pt),paddingBottom:o(null===l||void 0===l?void 0:l.pb),paddingLeft:o(null===l||void 0===l?void 0:l.pl),paddingRight:o(null===l||void 0===l?void 0:l.pr),height:null===l||void 0===l?void 0:l.height,width:null===l||void 0===l?void 0:l.width,minWidth:null===l||void 0===l?void 0:l.minWidth,maxWidth:null===l||void 0===l?void 0:l.maxWidth,minHeight:null===l||void 0===l?void 0:l.minHeight,maxHeight:null===l||void 0===l?void 0:l.maxHeight,position:null===l||void 0===l?void 0:l.position,top:null===l||void 0===l?void 0:l.top,left:null===l||void 0===l?void 0:l.left,right:null===l||void 0===l?void 0:l.right,bottom:null===l||void 0===l?void 0:l.bottom,borderRadius:null===l||void 0===l?void 0:l.borderRadius,border:null===l||void 0===l?void 0:l.border,borderColor:null===l||void 0===l?void 0:l.borderColor,borderBottom:null===l||void 0===l?void 0:l.borderBottom,backgroundColor:null===l||void 0===l?void 0:l.bgcolor,color:null===l||void 0===l?void 0:l.color,flexGrow:null===l||void 0===l?void 0:l.flexGrow,overflow:null===l||void 0===l?void 0:l.overflow,boxSizing:"border-box"};if(Object.keys(s).forEach((e=>{void 0===s[e]&&delete s[e]})),n){const e={...a,style:s,as:n};return(0,i.jsx)("div",{...e,children:t})}return(0,i.jsx)("div",{style:s,...a,children:t})}},18728:(e,n,l)=>{l.d(n,{MY:()=>i});const i=e=>e},50537:(e,n,l)=>{l.d(n,{A:()=>s});var i=l(65043),o=l(2830),r=l(18728),t=l(70579);const a=(0,i.forwardRef)(((e,n)=>{let{children:l,style:i,className:a,sx:s,...d}=e;return(0,t.jsx)(o.A,{ref:n,sx:(0,r.MY)(s||{}),style:i,className:a,...d,children:l})}));a.displayName="DragDropWrapper";const s=a},88696:(e,n,l)=>{l.d(n,{zZ:()=>De});var i=l(65043),o=l(26240),r=l(30344),t=l(81637),a=l(63336),s=l(55263),d=l(85865),c=l(77739),u=l(17392),g=l(48625),p=l(73216);var m=l(67784),h=l(51787),x=l(41020),b=l(11906),f=l(66360),v=l(28242),y=l(10155),A=l(70579);const j=e=>{let{value:n,onChange:l}=e;return(0,A.jsx)(m.A,{size:"small",placeholder:"Search...",value:n,onChange:e=>{l(e.target.value)},InputProps:{startAdornment:(0,A.jsx)(h.A,{position:"start",children:(0,A.jsx)(f.A,{fontSize:"small"})}),endAdornment:n?(0,A.jsx)(h.A,{position:"end",children:(0,A.jsx)(u.A,{size:"small",onClick:()=>{l("")},edge:"end","aria-label":"clear search",children:(0,A.jsx)(y.A,{fontSize:"small"})})}):null},sx:{width:{xs:120,sm:200}}})},C=e=>{let{columns:n,filters:l,onChange:o}=e;const[r,t]=(0,i.useState)(null),[a,s]=(0,i.useState)(l),g=()=>{t(null)},p=n.filter((e=>!1!==e.filterable));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{title:"Advanced filters",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{t(e.currentTarget),s({...l})},children:(0,A.jsx)(v.A,{fontSize:"small",color:Object.keys(l).length>0?"primary":"inherit"})})}),(0,A.jsx)(x.Ay,{open:Boolean(r),anchorEl:r,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,A.jsxs)("div",{style:{padding:16,width:300},children:[(0,A.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Filters"}),p.map((e=>(0,A.jsxs)("div",{style:{marginBottom:16},children:[(0,A.jsx)(d.A,{variant:"caption",children:e.label}),k(e,a[e.id],(n=>{((e,n)=>{s((l=>({...l,[e]:n})))})(e.id,n)}))]},e.id))),(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:16},children:[(0,A.jsx)(b.A,{size:"small",onClick:()=>{s({}),o({}),g()},children:"Reset"}),(0,A.jsx)(b.A,{size:"small",variant:"contained",onClick:()=>{o(a),g()},children:"Apply"})]})]})})]})},k=(e,n,l)=>{switch(e.type){case"number":case"currency":return(0,A.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,A.jsx)(m.A,{size:"small",type:"number",placeholder:"Min",value:(null===n||void 0===n?void 0:n.min)||"",onChange:e=>{const i=e.target.value?Number(e.target.value):void 0;l({...n,min:i})},sx:{flex:1}}),(0,A.jsx)(m.A,{size:"small",type:"number",placeholder:"Max",value:(null===n||void 0===n?void 0:n.max)||"",onChange:e=>{const i=e.target.value?Number(e.target.value):void 0;l({...n,max:i})},sx:{flex:1}})]});default:return(0,A.jsx)(m.A,{size:"small",placeholder:"Filter...",value:n||"",onChange:e=>l(e.target.value),fullWidth:!0})}},w=e=>{let{columns:n,config:l,quickFilterValue:i,advancedFilters:o,onQuickFilterChange:r,onAdvancedFiltersChange:t}=e;return(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.quickFilter&&(0,A.jsx)(j,{value:i,onChange:r}),l.advancedFilter&&(0,A.jsx)(C,{columns:n,filters:o,onChange:t})]})};var S=l(45424),z=l(39336),R=l(32143),F=l(74605),D=l(51962),B=l(2830),E=l(18728),L=l(28499),P=l(86061),M=l(54977),O=l(8767),I=l(50537);const N=e=>{let{columns:n,config:l,visibleColumns:o,columnOrder:r,stickyColumns:t,onVisibilityChange:a,onOrderChange:s,onStickyChange:g}=e;const[p,m]=(0,i.useState)(null),h=e=>{const n=o.includes(e);a(e,!n)},x=e=>{const n=t.includes(e);g(e,!n)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{title:"Manage columns",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{m(e.currentTarget)},children:(0,A.jsx)(L.A,{fontSize:"small"})})}),(0,A.jsxs)(S.A,{anchorEl:p,open:Boolean(p),onClose:()=>{m(null)},PaperProps:{style:{maxHeight:400,width:250}},children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Manage Columns"}),(0,A.jsx)(z.A,{}),l.allowReordering?(0,A.jsx)(O.JY,{onDragEnd:e=>{if(!e.destination)return;const n=e.source.index,l=e.destination.index,i=[...r],[o]=i.splice(n,1);i.splice(l,0,o),s(i)},children:(0,A.jsx)(O.gL,{droppableId:"column-manager",children:e=>(0,A.jsxs)(I.A,{...e.droppableProps,ref:e.innerRef,children:[r.map(((e,i)=>{const r=n.find((n=>n.id===e));return r?(0,A.jsx)(O.sx,{draggableId:r.id,index:i,children:e=>(0,A.jsx)(I.A,{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,A.jsxs)(R.A,{dense:!0,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,A.jsxs)(B.A,{sx:(0,E.MY)({display:"flex",alignItems:"center"}),children:[(0,A.jsx)(P.A,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),(0,A.jsx)(F.A,{control:(0,A.jsx)(D.A,{size:"small",checked:o.includes(r.id),onChange:()=>h(r.id),disabled:1===o.length&&o.includes(r.id)}),label:r.label,sx:{m:0}})]}),l.allowPinning&&(0,A.jsx)(c.A,{title:t.includes(r.id)?"Unpin column":"Pin column",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{e.stopPropagation(),x(r.id)},color:t.includes(r.id)?"primary":"default",children:(0,A.jsx)(M.A,{fontSize:"small"})})})]})})},r.id):null})),e.placeholder]})})}):n.map((e=>(0,A.jsxs)(R.A,{dense:!0,children:[(0,A.jsx)(F.A,{control:(0,A.jsx)(D.A,{size:"small",checked:o.includes(e.id),onChange:()=>h(e.id),disabled:1===o.length&&o.includes(e.id)}),label:e.label,sx:{width:"100%"}}),l.allowPinning&&(0,A.jsx)(c.A,{title:t.includes(e.id)?"Unpin column":"Pin column",children:(0,A.jsx)(u.A,{size:"small",onClick:n=>{n.stopPropagation(),x(e.id)},color:t.includes(e.id)?"primary":"default",children:(0,A.jsx)(M.A,{fontSize:"small"})})})]},e.id)))]})]})};var G=l(89735);const $=e=>{let{config:n,totalCount:l,page:i,pageSize:o,onPageChange:r,onPageSizeChange:t}=e;return(0,A.jsx)(G.A,{component:"div",count:l,page:i,onPageChange:(e,n)=>{r(n)},rowsPerPage:o,onRowsPerPageChange:e=>{t(parseInt(e.target.value,10))},rowsPerPageOptions:n.pageSizeOptions||[10,25,50,100],labelDisplayedRows:e=>{let{from:n,to:l,count:i}=e;return`${n}-${l} of ${i}`},labelRowsPerPage:"Rows per page:",sx:{".MuiTablePagination-selectLabel, .MuiTablePagination-displayedRows":{margin:0}}})};var T=l(96446),U=l(43845),W=l(17804);const q=e=>{var n;let{columns:l,config:o,groupByColumn:r,onGroupingChange:t}=e;const[a,s]=(0,i.useState)(null),g=()=>{s(null)},p=e=>{t(e),g()},m=l.filter((e=>!1!==e.groupable));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsx)(c.A,{title:r?"Change grouping":"Group by column",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{s(e.currentTarget)},color:r?"primary":"default",children:(0,A.jsx)(W.A,{fontSize:"small"})})}),r&&(0,A.jsx)(U.A,{size:"small",label:`Grouped by: ${(null===(n=l.find((e=>e.id===r)))||void 0===n?void 0:n.label)||r}`,onDelete:()=>t(null),sx:{ml:1}})]}),(0,A.jsxs)(S.A,{anchorEl:a,open:Boolean(a),onClose:g,children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Group By Column"}),(0,A.jsx)(z.A,{}),(0,A.jsx)(R.A,{onClick:()=>p(null),selected:null===r,children:(0,A.jsx)(d.A,{color:r?"inherit":"primary",children:"None (No Grouping)"})}),m.map((e=>(0,A.jsx)(R.A,{onClick:()=>p(e.id),selected:r===e.id,children:e.label},e.id)))]})]})};var H=l(83462),_=l(4219),V=l(35316),J=l(35721),X=l(37918),K=l(2050),Y=l(48734),Q=l(29347),Z=l(88221);const ee=e=>{let{columns:n,config:l,groupByLevels:o,onGroupingLevelsChange:r}=e;const[t,a]=(0,i.useState)(null),[s,g]=(0,i.useState)(!1),p=n.filter((e=>!1!==e.groupable)),m=()=>{a(null)},h=()=>{g(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center"},children:[(0,A.jsx)(c.A,{title:"Configure hierarchical grouping",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{a(e.currentTarget)},color:o.length>0?"primary":"default",children:(0,A.jsx)(W.A,{fontSize:"small"})})}),o.length>0&&(0,A.jsx)(T.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,ml:1},children:o.map(((e,l)=>{const i=n.find((n=>n.id===e));return(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center"},children:[l>0&&(0,A.jsx)(Z.A,{fontSize:"small",sx:{mx:.5}}),(0,A.jsx)(U.A,{size:"small",label:(null===i||void 0===i?void 0:i.label)||e,onDelete:()=>{const e=[...o];e.splice(l,1),r(e)}})]},e)}))})]}),(0,A.jsxs)(S.A,{anchorEl:t,open:Boolean(t),onClose:m,children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Hierarchical Grouping"}),(0,A.jsx)(z.A,{}),(0,A.jsx)(R.A,{onClick:()=>{g(!0),m()},children:"Configure Group Levels"}),o.length>0&&(0,A.jsx)(R.A,{onClick:()=>r([]),children:"Clear All Grouping"})]}),(0,A.jsxs)(H.A,{open:s,onClose:h,maxWidth:"sm",fullWidth:!0,children:[(0,A.jsx)(_.A,{children:"Configure Hierarchical Grouping"}),(0,A.jsxs)(V.A,{children:[(0,A.jsx)(d.A,{variant:"body2",sx:{mb:2},children:"Select columns to group by and arrange them in the desired order. Data will be grouped by the first level, then by the second level within each first-level group, and so on."}),(0,A.jsx)(J.A,{sx:{width:"100%"},children:p.map((e=>{const n=o.includes(e.id),l=o.indexOf(e.id);return(0,A.jsxs)(X.Ay,{secondaryAction:n&&(0,A.jsxs)(T.A,{children:[(0,A.jsx)(u.A,{edge:"end",onClick:()=>(e=>{if(e<=0)return;const n=[...o],l=n[e];n[e]=n[e-1],n[e-1]=l,r(n)})(l),disabled:l<=0,size:"small",children:"\u2191"}),(0,A.jsx)(u.A,{edge:"end",onClick:()=>(e=>{if(e>=o.length-1)return;const n=[...o],l=n[e];n[e]=n[e+1],n[e+1]=l,r(n)})(l),disabled:l>=o.length-1,size:"small",children:"\u2193"})]}),children:[(0,A.jsx)(K.A,{children:(0,A.jsx)(D.A,{edge:"start",checked:n,onChange:()=>(e=>{const n=[...o],l=n.indexOf(e);-1===l?n.push(e):n.splice(l,1),r(n)})(e.id)})}),(0,A.jsx)(Y.A,{primary:e.label,secondary:n?`Level ${l+1}`:null})]},e.id)}))})]}),(0,A.jsxs)(Q.A,{children:[(0,A.jsx)(b.A,{onClick:()=>{r([]),h()},children:"Clear All"}),(0,A.jsx)(b.A,{onClick:h,children:"Cancel"}),(0,A.jsx)(b.A,{onClick:()=>{h()},variant:"contained",children:"Apply"})]})]})]})};var ne=l(71806),le=l(73460),ie=l(28076),oe=l(10039),re=l(47223);const te=e=>{let{columns:n,aggregations:l,enabledAggregations:o,onAggregationToggle:r}=e;const[t,a]=(0,i.useState)(null);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{title:"Summary calculations",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{a(e.currentTarget)},color:o.length>0?"primary":"default",children:(0,A.jsx)(re.A,{fontSize:"small"})})}),(0,A.jsxs)(S.A,{anchorEl:t,open:Boolean(t),onClose:()=>{a(null)},PaperProps:{style:{maxHeight:400,width:250}},children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Summary Calculations"}),(0,A.jsx)(z.A,{}),l.map((e=>{const l=n.find((n=>n.id===e.columnId));if(!l)return null;const i=`${e.columnId}_${e.function}`;return(0,A.jsx)(R.A,{dense:!0,children:(0,A.jsx)(F.A,{control:(0,A.jsx)(D.A,{size:"small",checked:o.includes(i),onChange:()=>(e=>{r(e)})(i)}),label:e.label||`${l.label} (${e.function.toUpperCase()})`,sx:{width:"100%"}})},i)}))]})]})},ae=e=>{let{columns:n,data:l,enabledAggregations:i,visibleColumns:o}=e;if(!l.length||!i.length)return null;const r={};return i.forEach((e=>{const[n,i]=e.split("_");r[e]=((e,n,l)=>{if(!e.length)return 0;switch(l){case"sum":return e.reduce(((e,l)=>e+(Number(l[n])||0)),0);case"avg":return e.reduce(((e,l)=>e+(Number(l[n])||0)),0)/e.length;case"min":return Math.min(...e.map((e=>Number(e[n])||0)));case"max":return Math.max(...e.map((e=>Number(e[n])||0)));case"count":return e.length;default:return 0}})(l,n,i)})),(0,A.jsxs)(a.A,{elevation:0,variant:"outlined",sx:{mt:1,p:1,backgroundColor:e=>"dark"===e.palette.mode?e.palette.grey[800]:e.palette.grey[100]},children:[(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,A.jsx)(re.A,{fontSize:"small",sx:{mr:1}}),(0,A.jsx)(d.A,{variant:"subtitle2",children:"Summary"})]}),(0,A.jsx)(ne.A,{size:"small",children:(0,A.jsx)(le.A,{children:(0,A.jsx)(ie.A,{children:o.map((e=>{const l=n.find((n=>n.id===e));if(!l)return null;const o=i.filter((e=>e.startsWith(l.id+"_"))).map((e=>{const[n,l]=e.split("_");return{function:l,value:r[e]}}));return 0===o.length?(0,A.jsx)(oe.A,{align:l.align||"left",children:"-"},l.id):(0,A.jsx)(oe.A,{align:l.align||"left",children:o.map((e=>{let n=e.value;return l.format&&"number"===typeof n?n=l.format(n,{}):"currency"===l.type&&"number"===typeof n?n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):"number"===l.type&&"number"===typeof n&&(n=n.toLocaleString()),(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center",mb:.5},children:[(0,A.jsx)(U.A,{size:"small",label:e.function.toUpperCase(),sx:{mr:1,fontSize:"0.7rem"}}),(0,A.jsx)(d.A,{variant:"body2",children:n})]},e.function)}))},l.id)}))})})})]})},se=e=>{let{columns:n,config:l,data:i,enabledAggregations:o,visibleColumns:r,onAggregationToggle:t}=e;const a=n.filter((e=>!1!==e.aggregatable&&("number"===e.type||"currency"===e.type))).flatMap((e=>["sum","avg"].map((n=>({columnId:e.id,function:n,label:`${e.label} (${n.toUpperCase()})`})))));return(0,A.jsx)(te,{columns:n,aggregations:a,enabledAggregations:o,onAggregationToggle:t})};var de=l(35624);const ce=e=>{let{configs:n,sourceGrouping:l,selectedRow:o,onDrillDown:r}=e;const[t,a]=(0,i.useState)(null),s=()=>{a(null)},g=l?n.filter((e=>e.sourceGrouping===l)):[];return 0===g.length?null:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{title:"Drill down options",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{o&&a(e.currentTarget)},color:"primary",disabled:!o,children:(0,A.jsx)(de.A,{fontSize:"small"})})}),(0,A.jsxs)(S.A,{anchorEl:t,open:Boolean(t),onClose:s,children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Drill Down Options"}),(0,A.jsx)(z.A,{}),g.map(((e,n)=>(0,A.jsx)(R.A,{onClick:()=>(e=>{if(!o||!l)return;const n=e.transformFilter?e.transformFilter(o):{[l]:o[l]};r(o,e.sourceGrouping,e.targetGrouping,n),s()})(e),children:e.label||`View by ${e.targetGrouping}`},`drill-down-${n}`)))]})]})};var ue=l(30279),ge=l(21337),pe=l(85473);const me=e=>{let{expanded:n,onClick:l}=e;return(0,A.jsx)(c.A,{title:n?"Collapse":"Expand",children:(0,A.jsx)(u.A,{size:"small",onClick:l,sx:{ml:1},children:n?(0,A.jsx)(pe.A,{}):(0,A.jsx)(ge.A,{})})})},he=e=>{let{colSpan:n,expanded:l,renderDetail:i,row:o}=e;return(0,A.jsx)(ie.A,{children:(0,A.jsx)(oe.A,{colSpan:n,sx:{py:0,borderBottom:l?void 0:"none"},children:(0,A.jsx)(ue.A,{in:l,timeout:"auto",unmountOnExit:!0,children:(0,A.jsx)(T.A,{sx:{py:2,px:1},children:i(o)})})})})},xe=e=>{let{config:n,expandedRows:l,totalRows:i,onExpandAll:o,onCollapseAll:r}=e;const t=l.length===i&&i>0;return(0,A.jsx)(c.A,{title:t?"Collapse all rows":"Expand all rows",children:(0,A.jsx)(u.A,{size:"small",onClick:t?r:o,color:l.length>0?"primary":"default",children:t?(0,A.jsx)(pe.A,{fontSize:"small"}):(0,A.jsx)(ge.A,{fontSize:"small"})})})};var be=l(95971),fe=l(92317);const ve=e=>{let{config:n,onExport:l}=e;const[o,r]=(0,i.useState)(null),t=()=>{r(null)},a=e=>{l(e),t()},s=n.formats||[fe.A.CSV,fe.A.EXCEL,fe.A.PDF,fe.A.JSON];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{title:"Export data",children:(0,A.jsx)(u.A,{size:"small",onClick:e=>{r(e.currentTarget)},children:(0,A.jsx)(be.A,{fontSize:"small"})})}),(0,A.jsxs)(S.A,{anchorEl:o,open:Boolean(o),onClose:t,children:[(0,A.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Export Format"}),(0,A.jsx)(z.A,{}),s.includes(fe.A.CSV)&&(0,A.jsx)(R.A,{onClick:()=>a(fe.A.CSV),children:"CSV"}),s.includes(fe.A.EXCEL)&&(0,A.jsx)(R.A,{onClick:()=>a(fe.A.EXCEL),children:"Excel"}),s.includes(fe.A.PDF)&&(0,A.jsx)(R.A,{onClick:()=>a(fe.A.PDF),children:"PDF"}),s.includes(fe.A.JSON)&&(0,A.jsx)(R.A,{onClick:()=>a(fe.A.JSON),children:"JSON"})]})]})};var ye=l(88446),Ae=l(79650),je=l(84882),Ce=l(58093);const ke=e=>{let{column:n,config:l,activeColumn:i,direction:o,onSort:r}=e;if(!1===n.sortable)return(0,A.jsx)(A.Fragment,{children:n.label});return(0,A.jsx)(c.A,{title:`Sort by ${n.label}`,children:(0,A.jsx)(Ce.A,{active:i===n.id,direction:i===n.id?o:"asc",onClick:()=>{r(n.id)},children:n.label})})},we=e=>{let{data:n,columns:l,visibleColumns:o,stickyColumns:r,orderBy:t,order:a,page:s,pageSize:c,idField:u,emptyMessage:g,expandedRows:p,selectedRow:m,keyboardNavConfig:h,stickyColumnsConfig:x,renderRowDetail:b,onSort:f,onRowClick:v,onRowExpand:y,onKeyDown:j,onSetSelectedRow:C}=e;const k=(0,i.useRef)(null),w=l.filter((e=>o.includes(e.id))),S=s*c,z=S+c,R=n.slice(S,z),F=(e,n)=>{e.stopPropagation(),y(n)},D=(e,n)=>{const l=n[e.id];if(e.format)return e.format(l,n);switch(e.type){case"number":return(null===l||void 0===l?void 0:l.toLocaleString())||"-";case"currency":return void 0!==l&&null!==l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l):"-";case"percentage":return void 0!==l&&null!==l?`${l}%`:"-";case"link":if(!e.linkConfig)return l;let i="",o=l;return e.linkConfig.urlBuilder?i=e.linkConfig.urlBuilder(n):e.linkConfig.urlField?(i=n[e.linkConfig.urlField]||"",e.linkConfig.urlPrefix&&(i=e.linkConfig.urlPrefix+i),e.linkConfig.urlSuffix&&(i+=e.linkConfig.urlSuffix)):i=String(l),e.linkConfig.displayField&&(o=n[e.linkConfig.displayField]||l),(0,A.jsx)(ye.A,{href:i,target:e.linkConfig.openInNewTab?"_blank":"_self",onClick:e=>e.stopPropagation(),rel:"noopener noreferrer",sx:{textDecoration:"none",color:"primary.main"},children:o});default:return void 0!==l&&null!==l?l:"-"}};return console.log("TableContent data:",{dataType:typeof n,isArray:Array.isArray(n),dataLength:Array.isArray(n)?n.length:"N/A",paginatedDataLength:R.length,firstItem:R.length>0?R[0]:null}),Array.isArray(n)&&0!==n.length?(0,A.jsx)(Ae.A,{ref:k,children:(0,A.jsxs)(ne.A,{size:"small",children:[(0,A.jsx)(je.A,{children:(0,A.jsxs)(ie.A,{children:[b&&(0,A.jsx)(oe.A,{padding:"checkbox"}),w.map(((e,n)=>(0,A.jsx)(oe.A,{align:e.align||"left",sx:{...x.enabled&&r.includes(e.id)?{position:"sticky",left:0,zIndex:2,backgroundColor:e=>e.palette.background.paper,boxShadow:"2px 0 5px rgba(0,0,0,0.1)"}:{}},children:(0,A.jsx)(ke,{column:e,config:{enabled:!0},activeColumn:t,direction:a,onSort:f})},e.id)))]})}),(0,A.jsx)(le.A,{children:R.map(((e,n)=>{const l=e[u],o=p.includes(l),t=m&&m[u]===l;return(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(ie.A,{hover:!0,onClick:()=>(e=>{C(e),v&&v(e)})(e),selected:t,sx:{cursor:v?"pointer":"default"},children:[b&&(0,A.jsx)(oe.A,{padding:"checkbox",children:(0,A.jsx)(me,{expanded:o,onClick:e=>{F(e||{},l)}})}),w.map(((l,i)=>(0,A.jsx)(oe.A,{align:l.align||"left",sx:{whiteSpace:l.wrap?"normal":"nowrap",maxWidth:l.maxWidth||"auto",overflow:"hidden",textOverflow:"ellipsis",...x.enabled&&r.includes(l.id)?{position:"sticky",left:0,zIndex:1,backgroundColor:e=>e.palette.background.paper,boxShadow:"2px 0 5px rgba(0,0,0,0.1)"}:{}},tabIndex:h.enabled?0:-1,onKeyDown:e=>h.enabled&&j(e,n,i),id:`cell-${n}-${i}`,children:D(l,e)},l.id)))]}),b&&(0,A.jsx)(he,{colSpan:w.length+1,expanded:o,renderDetail:b,row:e})]},l||`row-${n}`)}))})]})}):(0,A.jsxs)(T.A,{sx:{p:3,textAlign:"center"},children:[(0,A.jsx)(d.A,{variant:"body1",color:"text.secondary",children:g}),!1]})};var Se=l(54536),ze=l(53968);const Re=e=>{var n;let{columns:l,groupByLevels:o,hierarchicalData:r,expandedGroups:a,loading:s,emptyMessage:c,onToggleGroup:g,onLoadChildren:p}=e;const[m,h]=(0,i.useState)([]),x=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=a.includes(e.path),s=m.includes(e.path),c=e.level<o.length-1,f=e.hasChildren&&c;return(0,A.jsxs)(i.Fragment,{children:[(0,A.jsxs)(ie.A,{hover:!0,sx:{backgroundColor:n=>`rgba(${n.palette.primary.main}, ${.05+.05*e.level})`},children:[(0,A.jsx)(oe.A,{sx:{pl:1+2*n,fontWeight:"bold"},children:(0,A.jsxs)(T.A,{sx:{display:"flex",alignItems:"center"},children:[f?(0,A.jsx)(u.A,{size:"small",onClick:()=>(async e=>{if(!a.includes(e.path)&&!e.childrenLoaded&&e.hasChildren){h((n=>[...n,e.path]));try{const n=e.level+1,l=n<o.length?o[n]:null;l&&await p(e.path,n,l)}finally{h((n=>n.filter((n=>n!==e.path))))}}g(e.path)})(e),disabled:s,children:s?(0,A.jsx)(t.A,{size:20}):r?(0,A.jsx)(Se.A,{fontSize:"small"}):(0,A.jsx)(ze.A,{fontSize:"small"})}):(0,A.jsx)(T.A,{sx:{width:28}}),(0,A.jsxs)(d.A,{variant:"body2",component:"span",children:[e.key,": ",e.value]})]})}),l.filter((n=>n.id!==o[e.level])).map((n=>(0,A.jsx)(oe.A,{align:n.align||"left",children:b(e,n)},n.id)))]}),r&&e.children&&e.children.length>0&&(0,A.jsx)(ie.A,{children:(0,A.jsx)(oe.A,{colSpan:l.length,sx:{p:0,border:0},children:(0,A.jsx)(ue.A,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,A.jsx)(T.A,{sx:{pl:2},children:e.children.map((e=>x(e,n+1)))})})})})]},e.path)},b=(e,n)=>{const l=e.metrics[n.id];if(void 0===l||null===l)return"-";if(n.format)return n.format(l,e);switch(n.type){case"number":return l.toLocaleString();case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);case"percentage":return`${l}%`;default:return l.toString()}};if(0===r.length&&!s)return(0,A.jsx)(T.A,{sx:{p:3,textAlign:"center"},children:(0,A.jsx)(d.A,{variant:"body1",color:"text.secondary",children:c})});if(s&&0===r.length)return(0,A.jsx)(T.A,{sx:{p:3,textAlign:"center"},children:(0,A.jsx)(t.A,{size:40})});const f=l.filter((e=>e.id!==o[0]));return(0,A.jsx)(Ae.A,{children:(0,A.jsxs)(ne.A,{size:"small",children:[(0,A.jsx)(je.A,{children:(0,A.jsxs)(ie.A,{children:[(0,A.jsx)(oe.A,{children:o.length>0&&(null===(n=l.find((e=>e.id===o[0])))||void 0===n?void 0:n.label)}),f.map((e=>(0,A.jsx)(oe.A,{align:e.align||"left",children:e.label},e.id)))]})}),(0,A.jsx)(le.A,{children:r.map((e=>x(e)))})]})})},Fe={sorting:{column:"",direction:"asc"},filtering:{quickFilter:"",advancedFilters:{}},pagination:{page:0,pageSize:10},grouping:{groupByColumn:null,groupByLevels:[],expandedGroups:[]},columns:{visible:[],order:[],sticky:[],widths:{}},aggregation:{enabled:[]},expandedRows:[],selectedRows:[],treeData:{expandedNodes:[]},infiniteScroll:{loadedPages:0},history:{undoStack:[],redoStack:[]},calculatedColumns:{values:{}}},De=e=>{let{data:n=[],columns:l=[],title:m="",loading:h=!1,emptyMessage:x="No data to display",idField:b="id",sx:f,onRowClick:v,onRefresh:y,onExport:j,onStateChange:C,onDrillDown:k,onLoadGroupChildren:S,features:z={},renderRowDetail:R,initialState:F,stateFromUrl:D=!1,enableColumnSelection:B,enableAdvancedFiltering:E,enableExportOptions:L,enableColumnReordering:P,enableRowGrouping:M,enableSummaryRow:O,enableExpandableRows:I,enableKeyboardNavigation:G,enableStickyColumns:T,enableResponsiveDesign:U,enableDrillDown:W,filterDefinitions:H,groupableColumns:_,stickyColumnIds:V,drillDownConfig:J,aggregations:X,onExportFormat:K,onApplyAdvancedFilters:Y,onColumnOrderChange:Q,onGroupingChange:Z,onRowExpand:ne}=e;const le=(0,o.A)(),ie=((0,r.A)(le.breakpoints.down("sm")),(0,p.zy)()),oe=(0,p.Zp)(),re=(0,i.useMemo)((()=>"boolean"===typeof z.sorting?z.sorting?{enabled:!0}:{enabled:!1}:z.sorting||{enabled:!1}),[z.sorting]),te=(0,i.useMemo)((()=>void 0!==E?{enabled:!0,quickFilter:!0,advancedFilter:E}:"boolean"===typeof z.filtering?z.filtering?{enabled:!0,quickFilter:!0,advancedFilter:!0}:{enabled:!1}:z.filtering||{enabled:!1}),[z.filtering,E]),de=(0,i.useMemo)((()=>"boolean"===typeof z.pagination?z.pagination?{enabled:!0,pageSizeOptions:[10,25,50,100]}:{enabled:!1}:z.pagination||{enabled:!1}),[z.pagination]),ue=(0,i.useMemo)((()=>void 0!==M?{enabled:M}:"boolean"===typeof z.grouping?z.grouping?{enabled:!0}:{enabled:!1}:z.grouping||{enabled:!1}),[z.grouping,M]),ge=(0,i.useMemo)((()=>void 0!==O?{enabled:O,showInFooter:!0}:"boolean"===typeof z.aggregation?z.aggregation?{enabled:!0,showInFooter:!0}:{enabled:!1}:z.aggregation||{enabled:!1}),[z.aggregation,O]),pe=(0,i.useMemo)((()=>void 0!==B||void 0!==P?{enabled:B||P||!1,allowReordering:P||!1,allowHiding:B||!1,allowPinning:!1,allowResizing:!1}:"boolean"===typeof z.columnManagement?z.columnManagement?{enabled:!0,allowReordering:!0,allowHiding:!0,allowPinning:!0,allowResizing:!0}:{enabled:!1}:z.columnManagement||{enabled:!1}),[z.columnManagement,B,P]),me=((0,i.useMemo)((()=>"boolean"===typeof z.columnResizing?z.columnResizing?{enabled:!0,minWidth:50,maxWidth:500,persistWidths:!0}:{enabled:!1}:z.columnResizing||{enabled:!1}),[z.columnResizing]),(0,i.useMemo)((()=>void 0!==I?{enabled:I}:"boolean"===typeof z.expandableRows?z.expandableRows?{enabled:!0}:{enabled:!1}:z.expandableRows||{enabled:!1}),[z.expandableRows,I])),he=(0,i.useMemo)((()=>void 0!==G?{enabled:G,allowCellNavigation:!0}:"boolean"===typeof z.keyboardNavigation?z.keyboardNavigation?{enabled:!0,allowCellNavigation:!0}:{enabled:!1}:z.keyboardNavigation||{enabled:!1}),[z.keyboardNavigation,G]),be=(0,i.useMemo)((()=>void 0!==T?{enabled:T}:"boolean"===typeof z.stickyColumns?z.stickyColumns?{enabled:!0}:{enabled:!1}:z.stickyColumns||{enabled:!1}),[z.stickyColumns,T]),fe=(0,i.useMemo)((()=>void 0!==U?{enabled:U}:"boolean"===typeof z.responsive?z.responsive?{enabled:!0}:{enabled:!1}:z.responsive||{enabled:!1}),[z.responsive,U]),ye=(0,i.useMemo)((()=>void 0!==W?{enabled:W,configs:J||[]}:"boolean"===typeof z.drillDown?z.drillDown?{enabled:!0}:{enabled:!1}:z.drillDown||{enabled:!1}),[z.drillDown,W,J]),Ae=(0,i.useMemo)((()=>void 0!==L?{enabled:L}:"boolean"===typeof z.export?z.export?{enabled:!0}:{enabled:!1}:z.export||{enabled:!1}),[z.export,L]),[je,Ce]=(0,i.useState)((()=>{const e={...Fe,columns:{visible:l.map((e=>e.id)),order:l.map((e=>e.id)),sticky:V||l.filter((e=>e.pinned)).map((e=>e.id)),widths:l.reduce(((e,n)=>({...e,[n.id]:n.width||150})),{})}},n=F?{...e,...F}:e;return D?((e,n)=>{const l=new URLSearchParams(e),i={...n},o=l.get("sort");if(o){const[e,n]=o.split(",");i.sorting.column=e,i.sorting.direction=n}const r=l.get("q");r&&(i.filtering.quickFilter=r);const t=l.get("filters");if(t)try{i.filtering.advancedFilters=JSON.parse(t)}catch(h){console.error("Error parsing filters from URL",h)}const a=l.get("page");a&&(i.pagination.page=parseInt(a,10));const s=l.get("pageSize");s&&(i.pagination.pageSize=parseInt(s,10));const d=l.get("groupBy");d&&(i.grouping.groupByColumn=d);const c=l.get("groupByLevels");c&&(i.grouping.groupByLevels=c.split(","));const u=l.get("columns");u&&(i.columns.visible=u.split(","));const g=l.get("columnOrder");g&&(i.columns.order=g.split(","));const p=l.get("stickyColumns");p&&(i.columns.sticky=p.split(","));const m=l.get("aggregations");return m&&(i.aggregation.enabled=m.split(",")),i})(ie.search,n):n}));(0,i.useEffect)((()=>{if(D&&C){const e=(e=>{const n=new URLSearchParams;return n.set("sort",`${e.sorting.column},${e.sorting.direction}`),e.filtering.quickFilter&&n.set("q",e.filtering.quickFilter),Object.keys(e.filtering.advancedFilters).length>0&&n.set("filters",JSON.stringify(e.filtering.advancedFilters)),n.set("page",e.pagination.page.toString()),n.set("pageSize",e.pagination.pageSize.toString()),e.grouping.groupByColumn&&n.set("groupBy",e.grouping.groupByColumn),n.set("columns",e.columns.visible.join(",")),n.set("columnOrder",e.columns.order.join(",")),n.set("stickyColumns",e.columns.sticky.join(",")),e.aggregation.enabled.length>0&&n.set("aggregations",e.aggregation.enabled.join(",")),n.toString()})(je);oe({search:e},{replace:!0}),C(je)}else C&&C(je)}),[je,D,oe,C]);const[ke,Se]=(0,i.useState)([]),[ze,De]=(0,i.useState)(!1),Be=(0,i.useMemo)((()=>{let e=Array.isArray(n)?[...n]:[];return console.log("EnhancedTable processing data:",{dataIsArray:Array.isArray(n),dataLength:Array.isArray(n)?n.length:"N/A",resultLength:e.length}),te.enabled&&(e=((e,n,l)=>{let i=e;if(n){const e=n.toLowerCase();i=i.filter((n=>Object.keys(n).some((l=>{const i=n[l];return null!==i&&void 0!==i&&"object"!==typeof i&&String(i).toLowerCase().includes(e)}))))}return Object.keys(l).length>0&&(i=i.filter((e=>Object.entries(l).every((n=>{let[l,i]=n;return null===i||void 0===i||("object"===typeof i?!("min"in i&&e[l]<i.min)&&!("max"in i&&e[l]>i.max)&&!("values"in i&&!i.values.includes(e[l])):e[l]===i)}))))),i})(e,je.filtering.quickFilter,je.filtering.advancedFilters),console.log("After filtering:",{resultLength:e.length})),re.enabled&&je.sorting.column&&(e=((e,n,l)=>[...e].sort(((e,i)=>{const o=e[n],r=i[n];return null===o||void 0===o?"asc"===l?-1:1:null===r||void 0===r?"asc"===l?1:-1:"number"===typeof o&&"number"===typeof r?"asc"===l?o-r:r-o:"asc"===l?String(o).localeCompare(String(r)):String(r).localeCompare(String(o))})))(e,je.sorting.column,je.sorting.direction),console.log("After sorting:",{resultLength:e.length})),e}),[n,te.enabled,re.enabled,je.filtering,je.sorting]);(0,i.useEffect)((()=>{if(ue.hierarchical&&je.grouping.groupByLevels.length>0){De(!0);const e=je.grouping.groupByLevels[0];if(e){const n=function(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!e||0===e.length)return[];const r={};return e.forEach((e=>{var l;const i=(null===(l=e[n])||void 0===l?void 0:l.toString())||"Unknown";r[i]||(r[i]=[]),r[i].push(e)})),Object.entries(r).map((e=>{var r;let[t,a]=e;const s=o?`${o}/${n}:${t}`:`${n}:${t}`,d={};return i.forEach((e=>{"number"!==e.type&&"currency"!==e.type&&"percentage"!==e.type||(d[e.id]=a.reduce(((n,l)=>n+(parseFloat(l[e.id])||0)),0))})),{id:`group_${l}_${t}`,key:(null===(r=i.find((e=>e.id===n)))||void 0===r?void 0:r.label)||n,value:t,path:s,level:l,children:[],data:a,metrics:d,hasChildren:!0,childrenLoaded:!1}}))}(Be,e,0,l);Se(n)}De(!1)}}),[Be,je.grouping.groupByLevels,ue.hierarchical,l]);const Ee=(0,i.useCallback)((e=>{Ce((n=>{const l=n.sorting.column===e&&"asc"===n.sorting.direction;return{...n,sorting:{column:e,direction:l?"desc":"asc"},pagination:{...n.pagination,page:0}}}))}),[]),Le=(0,i.useCallback)((e=>{Ce((n=>({...n,filtering:{...n.filtering,quickFilter:e},pagination:{...n.pagination,page:0}})))}),[]),Pe=(0,i.useCallback)((e=>{Ce((n=>({...n,filtering:{...n.filtering,advancedFilters:e},pagination:{...n.pagination,page:0}}))),Y&&Y(e)}),[Y]),Me=(0,i.useCallback)(((e,n)=>{Ce((l=>{const i=n?[...l.columns.visible,e]:l.columns.visible.filter((n=>n!==e));return{...l,columns:{...l.columns,visible:i}}}))}),[]),Oe=(0,i.useCallback)((e=>{Ce((n=>({...n,columns:{...n.columns,order:e}}))),Q&&Q(e.map((e=>({id:e}))))}),[Q]),Ie=(0,i.useCallback)(((e,n)=>{Ce((l=>{const i=n?[...l.columns.sticky,e]:l.columns.sticky.filter((n=>n!==e));return{...l,columns:{...l.columns,sticky:i}}}))}),[]),Ne=((0,i.useCallback)(((e,n)=>{Ce((l=>({...l,columns:{...l.columns,widths:{...l.columns.widths,[e]:n}}})))}),[]),(0,i.useCallback)((e=>{Ce((n=>({...n,pagination:{...n.pagination,page:e}})))}),[])),Ge=(0,i.useCallback)((e=>{Ce((n=>({...n,pagination:{...n.pagination,page:0,pageSize:e}})))}),[]),$e=(0,i.useCallback)((e=>{Ce((n=>({...n,grouping:{...n.grouping,groupByColumn:e}}))),Z&&Z(e)}),[Z]),Te=(0,i.useCallback)((e=>{Ce((n=>({...n,grouping:{...n.grouping,groupByLevels:e,expandedGroups:[]}})))}),[]),Ue=(0,i.useCallback)((e=>{Ce((n=>{const l=[...n.grouping.expandedGroups],i=l.indexOf(e);return-1===i?l.push(e):l.splice(i,1),{...n,grouping:{...n.grouping,expandedGroups:l}}}))}),[]),We=(0,i.useCallback)((async(e,n,l)=>{if(S)try{const i=await S(e,n,l);Se((n=>{const l=n=>n.map((n=>n.path===e?{...n,children:i,childrenLoaded:!0}:n.children&&n.children.length>0?{...n,children:l(n.children)}:n));return l(n)}))}catch(i){console.error("Error loading group children:",i)}}),[S]),qe=(0,i.useCallback)((e=>{Ce((n=>{const l=[...n.aggregation.enabled],i=l.indexOf(e);return-1===i?l.push(e):l.splice(i,1),{...n,aggregation:{...n.aggregation,enabled:l}}}))}),[]),He=(0,i.useCallback)((e=>{Ce((n=>{const l=[...n.expandedRows],i=l.indexOf(e),o=-1===i;return ne&&ne(e,o),o?me.singleExpand?{...n,expandedRows:[e]}:{...n,expandedRows:[...l,e]}:(l.splice(i,1),{...n,expandedRows:l})}))}),[me,ne]),_e=(0,i.useCallback)((()=>{Ce((e=>({...e,expandedRows:Be.map((e=>e[b]))})))}),[Be,b]),Ve=(0,i.useCallback)((()=>{Ce((e=>({...e,expandedRows:[]})))}),[]),Je=(0,i.useMemo)((()=>l.filter((e=>je.columns.visible.includes(e.id))).sort(((e,n)=>je.columns.order.indexOf(e.id)-je.columns.order.indexOf(n.id)))),[l,je.columns.visible,je.columns.order]),Xe=(0,i.useCallback)(((e,n,l)=>{if(!he.enabled)return;const i=Be.length-1,o=Je.length-1;let r=n,t=l;switch(e.key){case"ArrowUp":r=Math.max(0,n-1),e.preventDefault();break;case"ArrowDown":r=Math.min(i,n+1),e.preventDefault();break;case"ArrowLeft":t=Math.max(0,l-1),e.preventDefault();break;case"ArrowRight":t=Math.min(o,l+1),e.preventDefault();break;case"Home":t=0,e.preventDefault();break;case"End":t=o,e.preventDefault();break;case"PageUp":r=Math.max(0,n-10),e.preventDefault();break;case"PageDown":r=Math.min(i,n+10),e.preventDefault();break;case"Enter":const a=Be[n][b];je.expandedRows.includes(a)?He(a):v&&v(Be[n]),e.preventDefault()}if(r!==n||t!==l){const e=`cell-${r}-${t}`,n=document.getElementById(e);n&&n.focus()}}),[he.enabled,Be,Je.length,b,je.expandedRows,He,v]),Ke=(0,i.useCallback)((e=>{const n=Be.map((e=>{const n={};return(Ae.includeHiddenColumns?l:l.filter((e=>je.columns.visible.includes(e.id)))).forEach((l=>{n[l.label]=e[l.id]})),n}));K&&K(e.toString()),j&&j(e,n)}),[j,K,Be,l,je.columns.visible,Ae]),Ye=(0,i.useCallback)(((e,n,l,i)=>{k&&k(e,n,l,i)}),[k]),[Qe,Ze]=(0,i.useState)(null),en=(0,i.useMemo)((()=>{if(!ue.enabled||!je.grouping.groupByColumn)return null;const e=((e,n)=>{const l={};return e.forEach((e=>{const i=String(e[n]||"Unknown");l[i]||(l[i]=[]),l[i].push(e)})),l})(Be,je.grouping.groupByColumn);return Object.entries(e).map((e=>{let[n,i]=e;const o={[je.grouping.groupByColumn]:n,_groupRows:i.length,_isGroupRow:!0,[b]:`group_${n}`};return l.forEach((e=>{e.id===je.grouping.groupByColumn||"number"!==e.type&&"currency"!==e.type||(o[e.id]=i.reduce(((n,l)=>n+(Number(l[e.id])||0)),0))})),o}))}),[ue.enabled,je.grouping.groupByColumn,Be,l,b]),nn=ue.enabled&&je.grouping.groupByColumn&&en?en:Be;return h?(0,A.jsx)("div",{style:{padding:24,display:"flex",alignItems:"center",justifyContent:"center",height:200},children:(0,A.jsx)(t.A,{})}):(0,A.jsxs)(a.A,{elevation:0,variant:"outlined",sx:{width:"100%",mb:2,...f},children:[(0,A.jsxs)(s.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},display:"flex",justifyContent:"space-between"},children:[(0,A.jsx)(d.A,{variant:"h6",component:"div",children:m}),(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[te.enabled&&(0,A.jsx)(w,{columns:l,config:te,quickFilterValue:je.filtering.quickFilter,advancedFilters:je.filtering.advancedFilters,onQuickFilterChange:Le,onAdvancedFiltersChange:Pe}),pe.enabled&&(0,A.jsx)(N,{columns:l,config:pe,visibleColumns:je.columns.visible,columnOrder:je.columns.order,stickyColumns:je.columns.sticky,onVisibilityChange:Me,onOrderChange:Oe,onStickyChange:Ie}),ue.enabled&&!ue.hierarchical&&(0,A.jsx)(q,{columns:l,config:ue,groupByColumn:je.grouping.groupByColumn,onGroupingChange:$e}),ue.enabled&&ue.hierarchical&&(0,A.jsx)(ee,{columns:l,config:ue,groupByLevels:je.grouping.groupByLevels,onGroupingLevelsChange:Te}),ge.enabled&&(0,A.jsx)(se,{columns:l,config:ge,data:Be,enabledAggregations:je.aggregation.enabled,visibleColumns:je.columns.visible,onAggregationToggle:qe}),me.enabled&&R&&(0,A.jsx)(xe,{config:me,expandedRows:je.expandedRows,totalRows:nn.length,onExpandAll:_e,onCollapseAll:Ve}),ye.enabled&&k&&(0,A.jsx)(ce,{configs:ye.configs||[],sourceGrouping:je.grouping.groupByColumn,selectedRow:Qe,onDrillDown:Ye}),Ae.enabled&&j&&(0,A.jsx)(ve,{config:Ae,onExport:Ke}),y&&(0,A.jsx)(c.A,{title:"Refresh",children:(0,A.jsx)(u.A,{size:"small",onClick:y,children:(0,A.jsx)(g.A,{fontSize:"small"})})})]})]}),(0,A.jsx)("div",{style:{width:"100%",overflowX:fe.enabled?"auto":void 0},children:0!==nn.length||ue.hierarchical?ue.hierarchical&&je.grouping.groupByLevels.length>0?(0,A.jsx)(Re,{columns:l,groupByLevels:je.grouping.groupByLevels.map((e=>e)),hierarchicalData:ke,expandedGroups:je.grouping.expandedGroups,loading:ze,emptyMessage:x,onToggleGroup:Ue,onLoadChildren:We}):(0,A.jsx)(we,{data:nn,columns:l,visibleColumns:je.columns.visible,stickyColumns:je.columns.sticky,orderBy:je.sorting.column,order:je.sorting.direction,page:je.pagination.page,pageSize:je.pagination.pageSize,idField:b,emptyMessage:x,expandedRows:je.expandedRows,selectedRow:Qe,keyboardNavConfig:he,stickyColumnsConfig:be,renderRowDetail:R,onSort:Ee,onRowClick:v,onRowExpand:He,onKeyDown:Xe,onSetSelectedRow:Ze}):(0,A.jsx)("div",{style:{padding:24,textAlign:"center"},children:(0,A.jsx)(d.A,{variant:"body1",color:"text.secondary",children:x})})}),ge.enabled&&ge.showInFooter&&je.aggregation.enabled.length>0&&(0,A.jsx)(ae,{columns:l,data:Be,enabledAggregations:je.aggregation.enabled,visibleColumns:je.columns.visible}),de.enabled&&(0,A.jsx)($,{config:de,totalCount:Be.length,page:je.pagination.page,pageSize:je.pagination.pageSize,onPageChange:Ne,onPageSizeChange:Ge})]})};l(91707);l(81045),l(76641),l(10611),l(93933)},92317:(e,n,l)=>{l.d(n,{A:()=>i});let i=function(e){return e.CSV="csv",e.EXCEL="excel",e.PDF="pdf",e.JSON="json",e}({})}}]);
//# sourceMappingURL=8696.81341fe9.chunk.js.map