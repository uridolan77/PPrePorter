"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[70],{352:(e,n,l)=>{l.d(n,{A:()=>w});var i=l(65043),o=l(85865),r=l(96446),t=l(43845),a=l(53193),s=l(18356),c=l(69285),d=l(69859),u=l(32143),g=l(81673),p=l(67784),x=l(51787),h=l(17392),m=l(11906),b=l(39336),f=l(51962),A=l(48734),v=l(77739),j=l(66360),y=l(10155),C=l(47030),k=l(70579);const w=e=>{let{options:n=[],value:l=[],onChange:w,label:S="",placeholder:z="Select items",disabled:R=!1,required:D=!1,error:F="",helperText:M="",maxMenuHeight:L=300,searchable:P=!0,showSelectAllOption:I=!0,renderValue:E,size:B="small",width:$,id:N,name:O,sx:G,className:T,style:H}=e;const[V,U]=(0,i.useState)(""),q=n.filter((e=>e.label.toLowerCase().includes(V.toLowerCase())));if(!n||0===n.length)return(0,k.jsxs)(a.A,{fullWidth:!0,size:B,error:!!F,disabled:!0,required:D,sx:{width:$,...G},className:T,style:H,children:[S&&(0,k.jsx)(s.A,{id:`${N||"multi-select"}-label`,children:S}),(0,k.jsx)(c.A,{labelId:`${N||"multi-select"}-label`,id:N||"multi-select",name:O,multiple:!0,value:[],input:(0,k.jsx)(d.A,{label:S}),renderValue:()=>(0,k.jsx)(o.A,{color:"text.secondary",children:"No options available"}),children:(0,k.jsx)(u.A,{disabled:!0,children:(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"No options available"})})}),M&&(0,k.jsx)(g.A,{children:M})]});return(0,k.jsxs)(a.A,{fullWidth:!0,size:B,error:!!F,disabled:R,required:D,sx:{width:$||"100%",minWidth:"100%",...G},className:T,style:H,children:[S&&(0,k.jsx)(s.A,{id:`${N||"multi-select"}-label`,children:S}),(0,k.jsxs)(c.A,{labelId:`${N||"multi-select"}-label`,id:N||"multi-select",name:O,multiple:!0,value:l,onChange:e=>{const n=e.target.value;w(n)},input:(0,k.jsx)(d.A,{label:S}),renderValue:E||(e=>e&&0!==e.length?(0,k.jsx)(r.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>{const i=n.find((n=>n.value.toString()===e.toString()));return(0,k.jsx)(t.A,{label:i?i.label:e,size:"small",onDelete:(o=e,e=>{e.preventDefault(),e.stopPropagation();const n=l.filter((e=>e.toString()!==o.toString()));w(n)}),onClick:e=>e.stopPropagation(),deleteIcon:(0,k.jsx)(y.A,{fontSize:"small",onMouseDown:e=>e.stopPropagation()}),sx:{"& .MuiChip-deleteIcon":{display:"none",opacity:.7,"&:hover":{opacity:1}},"&:hover .MuiChip-deleteIcon":{display:"block"}}},e);var o}))}):(0,k.jsx)(o.A,{color:"text.secondary",children:z})),onClose:()=>{U("")},onClick:e=>{e.target instanceof HTMLElement&&(e.target.classList.contains("MuiChip-root")||e.target.classList.contains("MuiChip-label")||e.target.classList.contains("MuiChip-deleteIcon")||e.target.closest(".MuiChip-deleteIcon"))&&(e.preventDefault(),e.stopPropagation())},MenuProps:{PaperProps:{style:{maxHeight:L}}},children:[P&&(0,k.jsx)(r.A,{sx:{p:1,position:"sticky",top:0,bgcolor:"background.paper",zIndex:1},children:(0,k.jsx)(p.A,{size:"small",placeholder:"Search...",fullWidth:!0,value:V,onChange:e=>{U(e.target.value)},onClick:e=>e.stopPropagation(),InputProps:{startAdornment:(0,k.jsx)(x.A,{position:"start",children:(0,k.jsx)(j.A,{fontSize:"small"})}),endAdornment:V?(0,k.jsx)(x.A,{position:"end",children:(0,k.jsx)(h.A,{size:"small",onClick:e=>{e.stopPropagation(),U("")},children:(0,k.jsx)(y.A,{fontSize:"small"})})}):null}})}),I&&q.length>0&&[(0,k.jsxs)(r.A,{sx:{px:1,py:.5,display:"flex",justifyContent:"space-between"},children:[(0,k.jsx)(m.A,{size:"small",onClick:()=>{const e=q.filter((e=>!e.disabled)).map((e=>e.value));w(e)},children:"Select All"}),(0,k.jsx)(m.A,{size:"small",onClick:()=>{w([])},children:"Clear All"})]},"select-all-box"),(0,k.jsx)(b.A,{},"select-all-divider")],0===q.length&&(0,k.jsx)(u.A,{disabled:!0,children:(0,k.jsx)(o.A,{variant:"body2",color:"text.secondary",children:"No options found"})}),q.map((e=>(0,k.jsxs)(u.A,{value:e.value,disabled:e.disabled,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(f.A,{checked:l.some((n=>n.toString()===e.value.toString()))}),(0,k.jsx)(A.A,{primary:e.label,secondary:e.group})]}),e.description&&(0,k.jsx)(v.A,{title:e.description,arrow:!0,children:(0,k.jsx)(C.A,{fontSize:"small",color:"action",sx:{ml:1}})})]},e.value)))]}),(M||F)&&(0,k.jsx)(g.A,{children:F||M})]})}},35624:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)([(0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,r.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")},43649:(e,n,l)=>{l.d(n,{zZ:()=>Ve});var i=l(65043),o=l(26240),r=l(83600),t=l(96446),a=l(81637),s=l(63336),c=l(55263),d=l(85865),u=l(77739),g=l(17392),p=l(48625),x=l(73216);var h=l(67784),m=l(51787),b=l(41020),f=l(11906),A=l(66360),v=l(28242),j=l(10155),y=l(70579);const C=e=>{let{value:n,onChange:l}=e;return(0,y.jsx)(h.A,{size:"small",placeholder:"Search...",value:n,onChange:e=>{l(e.target.value)},InputProps:{startAdornment:(0,y.jsx)(m.A,{position:"start",children:(0,y.jsx)(A.A,{fontSize:"small"})}),endAdornment:n?(0,y.jsx)(m.A,{position:"end",children:(0,y.jsx)(g.A,{size:"small",onClick:()=>{l("")},edge:"end","aria-label":"clear search",children:(0,y.jsx)(j.A,{fontSize:"small"})})}):null},sx:{width:{xs:120,sm:200}}})},k=e=>{let{columns:n,filters:l,onChange:o}=e;const[r,a]=(0,i.useState)(null),[s,c]=(0,i.useState)(l),p=()=>{a(null)},x=n.filter((e=>!1!==e.filterable));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.A,{title:"Advanced filters",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{a(e.currentTarget),c({...l})},children:(0,y.jsx)(v.A,{fontSize:"small",color:Object.keys(l).length>0?"primary":"inherit"})})}),(0,y.jsx)(b.Ay,{open:Boolean(r),anchorEl:r,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,y.jsxs)(t.A,{sx:{p:2,width:300},children:[(0,y.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Filters"}),x.map((e=>(0,y.jsxs)(t.A,{sx:{mb:2},children:[(0,y.jsx)(d.A,{variant:"caption",children:e.label}),w(e,s[e.id],(n=>{((e,n)=>{c((l=>({...l,[e]:n})))})(e.id,n)}))]},e.id))),(0,y.jsxs)(t.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,y.jsx)(f.A,{size:"small",onClick:()=>{c({}),o({}),p()},children:"Reset"}),(0,y.jsx)(f.A,{size:"small",variant:"contained",onClick:()=>{o(s),p()},children:"Apply"})]})]})})]})},w=(e,n,l)=>{switch(e.type){case"number":case"currency":return(0,y.jsxs)(t.A,{sx:{display:"flex",gap:1},children:[(0,y.jsx)(h.A,{size:"small",type:"number",placeholder:"Min",value:(null===n||void 0===n?void 0:n.min)||"",onChange:e=>{const i=e.target.value?Number(e.target.value):void 0;l({...n,min:i})},sx:{flex:1}}),(0,y.jsx)(h.A,{size:"small",type:"number",placeholder:"Max",value:(null===n||void 0===n?void 0:n.max)||"",onChange:e=>{const i=e.target.value?Number(e.target.value):void 0;l({...n,max:i})},sx:{flex:1}})]});default:return(0,y.jsx)(h.A,{size:"small",placeholder:"Filter...",value:n||"",onChange:e=>l(e.target.value),fullWidth:!0})}},S=e=>{let{columns:n,config:l,quickFilterValue:i,advancedFilters:o,onQuickFilterChange:r,onAdvancedFiltersChange:a}=e;return(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[l.quickFilter&&(0,y.jsx)(C,{value:i,onChange:r}),l.advancedFilter&&(0,y.jsx)(k,{columns:n,filters:o,onChange:a})]})};var z=l(45424),R=l(39336),D=l(32143),F=l(74605),M=l(51962),L=l(28499),P=l(86061),I=l(54977),E=l(8767);const B=e=>{let{columns:n,config:l,visibleColumns:o,columnOrder:r,stickyColumns:a,onVisibilityChange:s,onOrderChange:c,onStickyChange:p}=e;const[x,h]=(0,i.useState)(null),m=e=>{const n=o.includes(e);s(e,!n)},b=e=>{const n=a.includes(e);p(e,!n)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.A,{title:"Manage columns",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{h(e.currentTarget)},children:(0,y.jsx)(L.A,{fontSize:"small"})})}),(0,y.jsxs)(z.A,{anchorEl:x,open:Boolean(x),onClose:()=>{h(null)},PaperProps:{style:{maxHeight:400,width:250}},children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Manage Columns"}),(0,y.jsx)(R.A,{}),l.allowReordering?(0,y.jsx)(E.JY,{onDragEnd:e=>{if(!e.destination)return;const n=e.source.index,l=e.destination.index,i=[...r],[o]=i.splice(n,1);i.splice(l,0,o),c(i)},children:(0,y.jsx)(E.gL,{droppableId:"column-manager",children:e=>(0,y.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[r.map(((e,i)=>{const r=n.find((n=>n.id===e));return r?(0,y.jsx)(E.sx,{draggableId:r.id,index:i,children:e=>(0,y.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,children:(0,y.jsxs)(D.A,{dense:!0,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(P.A,{fontSize:"small",sx:{mr:1,color:"text.secondary"}}),(0,y.jsx)(F.A,{control:(0,y.jsx)(M.A,{size:"small",checked:o.includes(r.id),onChange:()=>m(r.id),disabled:1===o.length&&o.includes(r.id)}),label:r.label,sx:{m:0}})]}),l.allowPinning&&(0,y.jsx)(u.A,{title:a.includes(r.id)?"Unpin column":"Pin column",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{e.stopPropagation(),b(r.id)},color:a.includes(r.id)?"primary":"default",children:(0,y.jsx)(I.A,{fontSize:"small"})})})]})})},r.id):null})),e.placeholder]})})}):n.map((e=>(0,y.jsxs)(D.A,{dense:!0,children:[(0,y.jsx)(F.A,{control:(0,y.jsx)(M.A,{size:"small",checked:o.includes(e.id),onChange:()=>m(e.id),disabled:1===o.length&&o.includes(e.id)}),label:e.label,sx:{width:"100%"}}),l.allowPinning&&(0,y.jsx)(u.A,{title:a.includes(e.id)?"Unpin column":"Pin column",children:(0,y.jsx)(g.A,{size:"small",onClick:n=>{n.stopPropagation(),b(e.id)},color:a.includes(e.id)?"primary":"default",children:(0,y.jsx)(I.A,{fontSize:"small"})})})]},e.id)))]})]})};var $=l(89735);const N=e=>{let{config:n,totalCount:l,page:i,pageSize:o,onPageChange:r,onPageSizeChange:t}=e;return(0,y.jsx)($.A,{component:"div",count:l,page:i,onPageChange:(e,n)=>{r(n)},rowsPerPage:o,onRowsPerPageChange:e=>{t(parseInt(e.target.value,10))},rowsPerPageOptions:n.pageSizeOptions||[10,25,50,100],labelDisplayedRows:e=>{let{from:n,to:l,count:i}=e;return`${n}-${l} of ${i}`},labelRowsPerPage:"Rows per page:",sx:{".MuiTablePagination-selectLabel, .MuiTablePagination-displayedRows":{margin:0}}})};var O=l(43845),G=l(17804);const T=e=>{var n;let{columns:l,config:o,groupByColumn:r,onGroupingChange:a}=e;const[s,c]=(0,i.useState)(null),p=()=>{c(null)},x=e=>{a(e),p()},h=l.filter((e=>!1!==e.groupable));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(u.A,{title:r?"Change grouping":"Group by column",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{c(e.currentTarget)},color:r?"primary":"default",children:(0,y.jsx)(G.A,{fontSize:"small"})})}),r&&(0,y.jsx)(O.A,{size:"small",label:`Grouped by: ${(null===(n=l.find((e=>e.id===r)))||void 0===n?void 0:n.label)||r}`,onDelete:()=>a(null),sx:{ml:1}})]}),(0,y.jsxs)(z.A,{anchorEl:s,open:Boolean(s),onClose:p,children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Group By Column"}),(0,y.jsx)(R.A,{}),(0,y.jsx)(D.A,{onClick:()=>x(null),selected:null===r,children:(0,y.jsx)(d.A,{color:r?"inherit":"primary",children:"None (No Grouping)"})}),h.map((e=>(0,y.jsx)(D.A,{onClick:()=>x(e.id),selected:r===e.id,children:e.label},e.id)))]})]})};var H=l(83462),V=l(4219),U=l(35316),q=l(35721),W=l(37918),_=l(2050),J=l(48734),K=l(29347),X=l(88221);const Z=e=>{let{columns:n,config:l,groupByLevels:o,onGroupingLevelsChange:r}=e;const[a,s]=(0,i.useState)(null),[c,p]=(0,i.useState)(!1),x=n.filter((e=>!1!==e.groupable)),h=()=>{s(null)},m=()=>{p(!1)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[(0,y.jsx)(u.A,{title:"Configure hierarchical grouping",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{s(e.currentTarget)},color:o.length>0?"primary":"default",children:(0,y.jsx)(G.A,{fontSize:"small"})})}),o.length>0&&(0,y.jsx)(t.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,ml:1},children:o.map(((e,l)=>{const i=n.find((n=>n.id===e));return(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[l>0&&(0,y.jsx)(X.A,{fontSize:"small",sx:{mx:.5}}),(0,y.jsx)(O.A,{size:"small",label:(null===i||void 0===i?void 0:i.label)||e,onDelete:()=>{const e=[...o];e.splice(l,1),r(e)}})]},e)}))})]}),(0,y.jsxs)(z.A,{anchorEl:a,open:Boolean(a),onClose:h,children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Hierarchical Grouping"}),(0,y.jsx)(R.A,{}),(0,y.jsx)(D.A,{onClick:()=>{p(!0),h()},children:"Configure Group Levels"}),o.length>0&&(0,y.jsx)(D.A,{onClick:()=>r([]),children:"Clear All Grouping"})]}),(0,y.jsxs)(H.A,{open:c,onClose:m,maxWidth:"sm",fullWidth:!0,children:[(0,y.jsx)(V.A,{children:"Configure Hierarchical Grouping"}),(0,y.jsxs)(U.A,{children:[(0,y.jsx)(d.A,{variant:"body2",sx:{mb:2},children:"Select columns to group by and arrange them in the desired order. Data will be grouped by the first level, then by the second level within each first-level group, and so on."}),(0,y.jsx)(q.A,{sx:{width:"100%"},children:x.map((e=>{const n=o.includes(e.id),l=o.indexOf(e.id);return(0,y.jsxs)(W.Ay,{secondaryAction:n&&(0,y.jsxs)(t.A,{children:[(0,y.jsx)(g.A,{edge:"end",onClick:()=>(e=>{if(e<=0)return;const n=[...o],l=n[e];n[e]=n[e-1],n[e-1]=l,r(n)})(l),disabled:l<=0,size:"small",children:"\u2191"}),(0,y.jsx)(g.A,{edge:"end",onClick:()=>(e=>{if(e>=o.length-1)return;const n=[...o],l=n[e];n[e]=n[e+1],n[e+1]=l,r(n)})(l),disabled:l>=o.length-1,size:"small",children:"\u2193"})]}),children:[(0,y.jsx)(_.A,{children:(0,y.jsx)(M.A,{edge:"start",checked:n,onChange:()=>(e=>{const n=[...o],l=n.indexOf(e);-1===l?n.push(e):n.splice(l,1),r(n)})(e.id)})}),(0,y.jsx)(J.A,{primary:e.label,secondary:n?`Level ${l+1}`:null})]},e.id)}))})]}),(0,y.jsxs)(K.A,{children:[(0,y.jsx)(f.A,{onClick:()=>{r([]),m()},children:"Clear All"}),(0,y.jsx)(f.A,{onClick:m,children:"Cancel"}),(0,y.jsx)(f.A,{onClick:()=>{m()},variant:"contained",children:"Apply"})]})]})]})};var Q=l(71806),Y=l(73460),ee=l(28076),ne=l(10039),le=l(47223);const ie=e=>{let{columns:n,aggregations:l,enabledAggregations:o,onAggregationToggle:r}=e;const[t,a]=(0,i.useState)(null);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.A,{title:"Summary calculations",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{a(e.currentTarget)},color:o.length>0?"primary":"default",children:(0,y.jsx)(le.A,{fontSize:"small"})})}),(0,y.jsxs)(z.A,{anchorEl:t,open:Boolean(t),onClose:()=>{a(null)},PaperProps:{style:{maxHeight:400,width:250}},children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Summary Calculations"}),(0,y.jsx)(R.A,{}),l.map((e=>{const l=n.find((n=>n.id===e.columnId));if(!l)return null;const i=`${e.columnId}_${e.function}`;return(0,y.jsx)(D.A,{dense:!0,children:(0,y.jsx)(F.A,{control:(0,y.jsx)(M.A,{size:"small",checked:o.includes(i),onChange:()=>(e=>{r(e)})(i)}),label:e.label||`${l.label} (${e.function.toUpperCase()})`,sx:{width:"100%"}})},i)}))]})]})},oe=e=>{let{columns:n,data:l,enabledAggregations:i,visibleColumns:o}=e;if(!l.length||!i.length)return null;const r={};return i.forEach((e=>{const[n,i]=e.split("_");r[e]=((e,n,l)=>{if(!e.length)return 0;switch(l){case"sum":return e.reduce(((e,l)=>e+(Number(l[n])||0)),0);case"avg":return e.reduce(((e,l)=>e+(Number(l[n])||0)),0)/e.length;case"min":return Math.min(...e.map((e=>Number(e[n])||0)));case"max":return Math.max(...e.map((e=>Number(e[n])||0)));case"count":return e.length;default:return 0}})(l,n,i)})),(0,y.jsxs)(s.A,{elevation:0,variant:"outlined",sx:{mt:1,p:1,backgroundColor:e=>"dark"===e.palette.mode?e.palette.grey[800]:e.palette.grey[100]},children:[(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,y.jsx)(le.A,{fontSize:"small",sx:{mr:1}}),(0,y.jsx)(d.A,{variant:"subtitle2",children:"Summary"})]}),(0,y.jsx)(Q.A,{size:"small",children:(0,y.jsx)(Y.A,{children:(0,y.jsx)(ee.A,{children:o.map((e=>{const l=n.find((n=>n.id===e));if(!l)return null;const o=i.filter((e=>e.startsWith(l.id+"_"))).map((e=>{const[n,l]=e.split("_");return{function:l,value:r[e]}}));return 0===o.length?(0,y.jsx)(ne.A,{align:l.align||"left",children:"-"},l.id):(0,y.jsx)(ne.A,{align:l.align||"left",children:o.map((e=>{let n=e.value;return l.format&&"number"===typeof n?n=l.format(n,{}):"currency"===l.type&&"number"===typeof n?n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):"number"===l.type&&"number"===typeof n&&(n=n.toLocaleString()),(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",mb:.5},children:[(0,y.jsx)(O.A,{size:"small",label:e.function.toUpperCase(),sx:{mr:1,fontSize:"0.7rem"}}),(0,y.jsx)(d.A,{variant:"body2",children:n})]},e.function)}))},l.id)}))})})})]})},re=e=>{let{columns:n,config:l,data:i,enabledAggregations:o,visibleColumns:r,onAggregationToggle:t}=e;const a=n.filter((e=>!1!==e.aggregatable&&("number"===e.type||"currency"===e.type))).flatMap((e=>["sum","avg"].map((n=>({columnId:e.id,function:n,label:`${e.label} (${n.toUpperCase()})`})))));return(0,y.jsx)(ie,{columns:n,aggregations:a,enabledAggregations:o,onAggregationToggle:t})};var te=l(35624);const ae=e=>{let{configs:n,sourceGrouping:l,selectedRow:o,onDrillDown:r}=e;const[t,a]=(0,i.useState)(null),s=()=>{a(null)},c=l?n.filter((e=>e.sourceGrouping===l)):[];return 0===c.length?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.A,{title:"Drill down options",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{o&&a(e.currentTarget)},color:"primary",disabled:!o,children:(0,y.jsx)(te.A,{fontSize:"small"})})}),(0,y.jsxs)(z.A,{anchorEl:t,open:Boolean(t),onClose:s,children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Drill Down Options"}),(0,y.jsx)(R.A,{}),c.map(((e,n)=>(0,y.jsx)(D.A,{onClick:()=>(e=>{if(!o||!l)return;const n=e.transformFilter?e.transformFilter(o):{[l]:o[l]};r(o,e.sourceGrouping,e.targetGrouping,n),s()})(e),children:e.label||`View by ${e.targetGrouping}`},`drill-down-${n}`)))]})]})};var se=l(30279),ce=l(21337),de=l(85473);const ue=e=>{let{expanded:n,onClick:l}=e;return(0,y.jsx)(u.A,{title:n?"Collapse":"Expand",children:(0,y.jsx)(g.A,{size:"small",onClick:l,sx:{ml:1},children:n?(0,y.jsx)(de.A,{}):(0,y.jsx)(ce.A,{})})})},ge=e=>{let{colSpan:n,expanded:l,renderDetail:i,row:o}=e;return(0,y.jsx)(ee.A,{children:(0,y.jsx)(ne.A,{colSpan:n,sx:{py:0,borderBottom:l?void 0:"none"},children:(0,y.jsx)(se.A,{in:l,timeout:"auto",unmountOnExit:!0,children:(0,y.jsx)(t.A,{sx:{py:2,px:1},children:i(o)})})})})},pe=e=>{let{config:n,expandedRows:l,totalRows:i,onExpandAll:o,onCollapseAll:r}=e;const t=l.length===i&&i>0;return(0,y.jsx)(u.A,{title:t?"Collapse all rows":"Expand all rows",children:(0,y.jsx)(g.A,{size:"small",onClick:t?r:o,color:l.length>0?"primary":"default",children:t?(0,y.jsx)(de.A,{fontSize:"small"}):(0,y.jsx)(ce.A,{fontSize:"small"})})})};var xe=l(95971),he=l(92317);const me=e=>{let{config:n,onExport:l}=e;const[o,r]=(0,i.useState)(null),t=()=>{r(null)},a=e=>{l(e),t()},s=n.formats||[he.A.CSV,he.A.EXCEL,he.A.PDF,he.A.JSON];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.A,{title:"Export data",children:(0,y.jsx)(g.A,{size:"small",onClick:e=>{r(e.currentTarget)},children:(0,y.jsx)(xe.A,{fontSize:"small"})})}),(0,y.jsxs)(z.A,{anchorEl:o,open:Boolean(o),onClose:t,children:[(0,y.jsx)(d.A,{variant:"subtitle2",sx:{px:2,py:1},children:"Export Format"}),(0,y.jsx)(R.A,{}),s.includes(he.A.CSV)&&(0,y.jsx)(D.A,{onClick:()=>a(he.A.CSV),children:"CSV"}),s.includes(he.A.EXCEL)&&(0,y.jsx)(D.A,{onClick:()=>a(he.A.EXCEL),children:"Excel"}),s.includes(he.A.PDF)&&(0,y.jsx)(D.A,{onClick:()=>a(he.A.PDF),children:"PDF"}),s.includes(he.A.JSON)&&(0,y.jsx)(D.A,{onClick:()=>a(he.A.JSON),children:"JSON"})]})]})};var be=l(88446),fe=l(79650),Ae=l(84882),ve=l(98587),je=l(58168),ye=l(98610),Ce=l(58387),ke=l(75429);const we=(0,l(59662).A)((0,y.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var Se=l(34535),ze=l(72876),Re=l(6803),De=l(92532),Fe=l(72372);function Me(e){return(0,Fe.Ay)("MuiTableSortLabel",e)}const Le=(0,De.A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),Pe=["active","children","className","direction","hideSortIcon","IconComponent"],Ie=(0,Se.Ay)(ke.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:l}=e;return[n.root,l.active&&n.active]}})((e=>{let{theme:n}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(n.vars||n).palette.text.secondary},"&:hover":{color:(n.vars||n).palette.text.secondary,[`& .${Le.icon}`]:{opacity:.5}},[`&.${Le.active}`]:{color:(n.vars||n).palette.text.primary,[`& .${Le.icon}`]:{opacity:1,color:(n.vars||n).palette.text.secondary}}}})),Ee=(0,Se.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:l}=e;return[n.icon,n[`iconDirection${(0,Re.A)(l.direction)}`]]}})((e=>{let{theme:n,ownerState:l}=e;return(0,je.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:n.transitions.create(["opacity","transform"],{duration:n.transitions.duration.shorter}),userSelect:"none"},"desc"===l.direction&&{transform:"rotate(0deg)"},"asc"===l.direction&&{transform:"rotate(180deg)"})})),Be=i.forwardRef((function(e,n){const l=(0,ze.A)({props:e,name:"MuiTableSortLabel"}),{active:i=!1,children:o,className:r,direction:t="asc",hideSortIcon:a=!1,IconComponent:s=we}=l,c=(0,ve.A)(l,Pe),d=(0,je.A)({},l,{active:i,direction:t,hideSortIcon:a,IconComponent:s}),u=(e=>{const{classes:n,direction:l,active:i}=e,o={root:["root",i&&"active"],icon:["icon",`iconDirection${(0,Re.A)(l)}`]};return(0,ye.A)(o,Me,n)})(d);return(0,y.jsxs)(Ie,(0,je.A)({className:(0,Ce.A)(u.root,r),component:"span",disableRipple:!0,ownerState:d,ref:n},c,{children:[o,a&&!i?null:(0,y.jsx)(Ee,{as:s,className:(0,Ce.A)(u.icon),ownerState:d})]}))})),$e=e=>{let{column:n,config:l,activeColumn:i,direction:o,onSort:r}=e;if(!1===n.sortable)return(0,y.jsx)(y.Fragment,{children:n.label});return(0,y.jsx)(u.A,{title:`Sort by ${n.label}`,children:(0,y.jsx)(Be,{active:i===n.id,direction:i===n.id?o:"asc",onClick:()=>{r(n.id)},children:n.label})})},Ne=e=>{let{data:n,columns:l,visibleColumns:o,stickyColumns:r,orderBy:a,order:s,page:c,pageSize:u,idField:g,emptyMessage:p,expandedRows:x,selectedRow:h,keyboardNavConfig:m,stickyColumnsConfig:b,renderRowDetail:f,onSort:A,onRowClick:v,onRowExpand:j,onKeyDown:C,onSetSelectedRow:k}=e;const w=(0,i.useRef)(null),S=l.filter((e=>o.includes(e.id))),z=c*u,R=z+u,D=n.slice(z,R),F=(e,n)=>{e.stopPropagation(),j(n)},M=(e,n)=>{const l=n[e.id];if(e.format)return e.format(l,n);switch(e.type){case"number":return(null===l||void 0===l?void 0:l.toLocaleString())||"-";case"currency":return void 0!==l&&null!==l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l):"-";case"percentage":return void 0!==l&&null!==l?`${l}%`:"-";case"link":if(!e.linkConfig)return l;let i="",o=l;return e.linkConfig.urlBuilder?i=e.linkConfig.urlBuilder(n):e.linkConfig.urlField?(i=n[e.linkConfig.urlField]||"",e.linkConfig.urlPrefix&&(i=e.linkConfig.urlPrefix+i),e.linkConfig.urlSuffix&&(i+=e.linkConfig.urlSuffix)):i=String(l),e.linkConfig.displayField&&(o=n[e.linkConfig.displayField]||l),(0,y.jsx)(be.A,{href:i,target:e.linkConfig.openInNewTab?"_blank":"_self",onClick:e=>e.stopPropagation(),rel:"noopener noreferrer",sx:{textDecoration:"none",color:"primary.main"},children:o});default:return void 0!==l&&null!==l?l:"-"}};return 0===n.length?(0,y.jsx)(t.A,{sx:{p:3,textAlign:"center"},children:(0,y.jsx)(d.A,{variant:"body1",color:"text.secondary",children:p})}):(0,y.jsx)(fe.A,{ref:w,children:(0,y.jsxs)(Q.A,{size:"small",children:[(0,y.jsx)(Ae.A,{children:(0,y.jsxs)(ee.A,{children:[f&&(0,y.jsx)(ne.A,{padding:"checkbox"}),S.map(((e,n)=>(0,y.jsx)(ne.A,{align:e.align||"left",sx:{...b.enabled&&r.includes(e.id)?{position:"sticky",left:0,zIndex:2,backgroundColor:e=>e.palette.background.paper,boxShadow:"2px 0 5px rgba(0,0,0,0.1)"}:{}},children:(0,y.jsx)($e,{column:e,config:{enabled:!0},activeColumn:a,direction:s,onSort:A})},e.id)))]})}),(0,y.jsx)(Y.A,{children:D.map(((e,n)=>{const l=e[g],o=x.includes(l),t=h&&h[g]===l;return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(ee.A,{hover:!0,onClick:()=>(e=>{k(e),v&&v(e)})(e),selected:t,sx:{cursor:v?"pointer":"default"},children:[f&&(0,y.jsx)(ne.A,{padding:"checkbox",children:(0,y.jsx)(ue,{expanded:o,onClick:e=>{F(e||{},l)}})}),S.map(((l,i)=>(0,y.jsx)(ne.A,{align:l.align||"left",sx:{whiteSpace:l.wrap?"normal":"nowrap",maxWidth:l.maxWidth||"auto",overflow:"hidden",textOverflow:"ellipsis",...b.enabled&&r.includes(l.id)?{position:"sticky",left:0,zIndex:1,backgroundColor:e=>e.palette.background.paper,boxShadow:"2px 0 5px rgba(0,0,0,0.1)"}:{}},tabIndex:m.enabled?0:-1,onKeyDown:e=>m.enabled&&C(e,n,i),id:`cell-${n}-${i}`,children:M(l,e)},l.id)))]}),f&&(0,y.jsx)(ge,{colSpan:S.length+1,expanded:o,renderDetail:f,row:e})]},l||`row-${n}`)}))})]})})};var Oe=l(54536),Ge=l(53968);const Te=e=>{var n;let{columns:l,groupByLevels:o,hierarchicalData:r,expandedGroups:s,loading:c,emptyMessage:u,onToggleGroup:p,onLoadChildren:x}=e;const[h,m]=(0,i.useState)([]),b=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=s.includes(e.path),c=h.includes(e.path),u=e.level<o.length-1,A=e.hasChildren&&u;return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(ee.A,{hover:!0,sx:{backgroundColor:n=>`rgba(${n.palette.primary.main}, ${.05+.05*e.level})`},children:[(0,y.jsx)(ne.A,{sx:{pl:1+2*n,fontWeight:"bold"},children:(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center"},children:[A?(0,y.jsx)(g.A,{size:"small",onClick:()=>(async e=>{if(!s.includes(e.path)&&!e.childrenLoaded&&e.hasChildren){m((n=>[...n,e.path]));try{const n=e.level+1,l=n<o.length?o[n]:null;l&&await x(e.path,n,l)}finally{m((n=>n.filter((n=>n!==e.path))))}}p(e.path)})(e),disabled:c,children:c?(0,y.jsx)(a.A,{size:20}):r?(0,y.jsx)(Oe.A,{fontSize:"small"}):(0,y.jsx)(Ge.A,{fontSize:"small"})}):(0,y.jsx)(t.A,{sx:{width:28}}),(0,y.jsxs)(d.A,{variant:"body2",component:"span",children:[e.key,": ",e.value]})]})}),l.filter((n=>n.id!==o[e.level])).map((n=>(0,y.jsx)(ne.A,{align:n.align||"left",children:f(e,n)},n.id)))]}),r&&e.children&&e.children.length>0&&(0,y.jsx)(ee.A,{children:(0,y.jsx)(ne.A,{colSpan:l.length,sx:{p:0,border:0},children:(0,y.jsx)(se.A,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,y.jsx)(t.A,{sx:{pl:2},children:e.children.map((e=>b(e,n+1)))})})})})]},e.path)},f=(e,n)=>{const l=e.metrics[n.id];if(void 0===l||null===l)return"-";if(n.format)return n.format(l,e);switch(n.type){case"number":return l.toLocaleString();case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);case"percentage":return`${l}%`;default:return l.toString()}};if(0===r.length&&!c)return(0,y.jsx)(t.A,{sx:{p:3,textAlign:"center"},children:(0,y.jsx)(d.A,{variant:"body1",color:"text.secondary",children:u})});if(c&&0===r.length)return(0,y.jsx)(t.A,{sx:{p:3,textAlign:"center"},children:(0,y.jsx)(a.A,{size:40})});const A=l.filter((e=>e.id!==o[0]));return(0,y.jsx)(fe.A,{children:(0,y.jsxs)(Q.A,{size:"small",children:[(0,y.jsx)(Ae.A,{children:(0,y.jsxs)(ee.A,{children:[(0,y.jsx)(ne.A,{children:o.length>0&&(null===(n=l.find((e=>e.id===o[0])))||void 0===n?void 0:n.label)}),A.map((e=>(0,y.jsx)(ne.A,{align:e.align||"left",children:e.label},e.id)))]})}),(0,y.jsx)(Y.A,{children:r.map((e=>b(e)))})]})})},He={sorting:{column:"",direction:"asc"},filtering:{quickFilter:"",advancedFilters:{}},pagination:{page:0,pageSize:10},grouping:{groupByColumn:null,groupByLevels:[],expandedGroups:[]},columns:{visible:[],order:[],sticky:[],widths:{}},aggregation:{enabled:[]},expandedRows:[],selectedRows:[],treeData:{expandedNodes:[]},infiniteScroll:{loadedPages:0},history:{undoStack:[],redoStack:[]},calculatedColumns:{values:{}}},Ve=e=>{let{data:n=[],columns:l=[],title:h="",loading:m=!1,emptyMessage:b="No data to display",idField:f="id",sx:A,onRowClick:v,onRefresh:j,onExport:C,onStateChange:k,onDrillDown:w,onLoadGroupChildren:z,features:R={},renderRowDetail:D,initialState:F,stateFromUrl:M=!1,enableColumnSelection:L,enableAdvancedFiltering:P,enableExportOptions:I,enableColumnReordering:E,enableRowGrouping:$,enableSummaryRow:O,enableExpandableRows:G,enableKeyboardNavigation:H,enableStickyColumns:V,enableResponsiveDesign:U,enableDrillDown:q,filterDefinitions:W,groupableColumns:_,stickyColumnIds:J,drillDownConfig:K,aggregations:X,onExportFormat:Q,onApplyAdvancedFilters:Y,onColumnOrderChange:ee,onGroupingChange:ne,onRowExpand:le}=e;const ie=(0,o.A)(),te=((0,r.A)(ie.breakpoints.down("sm")),(0,x.zy)()),se=(0,x.Zp)(),ce=(0,i.useMemo)((()=>"boolean"===typeof R.sorting?R.sorting?{enabled:!0}:{enabled:!1}:R.sorting||{enabled:!1}),[R.sorting]),de=(0,i.useMemo)((()=>void 0!==P?{enabled:!0,quickFilter:!0,advancedFilter:P}:"boolean"===typeof R.filtering?R.filtering?{enabled:!0,quickFilter:!0,advancedFilter:!0}:{enabled:!1}:R.filtering||{enabled:!1}),[R.filtering,P]),ue=(0,i.useMemo)((()=>"boolean"===typeof R.pagination?R.pagination?{enabled:!0,pageSizeOptions:[10,25,50,100]}:{enabled:!1}:R.pagination||{enabled:!1}),[R.pagination]),ge=(0,i.useMemo)((()=>void 0!==$?{enabled:$}:"boolean"===typeof R.grouping?R.grouping?{enabled:!0}:{enabled:!1}:R.grouping||{enabled:!1}),[R.grouping,$]),xe=(0,i.useMemo)((()=>void 0!==O?{enabled:O,showInFooter:!0}:"boolean"===typeof R.aggregation?R.aggregation?{enabled:!0,showInFooter:!0}:{enabled:!1}:R.aggregation||{enabled:!1}),[R.aggregation,O]),he=(0,i.useMemo)((()=>void 0!==L||void 0!==E?{enabled:L||E||!1,allowReordering:E||!1,allowHiding:L||!1,allowPinning:!1}:"boolean"===typeof R.columnManagement?R.columnManagement?{enabled:!0,allowReordering:!0,allowHiding:!0,allowPinning:!0}:{enabled:!1}:R.columnManagement||{enabled:!1}),[R.columnManagement,L,E]),be=(0,i.useMemo)((()=>void 0!==G?{enabled:G}:"boolean"===typeof R.expandableRows?R.expandableRows?{enabled:!0}:{enabled:!1}:R.expandableRows||{enabled:!1}),[R.expandableRows,G]),fe=(0,i.useMemo)((()=>void 0!==H?{enabled:H,allowCellNavigation:!0}:"boolean"===typeof R.keyboardNavigation?R.keyboardNavigation?{enabled:!0,allowCellNavigation:!0}:{enabled:!1}:R.keyboardNavigation||{enabled:!1}),[R.keyboardNavigation,H]),Ae=(0,i.useMemo)((()=>void 0!==V?{enabled:V}:"boolean"===typeof R.stickyColumns?R.stickyColumns?{enabled:!0}:{enabled:!1}:R.stickyColumns||{enabled:!1}),[R.stickyColumns,V]),ve=(0,i.useMemo)((()=>void 0!==U?{enabled:U}:"boolean"===typeof R.responsive?R.responsive?{enabled:!0}:{enabled:!1}:R.responsive||{enabled:!1}),[R.responsive,U]),je=(0,i.useMemo)((()=>void 0!==q?{enabled:q,configs:K||[]}:"boolean"===typeof R.drillDown?R.drillDown?{enabled:!0}:{enabled:!1}:R.drillDown||{enabled:!1}),[R.drillDown,q,K]),ye=(0,i.useMemo)((()=>void 0!==I?{enabled:I}:"boolean"===typeof R.export?R.export?{enabled:!0}:{enabled:!1}:R.export||{enabled:!1}),[R.export,I]),[Ce,ke]=(0,i.useState)((()=>{const e={...He,columns:{visible:l.map((e=>e.id)),order:l.map((e=>e.id)),sticky:J||l.filter((e=>e.pinned)).map((e=>e.id)),widths:l.reduce(((e,n)=>({...e,[n.id]:n.width||150})),{})}},n=F?{...e,...F}:e;return M?((e,n)=>{const l=new URLSearchParams(e),i={...n},o=l.get("sort");if(o){const[e,n]=o.split(",");i.sorting.column=e,i.sorting.direction=n}const r=l.get("q");r&&(i.filtering.quickFilter=r);const t=l.get("filters");if(t)try{i.filtering.advancedFilters=JSON.parse(t)}catch(h){console.error("Error parsing filters from URL",h)}const a=l.get("page");a&&(i.pagination.page=parseInt(a,10));const s=l.get("pageSize");s&&(i.pagination.pageSize=parseInt(s,10));const c=l.get("groupBy");c&&(i.grouping.groupByColumn=c);const d=l.get("groupByLevels");d&&(i.grouping.groupByLevels=d.split(","));const u=l.get("columns");u&&(i.columns.visible=u.split(","));const g=l.get("columnOrder");g&&(i.columns.order=g.split(","));const p=l.get("stickyColumns");p&&(i.columns.sticky=p.split(","));const x=l.get("aggregations");return x&&(i.aggregation.enabled=x.split(",")),i})(te.search,n):n}));(0,i.useEffect)((()=>{if(M&&k){const e=(e=>{const n=new URLSearchParams;return n.set("sort",`${e.sorting.column},${e.sorting.direction}`),e.filtering.quickFilter&&n.set("q",e.filtering.quickFilter),Object.keys(e.filtering.advancedFilters).length>0&&n.set("filters",JSON.stringify(e.filtering.advancedFilters)),n.set("page",e.pagination.page.toString()),n.set("pageSize",e.pagination.pageSize.toString()),e.grouping.groupByColumn&&n.set("groupBy",e.grouping.groupByColumn),n.set("columns",e.columns.visible.join(",")),n.set("columnOrder",e.columns.order.join(",")),n.set("stickyColumns",e.columns.sticky.join(",")),e.aggregation.enabled.length>0&&n.set("aggregations",e.aggregation.enabled.join(",")),n.toString()})(Ce);se({search:e},{replace:!0}),k(Ce)}else k&&k(Ce)}),[Ce,M,se,k]);const[we,Se]=(0,i.useState)([]),[ze,Re]=(0,i.useState)(!1),De=(0,i.useMemo)((()=>{let e=[...n];return de.enabled&&(e=((e,n,l)=>{let i=e;if(n){const e=n.toLowerCase();i=i.filter((n=>Object.keys(n).some((l=>{const i=n[l];return null!==i&&void 0!==i&&"object"!==typeof i&&String(i).toLowerCase().includes(e)}))))}return Object.keys(l).length>0&&(i=i.filter((e=>Object.entries(l).every((n=>{let[l,i]=n;return null===i||void 0===i||("object"===typeof i?!("min"in i&&e[l]<i.min)&&!("max"in i&&e[l]>i.max)&&!("values"in i&&!i.values.includes(e[l])):e[l]===i)}))))),i})(e,Ce.filtering.quickFilter,Ce.filtering.advancedFilters)),ce.enabled&&Ce.sorting.column&&(e=((e,n,l)=>[...e].sort(((e,i)=>{const o=e[n],r=i[n];return null===o||void 0===o?"asc"===l?-1:1:null===r||void 0===r?"asc"===l?1:-1:"number"===typeof o&&"number"===typeof r?"asc"===l?o-r:r-o:"asc"===l?String(o).localeCompare(String(r)):String(r).localeCompare(String(o))})))(e,Ce.sorting.column,Ce.sorting.direction)),e}),[n,de.enabled,ce.enabled,Ce.filtering,Ce.sorting]);(0,i.useEffect)((()=>{if(ge.hierarchical&&Ce.grouping.groupByLevels.length>0){Re(!0);const e=Ce.grouping.groupByLevels[0];if(e){const n=function(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(!e||0===e.length)return[];const r={};return e.forEach((e=>{var l;const i=(null===(l=e[n])||void 0===l?void 0:l.toString())||"Unknown";r[i]||(r[i]=[]),r[i].push(e)})),Object.entries(r).map((e=>{var r;let[t,a]=e;const s=o?`${o}/${n}:${t}`:`${n}:${t}`,c={};return i.forEach((e=>{"number"!==e.type&&"currency"!==e.type&&"percentage"!==e.type||(c[e.id]=a.reduce(((n,l)=>n+(parseFloat(l[e.id])||0)),0))})),{id:`group_${l}_${t}`,key:(null===(r=i.find((e=>e.id===n)))||void 0===r?void 0:r.label)||n,value:t,path:s,level:l,children:[],data:a,metrics:c,hasChildren:!0,childrenLoaded:!1}}))}(De,e,0,l);Se(n)}Re(!1)}}),[De,Ce.grouping.groupByLevels,ge.hierarchical,l]);const Fe=(0,i.useCallback)((e=>{ke((n=>{const l=n.sorting.column===e&&"asc"===n.sorting.direction;return{...n,sorting:{column:e,direction:l?"desc":"asc"},pagination:{...n.pagination,page:0}}}))}),[]),Me=(0,i.useCallback)((e=>{ke((n=>({...n,filtering:{...n.filtering,quickFilter:e},pagination:{...n.pagination,page:0}})))}),[]),Le=(0,i.useCallback)((e=>{ke((n=>({...n,filtering:{...n.filtering,advancedFilters:e},pagination:{...n.pagination,page:0}}))),Y&&Y(e)}),[Y]),Pe=(0,i.useCallback)(((e,n)=>{ke((l=>{const i=n?[...l.columns.visible,e]:l.columns.visible.filter((n=>n!==e));return{...l,columns:{...l.columns,visible:i}}}))}),[]),Ie=(0,i.useCallback)((e=>{ke((n=>({...n,columns:{...n.columns,order:e}}))),ee&&ee(e.map((e=>({id:e}))))}),[ee]),Ee=(0,i.useCallback)(((e,n)=>{ke((l=>{const i=n?[...l.columns.sticky,e]:l.columns.sticky.filter((n=>n!==e));return{...l,columns:{...l.columns,sticky:i}}}))}),[]),Be=(0,i.useCallback)((e=>{ke((n=>({...n,pagination:{...n.pagination,page:e}})))}),[]),$e=(0,i.useCallback)((e=>{ke((n=>({...n,pagination:{...n.pagination,page:0,pageSize:e}})))}),[]),Oe=(0,i.useCallback)((e=>{ke((n=>({...n,grouping:{...n.grouping,groupByColumn:e}}))),ne&&ne(e)}),[ne]),Ge=(0,i.useCallback)((e=>{ke((n=>({...n,grouping:{...n.grouping,groupByLevels:e,expandedGroups:[]}})))}),[]),Ve=(0,i.useCallback)((e=>{ke((n=>{const l=[...n.grouping.expandedGroups],i=l.indexOf(e);return-1===i?l.push(e):l.splice(i,1),{...n,grouping:{...n.grouping,expandedGroups:l}}}))}),[]),Ue=(0,i.useCallback)((async(e,n,l)=>{if(z)try{const i=await z(e,n,l);Se((n=>{const l=n=>n.map((n=>n.path===e?{...n,children:i,childrenLoaded:!0}:n.children&&n.children.length>0?{...n,children:l(n.children)}:n));return l(n)}))}catch(i){console.error("Error loading group children:",i)}}),[z]),qe=(0,i.useCallback)((e=>{ke((n=>{const l=[...n.aggregation.enabled],i=l.indexOf(e);return-1===i?l.push(e):l.splice(i,1),{...n,aggregation:{...n.aggregation,enabled:l}}}))}),[]),We=(0,i.useCallback)((e=>{ke((n=>{const l=[...n.expandedRows],i=l.indexOf(e),o=-1===i;return le&&le(e,o),o?be.singleExpand?{...n,expandedRows:[e]}:{...n,expandedRows:[...l,e]}:(l.splice(i,1),{...n,expandedRows:l})}))}),[be,le]),_e=(0,i.useCallback)((()=>{ke((e=>({...e,expandedRows:De.map((e=>e[f]))})))}),[De,f]),Je=(0,i.useCallback)((()=>{ke((e=>({...e,expandedRows:[]})))}),[]),Ke=(0,i.useMemo)((()=>l.filter((e=>Ce.columns.visible.includes(e.id))).sort(((e,n)=>Ce.columns.order.indexOf(e.id)-Ce.columns.order.indexOf(n.id)))),[l,Ce.columns.visible,Ce.columns.order]),Xe=(0,i.useCallback)(((e,n,l)=>{if(!fe.enabled)return;const i=De.length-1,o=Ke.length-1;let r=n,t=l;switch(e.key){case"ArrowUp":r=Math.max(0,n-1),e.preventDefault();break;case"ArrowDown":r=Math.min(i,n+1),e.preventDefault();break;case"ArrowLeft":t=Math.max(0,l-1),e.preventDefault();break;case"ArrowRight":t=Math.min(o,l+1),e.preventDefault();break;case"Home":t=0,e.preventDefault();break;case"End":t=o,e.preventDefault();break;case"PageUp":r=Math.max(0,n-10),e.preventDefault();break;case"PageDown":r=Math.min(i,n+10),e.preventDefault();break;case"Enter":const a=De[n][f];Ce.expandedRows.includes(a)?We(a):v&&v(De[n]),e.preventDefault()}if(r!==n||t!==l){const e=`cell-${r}-${t}`,n=document.getElementById(e);n&&n.focus()}}),[fe.enabled,De,Ke.length,f,Ce.expandedRows,We,v]),Ze=(0,i.useCallback)((e=>{const n=De.map((e=>{const n={};return(ye.includeHiddenColumns?l:l.filter((e=>Ce.columns.visible.includes(e.id)))).forEach((l=>{n[l.label]=e[l.id]})),n}));Q&&Q(e.toString()),C&&C(e,n)}),[C,Q,De,l,Ce.columns.visible,ye]),Qe=(0,i.useCallback)(((e,n,l,i)=>{w&&w(e,n,l,i)}),[w]),[Ye,en]=(0,i.useState)(null),nn=(0,i.useMemo)((()=>{if(!ge.enabled||!Ce.grouping.groupByColumn)return null;const e=((e,n)=>{const l={};return e.forEach((e=>{const i=String(e[n]||"Unknown");l[i]||(l[i]=[]),l[i].push(e)})),l})(De,Ce.grouping.groupByColumn);return Object.entries(e).map((e=>{let[n,i]=e;const o={[Ce.grouping.groupByColumn]:n,_groupRows:i.length,_isGroupRow:!0,[f]:`group_${n}`};return l.forEach((e=>{e.id===Ce.grouping.groupByColumn||"number"!==e.type&&"currency"!==e.type||(o[e.id]=i.reduce(((n,l)=>n+(Number(l[e.id])||0)),0))})),o}))}),[ge.enabled,Ce.grouping.groupByColumn,De,l,f]),ln=ge.enabled&&Ce.grouping.groupByColumn&&nn?nn:De;return m?(0,y.jsx)(t.A,{sx:{p:3,display:"flex",alignItems:"center",justifyContent:"center",height:200},children:(0,y.jsx)(a.A,{})}):(0,y.jsxs)(s.A,{elevation:0,variant:"outlined",sx:{width:"100%",mb:2,...A},children:[(0,y.jsxs)(c.A,{sx:{pl:{sm:2},pr:{xs:1,sm:1},display:"flex",justifyContent:"space-between"},children:[(0,y.jsx)(d.A,{variant:"h6",component:"div",children:h}),(0,y.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[de.enabled&&(0,y.jsx)(S,{columns:l,config:de,quickFilterValue:Ce.filtering.quickFilter,advancedFilters:Ce.filtering.advancedFilters,onQuickFilterChange:Me,onAdvancedFiltersChange:Le}),he.enabled&&(0,y.jsx)(B,{columns:l,config:he,visibleColumns:Ce.columns.visible,columnOrder:Ce.columns.order,stickyColumns:Ce.columns.sticky,onVisibilityChange:Pe,onOrderChange:Ie,onStickyChange:Ee}),ge.enabled&&!ge.hierarchical&&(0,y.jsx)(T,{columns:l,config:ge,groupByColumn:Ce.grouping.groupByColumn,onGroupingChange:Oe}),ge.enabled&&ge.hierarchical&&(0,y.jsx)(Z,{columns:l,config:ge,groupByLevels:Ce.grouping.groupByLevels,onGroupingLevelsChange:Ge}),xe.enabled&&(0,y.jsx)(re,{columns:l,config:xe,data:De,enabledAggregations:Ce.aggregation.enabled,visibleColumns:Ce.columns.visible,onAggregationToggle:qe}),be.enabled&&D&&(0,y.jsx)(pe,{config:be,expandedRows:Ce.expandedRows,totalRows:ln.length,onExpandAll:_e,onCollapseAll:Je}),je.enabled&&w&&(0,y.jsx)(ae,{configs:je.configs||[],sourceGrouping:Ce.grouping.groupByColumn,selectedRow:Ye,onDrillDown:Qe}),ye.enabled&&C&&(0,y.jsx)(me,{config:ye,onExport:Ze}),j&&(0,y.jsx)(u.A,{title:"Refresh",children:(0,y.jsx)(g.A,{size:"small",onClick:j,children:(0,y.jsx)(p.A,{fontSize:"small"})})})]})]}),(0,y.jsx)(t.A,{sx:{width:"100%",overflowX:ve.enabled?"auto":void 0},children:0!==ln.length||ge.hierarchical?ge.hierarchical&&Ce.grouping.groupByLevels.length>0?(0,y.jsx)(Te,{columns:l,groupByLevels:Ce.grouping.groupByLevels.map((e=>e)),hierarchicalData:we,expandedGroups:Ce.grouping.expandedGroups,loading:ze,emptyMessage:b,onToggleGroup:Ve,onLoadChildren:Ue}):(0,y.jsx)(Ne,{data:ln,columns:l,visibleColumns:Ce.columns.visible,stickyColumns:Ce.columns.sticky,orderBy:Ce.sorting.column,order:Ce.sorting.direction,page:Ce.pagination.page,pageSize:Ce.pagination.pageSize,idField:f,emptyMessage:b,expandedRows:Ce.expandedRows,selectedRow:Ye,keyboardNavConfig:fe,stickyColumnsConfig:Ae,renderRowDetail:D,onSort:Fe,onRowClick:v,onRowExpand:We,onKeyDown:Xe,onSetSelectedRow:en}):(0,y.jsx)(t.A,{sx:{p:3,textAlign:"center"},children:(0,y.jsx)(d.A,{variant:"body1",color:"text.secondary",children:b})})}),xe.enabled&&xe.showInFooter&&Ce.aggregation.enabled.length>0&&(0,y.jsx)(oe,{columns:l,data:De,enabledAggregations:Ce.aggregation.enabled,visibleColumns:Ce.columns.visible}),ue.enabled&&(0,y.jsx)(N,{config:ue,totalCount:De.length,page:Ce.pagination.page,pageSize:Ce.pagination.pageSize,onPageChange:Be,onPageSizeChange:$e})]})};l(91707);l(81045),l(16682),l(10611),l(87715)},47223:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"M15 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V9zM8 17c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m6 1V4.5l5.5 5.5z"}),"Summarize")},53968:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight")},54536:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown")},54977:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin")},88221:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"m10 17 5-5-5-5z"}),"ArrowRight")},91707:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},92317:(e,n,l)=>{l.d(n,{A:()=>i});let i=function(e){return e.CSV="csv",e.EXCEL="excel",e.PDF="pdf",e.JSON="json",e}({})},95971:(e,n,l)=>{var i=l(24994);n.A=void 0;var o=i(l(40039)),r=l(70579);n.A=(0,o.default)((0,r.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"GetApp")}}]);
//# sourceMappingURL=70.9ff098f8.chunk.js.map