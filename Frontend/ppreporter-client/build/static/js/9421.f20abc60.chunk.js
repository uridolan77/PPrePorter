"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[9421],{4103:(e,t,a)=>{a.d(t,{A:()=>i});a(65043);var n=a(26240),r=a(88489),s=a(70579);const i=e=>{let{position:t="left",variant:a="teal",showWavePattern:i=!1,thickness:l=8,color:o,patternOpacity:d=.1}=e;const c=(0,n.A)(),x=(()=>{if(o)return o;return{teal:c.palette.primary.main,purple:c.palette.secondary.main,blue:c.palette.info.main,green:c.palette.success.main,amber:c.palette.warning.main,red:c.palette.error.main}[a]||c.palette.primary.main})(),h=(()=>{switch(t){case"top":return{top:0,left:0,right:0,height:l,width:"100%"};case"right":return{top:0,right:0,bottom:0,width:l,height:"100%"};case"bottom":return{bottom:0,left:0,right:0,height:l,width:"100%"};default:return{top:0,left:0,bottom:0,width:l,height:"100%"}}})(),m={position:"absolute",backgroundColor:x,zIndex:1,top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:h.width,height:h.height};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:m}),i&&(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:d,backgroundImage:(0,r.e2)(x),backgroundSize:"100px 50px",backgroundPosition:"bottom",backgroundRepeat:"repeat-x",zIndex:0}})]})}},12807:(e,t,a)=>{a.d(t,{Ee:()=>l,Yq:()=>s,ZV:()=>r,r6:()=>i,vv:()=>n});const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return null===e||void 0===e?"\u2014":new Intl.NumberFormat("en-GB",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null===e||void 0===e?"\u2014":new Intl.NumberFormat("en-GB",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e)},s=e=>{if(!e)return"\u2014";const t="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(t)},i=e=>{if(!e)return"\u2014";const t="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t)},l=e=>null===e||void 0===e?"\u2014":`${e>=0?"+":""}${e.toFixed(2)}%`},13593:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(65043),r=a(63336),s=a(96446),i=a(85865),l=a(17392),o=a(39336),d=a(30279),c=a(21337),x=a(85473),h=a(70579);const m=e=>{let{children:t,title:a,subheader:m,action:g,icon:j,sx:u,collapsible:A=!1,defaultExpanded:p=!0,variant:y="outlined"}=e;const[v,b]=(0,n.useState)(p);return(0,h.jsxs)(r.A,{variant:y,sx:{borderRadius:1,overflow:"hidden",...u},children:[(a||m)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.A,{sx:{px:3,py:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,h.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[j&&(0,h.jsx)(s.A,{sx:{mr:1.5,display:"flex",alignItems:"center"},children:j}),(0,h.jsxs)(s.A,{children:[a&&(0,h.jsx)(i.A,{variant:"h6",component:"div",children:a}),m&&(0,h.jsx)(i.A,{variant:"body2",color:"text.secondary",children:m})]})]}),(0,h.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[g,A&&(0,h.jsx)(l.A,{onClick:()=>{b(!v)},sx:{ml:g?1:0},size:"small",children:v?(0,h.jsx)(x.A,{}):(0,h.jsx)(c.A,{})})]})]}),(0,h.jsx)(o.A,{})]}),A?(0,h.jsx)(d.A,{in:v,children:(0,h.jsx)(s.A,{children:t})}):(0,h.jsx)(s.A,{children:t})]})}},20383:(e,t,a)=>{a.d(t,{A:()=>L});var n=a(65043),r=a(85865),s=a(26240),i=a(81637),l=a(8939),o=a(24056),d=a(50108),c=a(82291),x=a(87734),h=a(52185),m=a(6026),g=a(86150),j=a(21327),u=a(38643),A=a(17869),p=a(12807),y=a(28076),v=a(10039),b=a(96446),f=a(63336),w=a(79650),k=a(71806),S=a(84882),C=a(73460),P=a(11634),z=a(70579);function D(e){let{data:t=[],columns:a=[],height:s=400,width:l="100%",rowHeight:o=53,loading:d=!1,emptyMessage:c="No data to display",onRowClick:x,headerHeight:h=56,sx:m={}}=e;const g=(0,n.useCallback)((e=>{let{index:n,style:r}=e;const s=t[n];return(0,z.jsx)(y.A,{component:"div",hover:!0,onClick:x?()=>x(s):void 0,style:{...r,display:"flex",alignItems:"center",boxSizing:"border-box",cursor:x?"pointer":"default"},children:a.map((e=>{const t=s[e.id],n=100/a.length+"%";return(0,z.jsx)(v.A,{component:"div",align:e.align||"left",style:{width:n,display:"flex",alignItems:"center",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.format?e.format(t,s):t},e.id)}))})}),[t,a,x]);return d?(0,z.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...m},children:(0,z.jsx)(i.A,{})}):t&&0!==t.length?(0,z.jsx)(f.A,{sx:{height:s,width:l,overflow:"hidden",...m},children:(0,z.jsx)(w.A,{component:"div",sx:{height:"100%",width:"100%"},children:(0,z.jsxs)(k.A,{component:"div",sx:{display:"block",width:"100%",height:"100%"},children:[(0,z.jsx)(S.A,{component:"div",sx:{display:"block",width:"100%"},children:(0,z.jsx)(y.A,{component:"div",sx:{display:"flex",width:"100%",height:h,alignItems:"center"},children:a.map((e=>{const t=100/a.length+"%";return(0,z.jsx)(v.A,{component:"div",align:e.align||"left",sx:{width:t,display:"flex",alignItems:"center",fontWeight:"bold",boxSizing:"border-box"},children:e.label},e.id)}))})}),(0,z.jsx)(C.A,{component:"div",sx:{display:"block",width:"100%",height:`calc(${s}px - ${h}px)`,overflow:"hidden"},children:(0,z.jsx)(P.Y1,{height:s-h,width:"100%",itemCount:t.length,itemSize:o,style:{overflow:"auto"},children:g})})]})})}):(0,z.jsx)(b.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:s,...m},children:(0,z.jsx)(r.A,{variant:"body1",color:"text.secondary",children:c})})}const R=(0,n.memo)(D);var I=a(83003),M=a(76682);const F=e=>{let{active:t,payload:a,label:n}=e;return t&&a&&a.length?(0,z.jsxs)("div",{style:{backgroundColor:"#fff",padding:"12px",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,z.jsx)(r.A,{variant:"subtitle2",gutterBottom:!0,children:a[0].payload.name}),(0,z.jsxs)(r.A,{variant:"body2",color:"text.secondary",children:["Revenue: ",(0,p.vv)(a[0].value)]}),(0,z.jsxs)(r.A,{variant:"body2",color:"text.secondary",children:["Players: ",a[0].payload.players.toLocaleString()]})]}):null},B=e=>{let{data:t,isLoading:a=!1,height:y=300,showLegend:v=!0,error:b=null,onRetry:f,sx:w,emptyStateMessage:k="No game data available",errorFallback:S,valueKey:C="revenue",nameKey:P="name"}=e;const D=(0,s.A)(),[B,L]=(0,n.useState)("chart"),G=(0,I.wA)();(0,n.useEffect)((()=>{t&&0!==t.length||a||b||G((0,M.Tz)())}),[G,t,a,b]);const T=(0,n.useMemo)((()=>t&&0!==t.length?t.map((e=>({name:e.name,revenue:e.revenue,players:e.players,category:e.category}))):[]),[t]),$=(0,n.useMemo)((()=>[D.palette.primary.main,D.palette.primary.light,D.palette.secondary.main,D.palette.secondary.light,D.palette.info.main,D.palette.info.light,D.palette.success.main,D.palette.success.light,D.palette.warning.main,D.palette.warning.light]),[D]),E=(0,n.useMemo)((()=>[{id:"name",label:"Game Name",align:"left"},{id:"category",label:"Category",align:"left"},{id:"revenue",label:"Revenue",align:"right",format:e=>(0,p.vv)(e)},{id:"players",label:"Players",align:"right",format:e=>e.toLocaleString()}]),[]);return a?(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:y,width:"100%"},children:(0,z.jsx)(i.A,{})}):b?S?S(b):(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:y,width:"100%"},children:(0,z.jsxs)(r.A,{variant:"body1",color:"error",children:["Error loading games data: ",b.message,f&&(0,z.jsx)("span",{style:{marginLeft:16,cursor:"pointer",textDecoration:"underline"},onClick:f,children:"Retry"})]})}):t&&0!==t.length?(0,z.jsxs)("div",{style:{width:"100%"},children:[(0,z.jsx)("div",{style:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)",marginBottom:16},children:(0,z.jsxs)(l.A,{value:B,onChange:(e,t)=>{L(t)},"aria-label":"view mode tabs",children:[(0,z.jsx)(o.A,{label:"Chart",value:"chart"}),(0,z.jsx)(o.A,{label:"Table",value:"table"})]})}),"chart"===B?(0,z.jsx)("div",{style:{width:"100%",height:y},children:(0,z.jsx)(d.u,{children:(0,z.jsxs)(c.E,{data:T,margin:{top:20,right:30,left:20,bottom:70},children:[(0,z.jsx)(x.d,{strokeDasharray:"3 3"}),(0,z.jsx)(h.W,{dataKey:"name",angle:-45,textAnchor:"end",height:70,tick:{fontSize:12}}),(0,z.jsx)(m.h,{tickFormatter:e=>`\xa3${e.toLocaleString()}`,tick:{fontSize:12}}),(0,z.jsx)(g.m,{content:(0,z.jsx)(F,{})}),v&&(0,z.jsx)(j.s,{}),(0,z.jsx)(u.y,{dataKey:"revenue",name:"Revenue",radius:[4,4,0,0],children:T.map(((e,t)=>(0,z.jsx)(A.f,{fill:$[t%$.length]},`cell-${t}`)))})]})})}):(0,z.jsx)(R,{data:t,columns:E,height:y,rowHeight:53,loading:a,emptyMessage:"No games data available"})]}):(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:y,width:"100%"},children:(0,z.jsx)(r.A,{variant:"body1",color:"text.secondary",children:k})})},L=(0,n.memo)(B)},29298:(e,t,a)=>{a.d(t,{A:()=>v});var n=a(65043),r=a(26240),s=a(79650),i=a(63336),l=a(71806),o=a(84882),d=a(28076),c=a(10039),x=a(73460),h=a(78185),m=a(85865),g=a(43845),j=a(12807),u=a(83003),A=a(76682),p=a(70579);const y=e=>{let{data:t,isLoading:a=!1,maxHeight:y=400,showHeader:v=!0}=e;const b=(0,r.A)(),f=(0,u.wA)();(0,n.useEffect)((()=>{t&&0!==t.length||a||f((0,A.pg)())}),[f,t,a]);const w=e=>{switch(e.toLowerCase()){case"completed":case"success":return b.palette.success.main;case"pending":case"processing":return b.palette.warning.main;case"failed":case"declined":return b.palette.error.main;case"refunded":return b.palette.info.main;default:return b.palette.grey[500]}},k=e=>{switch(e.toLowerCase()){case"deposit":return b.palette.success.main;case"withdrawal":return b.palette.error.main;case"bonus":return b.palette.info.main;case"wager":return b.palette.warning.main;case"win":return b.palette.success.light;default:return b.palette.grey[500]}};return a?(0,p.jsx)(s.A,{component:i.A,sx:{maxHeight:y},children:(0,p.jsxs)(l.A,{stickyHeader:!0,size:"small",children:[v&&(0,p.jsx)(o.A,{children:(0,p.jsxs)(d.A,{children:[(0,p.jsx)(c.A,{children:"Player"}),(0,p.jsx)(c.A,{children:"Type"}),(0,p.jsx)(c.A,{align:"right",children:"Amount"}),(0,p.jsx)(c.A,{children:"Date"}),(0,p.jsx)(c.A,{children:"Status"})]})}),(0,p.jsx)(x.A,{children:Array.from(new Array(5)).map(((e,t)=>(0,p.jsxs)(d.A,{children:[(0,p.jsx)(c.A,{children:(0,p.jsx)(h.A,{width:120})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(h.A,{width:80})}),(0,p.jsx)(c.A,{align:"right",children:(0,p.jsx)(h.A,{width:60})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(h.A,{width:100})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(h.A,{width:80})})]},t)))})]})}):t&&0!==t.length?(0,p.jsx)(s.A,{component:i.A,sx:{maxHeight:y},children:(0,p.jsxs)(l.A,{stickyHeader:!0,size:"small",children:[v&&(0,p.jsx)(o.A,{children:(0,p.jsxs)(d.A,{children:[(0,p.jsx)(c.A,{children:"Player"}),(0,p.jsx)(c.A,{children:"Type"}),(0,p.jsx)(c.A,{align:"right",children:"Amount"}),(0,p.jsx)(c.A,{children:"Date"}),(0,p.jsx)(c.A,{children:"Status"})]})}),(0,p.jsx)(x.A,{children:t.map((e=>(0,p.jsxs)(d.A,{hover:!0,children:[(0,p.jsx)(c.A,{children:(0,p.jsx)(m.A,{variant:"body2",noWrap:!0,sx:{maxWidth:150},children:e.playerName})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(g.A,{label:e.type,size:"small",sx:{bgcolor:`${k(e.type)}20`,color:k(e.type),fontWeight:"medium",fontSize:"0.75rem"}})}),(0,p.jsx)(c.A,{align:"right",children:(0,p.jsx)(m.A,{variant:"body2",fontWeight:"medium",color:"deposit"===e.type.toLowerCase()||"win"===e.type.toLowerCase()?"success.main":"withdrawal"===e.type.toLowerCase()?"error.main":"text.primary",children:(0,j.vv)(e.amount,e.currency)})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(m.A,{variant:"body2",color:"text.secondary",children:(0,j.r6)(e.timestamp)})}),(0,p.jsx)(c.A,{children:(0,p.jsx)(g.A,{label:e.status,size:"small",sx:{bgcolor:`${w(e.status)}20`,color:w(e.status),fontWeight:"medium",fontSize:"0.75rem"}})})]},e.id)))})]})}):(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:(0,p.jsx)(m.A,{variant:"body1",color:"text.secondary",children:"No transaction data available"})})},v=(0,n.memo)(y)},33094:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var n=a(96446),r=a(70579);const s=e=>{let{children:t,value:a,index:s,label:i,sx:l,...o}=e;const d=a===s;return(0,r.jsx)("div",{role:"tabpanel",hidden:!d,id:`tabpanel-${s}`,"aria-labelledby":`tab-${s}`,"aria-label":i,...o,children:d&&(0,r.jsx)(n.A,{sx:{p:3,...l},children:t})})}},37515:(e,t,a)=>{a.d(t,{A:()=>x});var n=a(65043),r=a(96446),s=a(85865),i=a(11906),l=a(37948),o=a(48625),d=a(70579);class c extends n.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:{message:e.message,stack:e.stack}}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t)}render(){const{fallback:e,children:t}=this.props,{hasError:a,error:n}=this.state;if(a){if(e){if("function"===typeof e&&n){return e(n)}return e}return(0,d.jsxs)(r.A,{sx:{p:3,textAlign:"center"},children:[(0,d.jsx)(l.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,d.jsx)(s.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Something went wrong"}),(0,d.jsx)(s.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:(null===n||void 0===n?void 0:n.message)||"An unexpected error occurred"}),(0,d.jsx)(i.A,{variant:"outlined",startIcon:(0,d.jsx)(o.A,{}),onClick:this.handleReset,children:"Try Again"})]})}return t}}const x=c},48959:(e,t,a)=>{a.d(t,{A:()=>De});var n=a(65043),r=a(8939),s=a(24056),i=a(33094),l=a(37515),o=a(37948),d=a(92877),c=a(85865),x=a(95033),h=a(77119),m=a(77739),g=a(17392),j=a(78185),u=a(41132),A=a(92577),p=a(4721),y=a(13593),v=a(29298),b=a(70579);const f=e=>{let{data:t,isLoading:a=!1,onDownload:r=()=>{},onSettings:s=()=>{}}=e;const i=(0,n.useMemo)((()=>t||[]),[t]);return(0,b.jsxs)("div",{style:{marginBottom:32},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,b.jsx)(c.A,{variant:"h5",children:"Recent Transactions"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.A,{title:"Download report",children:(0,b.jsx)(g.A,{size:"small",sx:{mr:1},onClick:r,"aria-label":"Download transactions report",children:(0,b.jsx)(u.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Settings",children:(0,b.jsx)(g.A,{size:"small",onClick:s,"aria-label":"Transactions settings",children:(0,b.jsx)(A.A,{fontSize:"small"})})})]})]}),(0,b.jsx)(y.A,{children:a&&0===i.length?(0,b.jsx)("div",{style:{padding:24},children:(0,b.jsx)(j.A,{variant:"rectangular",height:300})}):i.length?(0,b.jsx)(v.A,{data:i,isLoading:a,errorFallback:e=>(0,b.jsx)(d.A,{message:`Error loading transactions: ${e.message}`,icon:(0,b.jsx)(o.A,{sx:{fontSize:48,color:"error.main"}})})}):(0,b.jsx)(d.A,{message:"No recent transactions available",icon:(0,b.jsx)(p.A,{sx:{fontSize:48}})})})]})},w=e=>{var t,a,r,s,i,m,g;let{dashboardData:j,isLoading:u=!1,error:A=null}=e;const[p,y]=(0,n.useState)("week");if(A)return(0,b.jsxs)("div",{style:{padding:24,textAlign:"center"},children:[(0,b.jsx)(o.A,{style:{fontSize:48,color:"#f44336",marginBottom:16}}),(0,b.jsx)(c.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Dashboard Data"}),(0,b.jsx)(c.A,{variant:"body2",color:"text.secondary",children:A.message||"An unexpected error occurred. Please try again later."})]});const v={revenue:(null===j||void 0===j||null===(t=j.stats)||void 0===t?void 0:t.revenue)||{value:0,change:0},players:(null===j||void 0===j||null===(a=j.stats)||void 0===a?void 0:a.players)||{value:0,change:0},games:{value:(null===j||void 0===j||null===(r=j.topGames)||void 0===r?void 0:r.length)||0,change:0},engagement:{value:(null===j||void 0===j||null===(s=j.stats)||void 0===s?void 0:s.engagementRate)||0,change:(null===j||void 0===j||null===(i=j.stats)||void 0===i?void 0:i.engagementChange)||0}},w={revenueByDay:((null===j||void 0===j||null===(m=j.charts)||void 0===m?void 0:m.revenueByDay)||[]).map((e=>({day:e.date,value:e.value}))),playersByGame:((null===j||void 0===j||null===(g=j.charts)||void 0===g?void 0:g.playersByGame)||[]).map((e=>({game:e.name,value:e.players})))};return(0,b.jsx)(l.A,{fallback:(0,b.jsx)(d.A,{message:"Something went wrong loading the dashboard",icon:(0,b.jsx)(o.A,{})}),children:(0,b.jsxs)("div",{children:[(0,b.jsx)(x.A,{stats:v,loading:u,error:A,title:"Key Performance Indicators"}),(0,b.jsx)(h.A,{data:w,loading:u,error:A,title:"Performance Analytics",timePeriod:p,onTimePeriodChange:e=>{y(e),console.log(`Time period changed to ${e}`)}}),(0,b.jsx)(f,{data:null===j||void 0===j?void 0:j.recentTransactions,isLoading:u,onDownload:()=>console.log("Download transactions report"),onSettings:()=>console.log("Open transactions settings")})]})})},k=(0,n.memo)(w);var S=a(26240),C=a(81637),P=a(8591),z=a(53193),D=a(18356),R=a(72221),I=a(32143),M=a(2830),F=a(18728),B=a(15415),L=a(37912),G=a(93881),T=a(12807),$=a(56851),E=a(96135),Y=a(20383),N=a(50108),K=a(87890),W=a(4240),O=a(17869),H=a(86150),U=a(21327);const V=e=>{var t,a;let{dashboardData:r,isLoading:s=!1,error:i=null,theme:x}=e;const h=(0,S.A)(),v=x||h,[f,w]=(0,n.useState)("line"),[k,C]=(0,n.useState)("week"),N=((0,n.useMemo)((()=>[v.palette.primary.main,v.palette.secondary.main,v.palette.success.main,v.palette.error.main,v.palette.warning.main,v.palette.info.main]),[v.palette]),(0,n.useMemo)((()=>{var e;return(null===r||void 0===r||null===(e=r.charts)||void 0===e?void 0:e.revenueByDay)||[{day:"Mon",value:2100},{day:"Tue",value:2400},{day:"Wed",value:1800},{day:"Thu",value:2200},{day:"Fri",value:2600},{day:"Sat",value:3100},{day:"Sun",value:2500}]}),[null===r||void 0===r||null===(t=r.charts)||void 0===t?void 0:t.revenueByDay])),K=(0,n.useMemo)((()=>{var e;return(null===r||void 0===r||null===(e=r.charts)||void 0===e?void 0:e.playersByGame)||[{game:"Poker",value:450},{game:"Slots",value:380},{game:"Roulette",value:240},{game:"Blackjack",value:190},{game:"Baccarat",value:165}]}),[null===r||void 0===r||null===(a=r.charts)||void 0===a?void 0:a.playersByGame]),W=(0,n.useMemo)((()=>(null===r||void 0===r?void 0:r.kpis)||{averageSessionTime:45,conversionRate:3.2,churnRate:5.7,revenuePerUser:87.5}),[null===r||void 0===r?void 0:r.kpis]),O=(0,n.useMemo)((()=>N.map((e=>({date:e.day,revenue:e.value})))),[N]);if(i)return(0,b.jsxs)(M.A,{sx:(0,F.MY)({p:3,textAlign:"center"}),children:[(0,b.jsx)(o.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,b.jsx)(c.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Performance Data"}),(0,b.jsx)(c.A,{variant:"body2",color:"text.secondary",children:i.message||"An unexpected error occurred. Please try again later."})]});return(0,b.jsx)(l.A,{fallback:(0,b.jsx)(d.A,{message:"Something went wrong loading the performance data",icon:(0,b.jsx)(o.A,{})}),children:(0,b.jsxs)(M.A,{children:[(0,b.jsxs)(M.A,{sx:(0,F.MY)({mb:4}),children:[(0,b.jsxs)(M.A,{sx:(0,F.MY)({display:"flex",justifyContent:"space-between",alignItems:"center",mb:2}),children:[(0,b.jsx)(c.A,{variant:"h5",children:"Performance Metrics"}),(0,b.jsxs)(M.A,{children:[(0,b.jsx)(m.A,{title:"Download report",children:(0,b.jsx)(g.A,{size:"small",sx:{mr:1},children:(0,b.jsx)(u.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Settings",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(A.A,{fontSize:"small"})})})]})]}),(0,b.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(y.A,{title:"Revenue Trends",action:(0,b.jsx)(M.A,{sx:(0,F.MY)({display:"flex",alignItems:"center"}),children:(0,b.jsxs)(z.A,{size:"small",sx:{minWidth:120},children:[(0,b.jsx)(D.A,{id:"time-period-label",children:"Period"}),(0,b.jsxs)(R.A,{labelId:"time-period-label",id:"time-period-select",value:k,label:"Period",onChange:e=>{C(e.target.value)},children:[(0,b.jsx)(I.A,{value:"day",children:"Day"}),(0,b.jsx)(I.A,{value:"week",children:"Week"}),(0,b.jsx)(I.A,{value:"month",children:"Month"}),(0,b.jsx)(I.A,{value:"quarter",children:"Quarter"})]})]})}),children:s&&0===N.length?(0,b.jsx)(M.A,{sx:(0,F.MY)({p:3}),children:(0,b.jsx)(j.A,{variant:"rectangular",height:300})}):(0,b.jsx)(E.A,{data:O,isLoading:s})})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsx)(y.A,{title:"Player Distribution by Game",children:s&&0===K.length?(0,b.jsx)(M.A,{sx:(0,F.MY)({p:3}),children:(0,b.jsx)(j.A,{variant:"rectangular",height:300})}):(0,b.jsx)(Y.A,{data:K.map(((e,t)=>({id:`game-${t}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Game"}))),isLoading:s,valueKey:"revenue",nameKey:"name",emptyStateMessage:"No player distribution data available"})})})]})]}),(0,b.jsxs)(M.A,{sx:(0,F.MY)({mb:4}),children:[(0,b.jsx)(M.A,{sx:(0,F.MY)({display:"flex",justifyContent:"space-between",alignItems:"center",mb:2}),children:(0,b.jsx)(c.A,{variant:"h5",children:"Key Performance Indicators"})}),(0,b.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,b.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,b.jsx)($.A,{title:"Avg. Session Time",value:`${W.averageSessionTime} min`,icon:(0,b.jsx)(B.A,{}),loading:s,description:"Average time users spend in a single session"})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,b.jsx)($.A,{title:"Conversion Rate",value:`${W.conversionRate}%`,icon:(0,b.jsx)(L.A,{}),loading:s,description:"Percentage of visitors who register"})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,b.jsx)($.A,{title:"Churn Rate",value:`${W.churnRate}%`,icon:(0,b.jsx)(G.A,{}),loading:s,description:"Percentage of users who stop using the platform",isInverse:!0})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,b.jsx)($.A,{title:"Revenue Per User",value:(0,T.vv)(W.revenuePerUser),icon:(0,b.jsx)(p.A,{}),loading:s,description:"Average revenue generated per active user"})})]})]})]})})};var q=a(96446),Z=a(63336),J=a(11906),Q=a(79650),_=a(71806),X=a(84882),ee=a(28076),te=a(10039),ae=a(73460),ne=a(81045),re=a(43845),se=a(89735),ie=a(57566),le=a(47260),oe=a(95540),de=a(63471),ce=a(82291),xe=a(87734),he=a(52185),me=a(6026),ge=a(38643);const je=e=>{let{dashboardData:t,isLoading:a=!1,theme:r}=e;const s=(0,S.A)(),i=r||s,[l,o]=(0,n.useState)(0),[d,x]=(0,n.useState)(5),h=(0,n.useMemo)((()=>[i.palette.primary.main,i.palette.secondary.main,i.palette.success.main,i.palette.error.main,i.palette.warning.main,i.palette.info.main]),[i.palette]),j=(null===t||void 0===t?void 0:t.playerRegistrations)||[{date:"2023-05-01",count:45},{date:"2023-05-02",count:38},{date:"2023-05-03",count:52},{date:"2023-05-04",count:41},{date:"2023-05-05",count:37},{date:"2023-05-06",count:29},{date:"2023-05-07",count:33}],p=(null===t||void 0===t?void 0:t.playerDemographics)||[{name:"Male",value:65},{name:"Female",value:30},{name:"Other",value:5}],y=(null===t||void 0===t?void 0:t.playerAgeData)||[{age:"18-24",count:120},{age:"25-34",count:280},{age:"35-44",count:210},{age:"45-54",count:150},{age:"55+",count:90}],v=(null===t||void 0===t?void 0:t.recentPlayers)||[{id:1,name:"John Doe",registeredAt:"2023-05-01T08:30:00Z",status:"active",country:"USA"},{id:2,name:"Jane Smith",registeredAt:"2023-05-02T10:15:00Z",status:"active",country:"Canada"},{id:3,name:"Mike Johnson",registeredAt:"2023-05-03T14:45:00Z",status:"inactive",country:"UK"},{id:4,name:"Lisa Brown",registeredAt:"2023-05-04T09:20:00Z",status:"active",country:"Australia"},{id:5,name:"Robert Wilson",registeredAt:"2023-05-05T16:10:00Z",status:"pending",country:"Germany"}],f=e=>{if(!e)return"";return new Date(e).toLocaleDateString()},w=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"success";case"inactive":return"error";case"pending":return"warning";default:return"default"}};return(0,b.jsxs)(q.A,{children:[(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsxs)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(c.A,{variant:"h5",children:"Player Acquisition"}),(0,b.jsxs)(q.A,{children:[(0,b.jsx)(m.A,{title:"Download report",children:(0,b.jsx)(g.A,{size:"small",sx:{mr:1},children:(0,b.jsx)(u.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Settings",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(A.A,{fontSize:"small"})})})]})]}),(0,b.jsx)(Z.A,{sx:{p:3,borderRadius:2},children:a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,b.jsx)(C.A,{})}):(0,b.jsx)(N.u,{width:"100%",height:300,children:(0,b.jsxs)(ce.E,{data:j,children:[(0,b.jsx)(xe.d,{strokeDasharray:"3 3"}),(0,b.jsx)(he.W,{dataKey:"date",tickFormatter:f}),(0,b.jsx)(me.h,{}),(0,b.jsx)(H.m,{formatter:e=>[e,"New Players"],labelFormatter:f}),(0,b.jsx)(U.s,{}),(0,b.jsx)(ge.y,{dataKey:"count",name:"New Players",fill:i.palette.primary.main})]})})})]}),(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,b.jsx)(c.A,{variant:"h5",children:"Player Demographics"})}),(0,b.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsxs)(Z.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,b.jsx)(c.A,{variant:"h6",sx:{mb:2},children:"Gender Distribution"}),a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,b.jsx)(C.A,{})}):(0,b.jsx)(N.u,{width:"100%",height:250,children:(0,b.jsxs)(K.r,{children:[(0,b.jsx)(W.F,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:a}=e;return`${t}: ${(100*a).toFixed(0)}%`},children:p.map(((e,t)=>(0,b.jsx)(O.f,{fill:h[t%h.length]},`cell-${t}`)))}),(0,b.jsx)(H.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,b.jsx)(U.s,{})]})})]})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsxs)(Z.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,b.jsx)(c.A,{variant:"h6",sx:{mb:2},children:"Age Distribution"}),a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,b.jsx)(C.A,{})}):(0,b.jsx)(N.u,{width:"100%",height:250,children:(0,b.jsxs)(ce.E,{data:y,children:[(0,b.jsx)(xe.d,{strokeDasharray:"3 3"}),(0,b.jsx)(he.W,{dataKey:"age"}),(0,b.jsx)(me.h,{}),(0,b.jsx)(H.m,{formatter:e=>[e,"Players"]}),(0,b.jsx)(U.s,{}),(0,b.jsx)(ge.y,{dataKey:"count",name:"Players",fill:i.palette.secondary.main})]})})]})})]})]}),(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsxs)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(c.A,{variant:"h5",children:"Player List"}),(0,b.jsx)(J.A,{variant:"contained",startIcon:(0,b.jsx)(ie.A,{}),size:"small",children:"Add Player"})]}),(0,b.jsx)(Z.A,{sx:{borderRadius:2},children:a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,b.jsx)(C.A,{})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Q.A,{children:(0,b.jsxs)(_.A,{children:[(0,b.jsx)(X.A,{children:(0,b.jsxs)(ee.A,{children:[(0,b.jsx)(te.A,{children:"Player"}),(0,b.jsx)(te.A,{children:"Registration Date"}),(0,b.jsx)(te.A,{children:"Status"}),(0,b.jsx)(te.A,{children:"Country"}),(0,b.jsx)(te.A,{align:"right",children:"Actions"})]})}),(0,b.jsx)(ae.A,{children:v.slice(l*d,l*d+d).map((e=>{return(0,b.jsxs)(ee.A,{children:[(0,b.jsx)(te.A,{children:(0,b.jsxs)(q.A,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(ne.A,{sx:{mr:2,bgcolor:i.palette.primary.main},children:(t=e.name,t?t.split(" ").map((e=>e[0])).join("").toUpperCase():"")}),(0,b.jsx)(c.A,{variant:"body1",children:e.name})]})}),(0,b.jsx)(te.A,{children:f(e.registeredAt)}),(0,b.jsx)(te.A,{children:(0,b.jsx)(re.A,{label:e.status,color:w(e.status),size:"small"})}),(0,b.jsx)(te.A,{children:e.country}),(0,b.jsxs)(te.A,{align:"right",children:[(0,b.jsx)(m.A,{title:"View",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(le.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Edit",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(oe.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Delete",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(de.A,{fontSize:"small"})})})]})]},e.id);var t}))})]})}),(0,b.jsx)(se.A,{rowsPerPageOptions:[5,10,25],component:"div",count:v.length,rowsPerPage:d,page:l,onPageChange:(e,t)=>{o(t)},onRowsPerPageChange:e=>{x(parseInt(e.target.value,10)),o(0)}})]})})]})]})};var ue=a(12110),Ae=a(36591),pe=a(26494),ye=a(76641),ve=a(22505),be=a(74523),fe=a(64960),we=a(65514),ke=a(49866),Se=a(53721),Ce=a(35258);const Pe=e=>{let{dashboardData:t,isLoading:a=!1,theme:r}=e;const s=(0,S.A)(),i=r||s,[l,o]=(0,n.useState)(0),[d,x]=(0,n.useState)(5),h=[i.palette.primary.main,i.palette.secondary.main,i.palette.success.main,i.palette.error.main,i.palette.warning.main,i.palette.info.main],j=(null===t||void 0===t?void 0:t.gameCategoryData)||[{name:"Slots",value:45},{name:"Table Games",value:25},{name:"Poker",value:15},{name:"Live Casino",value:10},{name:"Specialty",value:5}],p=(null===t||void 0===t?void 0:t.gamePerformanceData)||[{name:"Engagement",game1:80,game2:90,game3:70},{name:"Retention",game1:85,game2:75,game3:80},{name:"Revenue",game1:90,game2:80,game3:85},{name:"Popularity",game1:70,game2:85,game3:75},{name:"Growth",game1:75,game2:70,game3:90}],y=(null===t||void 0===t?void 0:t.topGames)||[{id:1,name:"Poker Pro",revenue:3200.56,players:432,rating:4.5,category:"Poker"},{id:2,name:"Blackjack Masters",revenue:2800.32,players:387,rating:4.2,category:"Table Games"},{id:3,name:"Slots Royale",revenue:2300.18,players:356,rating:4.7,category:"Slots"},{id:4,name:"Roulette King",revenue:1900.45,players:289,rating:4,category:"Table Games"},{id:5,name:"Baccarat Elite",revenue:1450.67,players:218,rating:3.8,category:"Table Games"}],v=(null===t||void 0===t?void 0:t.featuredGames)||[{id:1,name:"Poker Pro",description:"The ultimate poker experience with multiple game modes and tournaments.",image:"https://via.placeholder.com/300x150",category:"Poker",rating:4.5,players:432},{id:2,name:"Slots Royale",description:"Exciting slot machine game with progressive jackpots and bonus rounds.",image:"https://via.placeholder.com/300x150",category:"Slots",rating:4.7,players:356},{id:3,name:"Blackjack Masters",description:"Classic blackjack with advanced features and realistic gameplay.",image:"https://via.placeholder.com/300x150",category:"Table Games",rating:4.2,players:387}];return(0,b.jsxs)(q.A,{children:[(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsxs)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(c.A,{variant:"h5",children:"Featured Games"}),(0,b.jsx)(J.A,{variant:"contained",startIcon:(0,b.jsx)(ve.A,{}),size:"small",children:"Add Game"})]}),(0,b.jsx)(P.Ay,{container:!0,spacing:3,children:v.map((e=>(0,b.jsx)(P.Ay,{item:!0,xs:12,md:4,children:(0,b.jsxs)(ue.A,{sx:{height:"100%"},children:[(0,b.jsx)(Ae.A,{component:"img",height:"140",image:e.image,alt:e.name}),(0,b.jsxs)(pe.A,{children:[(0,b.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,b.jsxs)(q.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,b.jsx)(re.A,{label:e.category,size:"small",color:"primary",sx:{mr:1}}),(0,b.jsx)(ye.A,{value:e.rating,precision:.5,size:"small",readOnly:!0})]}),(0,b.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,b.jsxs)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsxs)(c.A,{variant:"body2",children:[(0,b.jsx)("strong",{children:e.players})," active players"]}),(0,b.jsx)(J.A,{size:"small",variant:"outlined",children:"Details"})]})]})]})},e.id)))})]}),(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsxs)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,b.jsx)(c.A,{variant:"h5",children:"Game Analytics"}),(0,b.jsxs)(q.A,{children:[(0,b.jsx)(m.A,{title:"Download report",children:(0,b.jsx)(g.A,{size:"small",sx:{mr:1},children:(0,b.jsx)(u.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Settings",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(A.A,{fontSize:"small"})})})]})]}),(0,b.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsxs)(Z.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,b.jsx)(c.A,{variant:"h6",sx:{mb:2},children:"Game Category Distribution"}),a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,b.jsx)(C.A,{})}):(0,b.jsx)(N.u,{width:"100%",height:300,children:(0,b.jsxs)(K.r,{children:[(0,b.jsx)(W.F,{data:j,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:t,percent:a}=e;return`${t}: ${(100*a).toFixed(0)}%`},children:j.map(((e,t)=>(0,b.jsx)(O.f,{fill:h[t%h.length]},`cell-${t}`)))}),(0,b.jsx)(H.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,b.jsx)(U.s,{})]})})]})}),(0,b.jsx)(P.Ay,{item:!0,xs:12,md:6,children:(0,b.jsxs)(Z.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,b.jsx)(c.A,{variant:"h6",sx:{mb:2},children:"Game Performance Comparison"}),a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,b.jsx)(C.A,{})}):(0,b.jsx)(N.u,{width:"100%",height:300,children:(0,b.jsxs)(fe.V,{outerRadius:90,data:p,children:[(0,b.jsx)(we.z,{}),(0,b.jsx)(ke.r,{dataKey:"name"}),(0,b.jsx)(Se.E,{angle:30,domain:[0,100]}),(0,b.jsx)(Ce.V,{name:"Poker Pro",dataKey:"game1",stroke:i.palette.primary.main,fill:i.palette.primary.main,fillOpacity:.6}),(0,b.jsx)(Ce.V,{name:"Slots Royale",dataKey:"game2",stroke:i.palette.secondary.main,fill:i.palette.secondary.main,fillOpacity:.6}),(0,b.jsx)(Ce.V,{name:"Blackjack Masters",dataKey:"game3",stroke:i.palette.success.main,fill:i.palette.success.main,fillOpacity:.6}),(0,b.jsx)(U.s,{}),(0,b.jsx)(H.m,{})]})})]})})]})]}),(0,b.jsxs)(q.A,{sx:{mb:4},children:[(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,b.jsx)(c.A,{variant:"h5",children:"Game Performance"})}),(0,b.jsx)(Z.A,{sx:{borderRadius:2},children:a?(0,b.jsx)(q.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,b.jsx)(C.A,{})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Q.A,{children:(0,b.jsxs)(_.A,{children:[(0,b.jsx)(X.A,{children:(0,b.jsxs)(ee.A,{children:[(0,b.jsx)(te.A,{children:"Game"}),(0,b.jsx)(te.A,{children:"Category"}),(0,b.jsx)(te.A,{children:"Rating"}),(0,b.jsx)(te.A,{align:"right",children:"Players"}),(0,b.jsx)(te.A,{align:"right",children:"Revenue"}),(0,b.jsx)(te.A,{align:"right",children:"Actions"})]})}),(0,b.jsx)(ae.A,{children:y.slice(l*d,l*d+d).map((e=>{return(0,b.jsxs)(ee.A,{children:[(0,b.jsx)(te.A,{children:(0,b.jsxs)(q.A,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(be.A,{sx:{mr:1,color:i.palette.primary.main}}),(0,b.jsx)(c.A,{variant:"body1",children:e.name})]})}),(0,b.jsx)(te.A,{children:(0,b.jsx)(re.A,{label:e.category,size:"small",color:"primary",variant:"outlined"})}),(0,b.jsx)(te.A,{children:(0,b.jsxs)(q.A,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(ye.A,{value:e.rating,precision:.5,size:"small",readOnly:!0}),(0,b.jsxs)(c.A,{variant:"body2",sx:{ml:1},children:["(",e.rating,")"]})]})}),(0,b.jsx)(te.A,{align:"right",children:e.players.toLocaleString()}),(0,b.jsx)(te.A,{align:"right",children:(t=e.revenue,t?`$${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00")}),(0,b.jsxs)(te.A,{align:"right",children:[(0,b.jsx)(m.A,{title:"View",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(le.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Edit",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(oe.A,{fontSize:"small"})})}),(0,b.jsx)(m.A,{title:"Delete",children:(0,b.jsx)(g.A,{size:"small",children:(0,b.jsx)(de.A,{fontSize:"small"})})})]})]},e.id);var t}))})]})}),(0,b.jsx)(se.A,{rowsPerPageOptions:[5,10,25],component:"div",count:y.length,rowsPerPage:d,page:l,onPageChange:(e,t)=>{o(t)},onRowsPerPageChange:e=>{x(parseInt(e.target.value,10)),o(0)}})]})})]})]})},ze=e=>{let{activeTab:t,onTabChange:a,dashboardData:c,isLoading:x,error:h,theme:m,sx:g}=e;const j=(0,n.useCallback)(((e,t)=>{a&&a(e,t)}),[a]),u=(0,n.useMemo)((()=>[{id:0,label:"Dashboard Overview",component:(0,b.jsx)(k,{dashboardData:c,isLoading:x,error:h})},{id:1,label:"Performance Metrics",component:(0,b.jsx)(V,{dashboardData:c,isLoading:x,error:h})},{id:2,label:"Player Analytics",component:(0,b.jsx)(je,{dashboardData:c,isLoading:x})},{id:3,label:"Game Analytics",component:(0,b.jsx)(Pe,{dashboardData:c,isLoading:x})}]),[c,x,h,m]),A=(0,n.useCallback)((e=>(0,b.jsx)(d.A,{message:e,icon:(0,b.jsx)(o.A,{sx:{fontSize:48,color:"error.main"}})})),[]);return(0,b.jsxs)("div",{className:"dashboard-tabs-container",children:[(0,b.jsx)("div",{style:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)",marginBottom:24},children:(0,b.jsx)(r.A,{value:t,onChange:j,"aria-label":"dashboard tabs",role:"tablist",children:u.map((e=>(0,b.jsx)(s.A,{label:e.label.split(" ")[0],id:`tab-${e.id}`,"aria-controls":`tabpanel-${e.id}`,tabIndex:t===e.id?0:-1},e.id)))})}),u.map((e=>(0,b.jsx)(i.A,{value:t,index:e.id,label:e.label,children:(0,b.jsx)(l.A,{fallback:A(`Something went wrong loading the ${e.label.toLowerCase()}`),children:e.component})},e.id)))]})},De=(0,n.memo)(ze)},56851:(e,t,a)=>{a.d(t,{A:()=>v});a(65043);var n=a(12110),r=a(26494),s=a(85865),i=a(77739),l=a(17392),o=a(81637),d=a(90310),c=a(39336),x=a(2830),h=a(18728),m=a(37912),g=a(93881),j=a(2306),u=a(47030),A=a(98082),p=a(4103),y=a(70579);const v=e=>{let{title:t,value:a,subtitle:v,description:b,trend:f=null,trendLabel:w="vs previous period",icon:k=null,loading:S=!1,onMoreClick:C,color:P,isInverse:z=!1,prefix:D="",valueFormatOptions:R,sx:I}=e;const M=null===f?{icon:null,color:"text.secondary"}:f>0?{icon:(0,y.jsx)(m.A,{fontSize:"small"}),color:z?"error.main":"success.main"}:f<0?{icon:(0,y.jsx)(g.A,{fontSize:"small"}),color:z?"success.main":"error.main"}:{icon:(0,y.jsx)(j.A,{fontSize:"small"}),color:"text.secondary"};return(0,y.jsxs)(n.A,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:P,position:"relative",overflow:"hidden",boxShadow:"0px 12px 24px rgba(0, 0, 0, 0.12), 0px 24px 32px rgba(0, 0, 0, 0.16)",borderRadius:2,border:"1px solid rgba(0, 0, 0, 0.08)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:"0px 16px 32px rgba(0, 0, 0, 0.16), 0px 32px 48px rgba(0, 0, 0, 0.2)"},...I},children:[(0,y.jsx)(p.A,{position:"left",variant:null===f?"blue":f>0?z?"red":"green":f<0?z?"green":"red":"blue"}),(0,y.jsxs)(r.A,{sx:{flex:1,position:"relative",p:3},children:[(0,y.jsxs)(x.A,{sx:(0,h.MY)({display:"flex",justifyContent:"space-between",alignItems:"center",mb:1}),children:[(0,y.jsxs)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center"}),children:[(0,y.jsx)(s.A,{variant:"subtitle2",color:"text.secondary",children:t}),b&&(0,y.jsx)(i.A,{title:b,arrow:!0,children:(0,y.jsx)(l.A,{size:"small",sx:{ml:.5,p:0},children:(0,y.jsx)(u.A,{fontSize:"small",color:"action"})})})]}),C&&(0,y.jsx)(l.A,{size:"small",onClick:e=>C(e),sx:{marginRight:-1},children:(0,y.jsx)(A.A,{fontSize:"small"})})]}),(0,y.jsxs)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center",justifyContent:"space-between",mt:1}),children:[(0,y.jsx)(x.A,{children:S?(0,y.jsx)(o.A,{size:24}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.A,{variant:"h4",component:"div",fontWeight:"medium",children:[D,(e=>void 0===e||null===e?"0":"string"===typeof e?e:isNaN(Number(e))?"0":R?new Intl.NumberFormat("en-GB",R).format(e):new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e))(a)]}),v&&(0,y.jsx)(s.A,{variant:"body2",color:"text.secondary",children:v})]})}),k&&(0,y.jsx)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e=>(0,d.X4)(e.palette.primary.main,.1),color:"primary.main",borderRadius:"50%",width:48,height:48}),children:k})]}),null!==f&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{sx:{my:1.5,borderColor:"divider"}}),(0,y.jsxs)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center"}),children:[(0,y.jsxs)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center",color:M.color,mr:1}),children:[M.icon,(0,y.jsx)(s.A,{variant:"body2",component:"span",fontWeight:"medium",sx:{color:M.color,ml:.5},children:(e=>{if(null===e||void 0===e)return"";if(isNaN(Number(e)))return"";const t=parseFloat(Number(e).toFixed(2));return`${t>0?"+":""}${t.toFixed(2)}%`})(f)})]}),(0,y.jsx)(s.A,{variant:"caption",color:"text.secondary",children:w})]})]})]})]})}},67943:(e,t,a)=>{a.d(t,{A:()=>b});a(65043);var n=a(26240),r=a(63336),s=a(96446),i=a(85865),l=a(8591),o=a(11906),d=a(45424),c=a(32143),x=a(2050),h=a(48734),m=a(37515),g=a(37948),j=a(48625),u=a(28242),A=a(86974),p=a(10155),y=a(45194),v=a(70579);const b=e=>{let{user:t,onRefresh:a,onToggleFilters:b,onFilterReset:f,onToggleTestPanel:w,filterMenuAnchor:k,onFilterMenuClick:S,onFilterMenuClose:C,showTestPanel:P,sx:z}=e;const D=(0,n.A)();return(0,v.jsx)(m.A,{fallback:(0,v.jsx)(r.A,{elevation:0,sx:{p:3,mb:4,bgcolor:D.palette.error.light,color:"white",borderRadius:2},children:(0,v.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(g.A,{sx:{mr:2,fontSize:32}}),(0,v.jsx)(i.A,{variant:"h6",children:"Something went wrong loading the dashboard header"})]})}),children:(0,v.jsx)(r.A,{elevation:0,sx:{p:3,mb:4,bgcolor:D.palette.primary.main,color:"white",borderRadius:2,...z},children:(0,v.jsxs)(l.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,v.jsxs)(l.Ay,{item:!0,xs:12,md:8,children:[(0,v.jsxs)(i.A,{variant:"h4",component:"h1",gutterBottom:!0,children:["Welcome, ",(null===t||void 0===t?void 0:t.firstName)||"User","!"]}),(0,v.jsx)(i.A,{variant:"body1",children:"Here's an overview of your PP Reporter performance. Use the dashboard to monitor key metrics and gain insights."})]}),(0,v.jsx)(l.Ay,{item:!0,xs:12,md:4,sx:{textAlign:"right"},children:(0,v.jsxs)(s.A,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,v.jsx)(o.A,{variant:"contained",color:"secondary",onClick:S,startIcon:(0,v.jsx)(u.A,{}),sx:{bgcolor:"white",color:D.palette.primary.main,"&:hover":{bgcolor:D.palette.grey[100]}},"aria-label":"Open filter menu",children:"Filter"}),(0,v.jsx)(o.A,{variant:"contained",color:"secondary",onClick:a,startIcon:(0,v.jsx)(j.A,{}),sx:{bgcolor:"white",color:D.palette.primary.main,"&:hover":{bgcolor:D.palette.grey[100]}},"aria-label":"Refresh dashboard data",children:"Refresh"}),(0,v.jsx)(o.A,{variant:"contained",color:"secondary",onClick:w,startIcon:(0,v.jsx)(y.A,{}),sx:{bgcolor:"white",color:D.palette.primary.main,"&:hover":{bgcolor:D.palette.grey[100]}},"aria-label":"Toggle test panel",children:"Test"}),(0,v.jsxs)(d.A,{anchorEl:k,open:Boolean(k),onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,v.jsxs)(c.A,{onClick:b,children:[(0,v.jsx)(x.A,{children:(0,v.jsx)(A.A,{fontSize:"small"})}),(0,v.jsx)(h.A,{children:"Advanced Filters"})]}),(0,v.jsxs)(c.A,{onClick:f,children:[(0,v.jsx)(x.A,{children:(0,v.jsx)(p.A,{fontSize:"small"})}),(0,v.jsx)(h.A,{children:"Reset Filters"})]})]})]})})]})})})}},77119:(e,t,a)=>{a.d(t,{A:()=>b});var n=a(65043),r=a(85865),s=a(8591),i=a(53193),l=a(18356),o=a(72221),d=a(32143),c=a(78185),x=a(2830),h=a(18728),m=a(37515),g=a(92877),j=a(13593),u=a(37948),A=a(96135),p=a(20383),y=a(70579);const v=e=>{let{data:t,loading:a,error:v,title:b="Performance Metrics",timePeriod:f="week",onTimePeriodChange:w,sx:k}=e;const S=t||{revenueByDay:[],playersByGame:[]},C=(0,n.useMemo)((()=>S.revenueByDay.map((e=>({date:e.day,revenue:e.value})))),[S.revenueByDay]),P=(0,n.useMemo)((()=>S.playersByGame.map(((e,t)=>({id:`game-${t}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Unknown"})))),[S.playersByGame]);return v?(0,y.jsx)(g.A,{message:`Error loading charts: ${v.message}`,icon:(0,y.jsx)(u.A,{sx:{fontSize:48,color:"error.main"}})}):(0,y.jsx)(m.A,{fallback:(0,y.jsx)(g.A,{message:"Error displaying charts"}),children:(0,y.jsxs)(x.A,{sx:(0,h.MY)({mb:4,...k}),children:[(0,y.jsx)(r.A,{variant:"h5",sx:{mb:2},children:b}),(0,y.jsxs)(s.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(j.A,{title:"Revenue Trends",action:(0,y.jsx)(x.A,{sx:(0,h.MY)({display:"flex",alignItems:"center"}),children:(0,y.jsxs)(i.A,{size:"small",sx:{minWidth:120},children:[(0,y.jsx)(l.A,{id:"time-period-label",children:"Period"}),(0,y.jsxs)(o.A,{labelId:"time-period-label",id:"time-period-select",value:f,label:"Period",onChange:e=>{w&&w(e.target.value)},children:[(0,y.jsx)(d.A,{value:"day",children:"Day"}),(0,y.jsx)(d.A,{value:"week",children:"Week"}),(0,y.jsx)(d.A,{value:"month",children:"Month"}),(0,y.jsx)(d.A,{value:"quarter",children:"Quarter"})]})]})}),children:a?(0,y.jsx)(x.A,{sx:(0,h.MY)({p:3}),children:(0,y.jsx)(c.A,{variant:"rectangular",height:300})}):(0,y.jsx)(A.A,{data:C,isLoading:a})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(j.A,{title:"Player Distribution by Game",children:a?(0,y.jsx)(x.A,{sx:(0,h.MY)({p:3}),children:(0,y.jsx)(c.A,{variant:"rectangular",height:300})}):(0,y.jsx)(p.A,{data:P,isLoading:a})})})]})]})})},b=(0,n.memo)(v)},92877:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var n=a(96446),r=a(85865),s=a(98348),i=a(70579);const l=e=>{let{message:t="No data available",icon:a=(0,i.jsx)(s.A,{sx:{fontSize:48,color:"text.secondary"}}),action:l,description:o,sx:d={}}=e;return(0,i.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,...d},children:[a,(0,i.jsx)(r.A,{variant:"body1",color:"text.secondary",sx:{mt:2,textAlign:"center"},children:t}),o&&(0,i.jsx)(r.A,{variant:"body2",color:"text.secondary",sx:{mt:1,textAlign:"center"},children:o}),l&&(0,i.jsx)(n.A,{sx:{mt:2},children:l})]})}},95033:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(65043),r=a(11906),s=a(85865),i=a(8591),l=a(4721),o=a(37991),d=a(74523),c=a(15415),x=a(56851),h=a(12807),m=a(37515),g=a(92877),j=a(37948),u=a(83003),A=a(76682),p=a(2830),y=a(18728),v=a(70579);const b=e=>{let{stats:t,loading:a=!1,error:b=null,title:f="Key Metrics",onRetry:w,sx:k}=e;const S=(0,u.wA)();if((0,n.useEffect)((()=>{t||a||b||S((0,A.JD)())}),[S,t,a,b]),b)return(0,v.jsx)(g.A,{message:`Error loading metrics: ${b.message}`,icon:(0,v.jsx)(j.A,{sx:{fontSize:48,color:"error.main"}}),action:w?(0,v.jsx)(r.A,{onClick:w,children:"Retry"}):void 0});const C=t||{revenue:{value:0,change:0},players:{value:0,change:0},games:{value:0,change:0},engagement:{value:0,change:0}};return(0,v.jsx)(m.A,{fallback:(0,v.jsx)(g.A,{message:"Error displaying metrics"}),children:(0,v.jsxs)(p.A,{sx:(0,y.MY)({mb:4,...k}),children:[(0,v.jsx)(s.A,{variant:"h5",sx:(0,y.MY)({mb:2}),children:f}),(0,v.jsxs)(i.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{title:"Total Revenue",value:(0,h.vv)(C.revenue.value),trend:C.revenue.change,icon:(0,v.jsx)(l.A,{}),loading:a,description:"Total revenue across all games"})}),(0,v.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{title:"Active Players",value:C.players.value.toLocaleString(),trend:C.players.change,icon:(0,v.jsx)(o.A,{}),loading:a,description:"Number of active players"})}),(0,v.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{title:"Popular Games",value:C.games.value,trend:C.games.change,icon:(0,v.jsx)(d.A,{}),loading:a,description:"Number of games with active players"})}),(0,v.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{title:"Engagement Rate",value:`${C.engagement.value}%`,trend:C.engagement.change,icon:(0,v.jsx)(c.A,{}),loading:a,description:"Average player engagement rate"})})]})]})})},f=(0,n.memo)(b)},96135:(e,t,a)=>{a.d(t,{A:()=>S});var n=a(65043),r=a(26240),s=a(30344),i=a(81637),l=a(85865),o=a(50108),d=a(75748),c=a(87734),x=a(52185),h=a(6026),m=a(86150),g=a(90168),j=a(877),u=a(21327),A=a(13839),p=a(2830),y=a(18728),v=a(12807),b=a(83003),f=a(76682),w=a(70579);const k=e=>{let{data:t,isLoading:a=!1,height:k=300,error:S=null,onRetry:C,sx:P}=e;const z=(0,r.A)(),D=(0,s.A)(z.breakpoints.down("sm")),R=(0,b.wA)();(0,n.useEffect)((()=>{t&&0!==t.length||a||S||R((0,f.ro)())}),[R,t,a,S]);const I=(0,n.useMemo)((()=>t&&0!==t.length?t.map((e=>({date:(0,v.Yq)(e.date),fullDate:e.date,revenue:parseFloat((e.revenue||e.value||0).toString()),formattedValue:(0,v.vv)(e.revenue||e.value||0)}))):[]),[t]);return a?(0,w.jsx)(p.A,{sx:(0,y.MY)({display:"flex",justifyContent:"center",alignItems:"center",height:k,...P}),children:(0,w.jsx)(i.A,{})}):S?(0,w.jsx)(p.A,{sx:(0,y.MY)({display:"flex",justifyContent:"center",alignItems:"center",height:k,...P}),children:(0,w.jsxs)(l.A,{variant:"body1",color:"error",children:["Error loading revenue data: ",S.message,C&&(0,w.jsx)(p.A,{component:"span",sx:(0,y.MY)({ml:2,cursor:"pointer",textDecoration:"underline"}),onClick:C,children:"Retry"})]})}):t&&0!==t.length?D?(0,w.jsx)(p.A,{sx:(0,y.MY)({width:"100%",height:k,...P}),children:(0,w.jsx)(o.u,{children:(0,w.jsxs)(d.b,{data:I,margin:{top:10,right:10,left:0,bottom:0},children:[(0,w.jsx)(c.d,{strokeDasharray:"3 3"}),(0,w.jsx)(x.W,{dataKey:"date",tick:{fontSize:10},interval:"preserveStartEnd"}),(0,w.jsx)(h.h,{tickFormatter:e=>(0,v.vv)(e,"GBP").replace("\xa3",""),tick:{fontSize:10},width:40}),(0,w.jsx)(m.m,{formatter:e=>[(0,v.vv)(e),"Revenue"],labelFormatter:e=>{const t=I.find((t=>t.date===e));return t?(0,v.Yq)(t.fullDate):e}}),(0,w.jsx)(g.N,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})}):(0,w.jsx)(p.A,{sx:(0,y.MY)({width:"100%",height:k,...P}),children:(0,w.jsx)(o.u,{children:(0,w.jsxs)(j.Q,{data:I,margin:{top:10,right:30,left:0,bottom:0},children:[(0,w.jsx)(c.d,{strokeDasharray:"3 3"}),(0,w.jsx)(x.W,{dataKey:"date"}),(0,w.jsx)(h.h,{tickFormatter:e=>(0,v.vv)(e,"GBP").replace("\xa3","")}),(0,w.jsx)(m.m,{formatter:e=>[(0,v.vv)(e),"Revenue"]}),(0,w.jsx)(u.s,{}),(0,w.jsx)(A.G,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",fill:"#4caf50",fillOpacity:.3})]})})}):(0,w.jsx)(p.A,{sx:(0,y.MY)({display:"flex",justifyContent:"center",alignItems:"center",height:k,...P}),children:(0,w.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"No revenue data available"})})},S=(0,n.memo)(k)}}]);
//# sourceMappingURL=9421.f20abc60.chunk.js.map