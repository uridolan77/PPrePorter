"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[1100],{21100:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(65043),s=a(35475),n=a(19252),r=a(85865),i=a(11906),o=a(63336),d=a(30279),c=a(8591),u=a(53193),h=a(18356),p=a(72221),A=a(32143),g=a(39336),y=a(67784),m=a(43845),x=a(67254),v=a(81637),b=a(88696),j=a(24879),f=a(352),D=a(95192),C=a(82746),I=a(40672),E=a(58390),G=a(19170),M=a(69525),S=a(54235),P=a(28242),T=a(48625),L=a(41132),R=a(24176),w=a(21337),Y=a(85473),k=a(70579);const N=()=>{var e,t;const[a,N]=(0,l.useState)((0,G.A)(new Date,1)),[W,O]=(0,l.useState)(new Date),[B,F]=(0,l.useState)([]),[$,U]=(0,l.useState)([]),[z,V]=(0,l.useState)([]),[q,_]=(0,l.useState)([]),[H,K]=(0,l.useState)([]),[J,Z]=(0,l.useState)([]),[X,Q]=(0,l.useState)("Day"),[ee,te]=(0,l.useState)([{id:"Day",name:"Day"},{id:"Month",name:"Month"},{id:"Year",name:"Year"},{id:"Label",name:"White Label"},{id:"Player",name:"Player"},{id:"Country",name:"Country"},{id:"Tracker",name:"Tracker"},{id:"Currency",name:"Currency"},{id:"Gender",name:"Gender"},{id:"Platform",name:"Platform"},{id:"Ranking",name:"Ranking"}]),[ae,le]=(0,l.useState)([]),[se,ne]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(null),[oe,de]=(0,l.useState)(!1),[ce,ue]=(0,l.useState)(!0),[he,pe]=(0,l.useState)(!1),[Ae,ge]=(0,l.useState)(!1),[ye,me]=(0,l.useState)(["groupValue","registrations","ftd","deposits","paidCashouts","ggrCasino","ggrSport","ggrLive","totalGGR"]),[xe,ve]=(0,l.useState)({}),[be,je]=(0,l.useState)({totalPlayers:0,newRegistrations:0,totalDeposits:0,totalBets:0,totalFTD:0,totalCashouts:0,totalGGR:0,totalRegistrations:0,playersTrend:null,registrationsTrend:null,depositsTrend:null,betsTrend:null,trends:{totalPlayers:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},newRegistrations:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},totalDeposits:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},totalBets:{previous:0,lastWeek:0,lastMonth:0,lastYear:0}}}),[fe,De]=(0,l.useState)(["totalPlayers","newRegistrations","totalDeposits","totalBets"]),[Ce,Ie]=(0,l.useState)({totalPlayers:"previous",newRegistrations:"previous",totalDeposits:"previous",totalBets:"previous",totalWithdrawals:"previous",totalGGR:"previous",avgBetAmount:"previous",conversionRate:"previous",retentionRate:"previous",activeUsers:"previous",avgSessionDuration:"previous",betCount:"previous",totalFTD:"previous",totalCashouts:"previous"});(0,l.useEffect)((()=>{(async()=>{try{console.log("[DAILY ACTIONS PAGE] Fetching metadata"),console.log("[DAILY ACTIONS PAGE] Skipping mock data for metadata, always using real API");const e=await S.A.getMetadata();if(console.log("[DAILY ACTIONS PAGE] Got metadata from service:",e),e&&e.whiteLabels){console.log("[DAILY ACTIONS PAGE] Got white labels from service:",e.whiteLabels);const t=e.whiteLabels||[];U(t);const a=t.map((e=>({value:e.id,label:e.name})));V(a)}else console.log("[DAILY ACTIONS PAGE] No white labels found in API response"),U([]),V([]);if(e&&e.countries){console.log("[DAILY ACTIONS PAGE] Got countries from service:",e.countries);const t=e.countries||[];K(t);const a=t.map((e=>({value:e.id,label:e.name})));Z(a)}else console.log("[DAILY ACTIONS PAGE] No countries found in API response"),K([]),Z([])}catch(e){console.error("[DAILY ACTIONS PAGE] Error fetching metadata:",e),ie("Failed to load metadata. Please try again later.")}})()}),[]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{(async()=>{console.log("[DAILY ACTIONS PAGE] Fetching initial data"),await Ee()})()}),100);return()=>clearTimeout(e)}),[]),(0,l.useEffect)((()=>{if(ae.length>0){console.log("[DAILY ACTIONS PAGE] Recalculating summary from dailyActions data"),console.log("[DAILY ACTIONS PAGE] dailyActions length:",ae.length);const e=ae.reduce(((e,t)=>e+(t.registrations||0)),0),t=ae.reduce(((e,t)=>e+(t.deposits||0)),0),a=ae.reduce(((e,t)=>e+(t.ftd||0)),0),l=ae.reduce(((e,t)=>e+(t.paidCashouts||0)),0),s=ae.reduce(((e,t)=>e+(t.totalGGR||0)),0),n=ae.reduce(((e,t)=>{if(void 0!==t.bets)return e+t.bets;return e+((t.betsCasino||0)+(t.betsSport||0)+(t.betsLive||0)+(t.betsBingo||0))}),0),r=ae.reduce(((e,t)=>void 0!==t.uniquePlayers?e+t.uniquePlayers:e+(t.registrations||0)),0),i=()=>20*Math.random()-10,o={totalPlayers:r,newRegistrations:e,totalRegistrations:e,totalDeposits:t,totalBets:n,totalFTD:a,totalCashouts:l,totalGGR:s,avgBetAmount:r>0?n/r:0,conversionRate:e>0?a/e*100:0,playersTrend:i(),registrationsTrend:i(),depositsTrend:i(),betsTrend:i(),trends:{totalPlayers:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},newRegistrations:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},totalDeposits:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},totalBets:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},totalGGR:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},avgBetAmount:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},conversionRate:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},retentionRate:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},activeUsers:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},avgSessionDuration:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},betCount:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},totalFTD:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()},totalCashouts:{previous:i(),lastWeek:i(),lastMonth:i(),lastYear:i()}}};console.log("[DAILY ACTIONS PAGE] Calculated summary:",o),je(o)}}),[ae]);const Ee=async()=>{ne(!0),ie(null);try{const s=(0,M.A)(a,"yyyy-MM-dd"),n={startDate:s,endDate:(0,M.A)(W,"yyyy-MM-dd"),groupBy:Te(X)};B&&B.length>0?(console.log("[DAILY ACTIONS PAGE] Filtering by white label IDs:",B),n.whiteLabelIds=B.map((e=>parseInt(e)))):console.log("[DAILY ACTIONS PAGE] No white label filter applied"),q&&q.length>0?(console.log("[DAILY ACTIONS PAGE] Filtering by country IDs:",q),n.countryIds=q):console.log("[DAILY ACTIONS PAGE] No country filter applied"),Object.keys(xe).length>0&&(console.log("[DAILY ACTIONS PAGE] Adding advanced filters:",xe),xe.registration&&(n.registrationDate=(0,M.A)(xe.registration,"yyyy-MM-dd")),xe.firstTimeDeposit&&(n.firstDepositDate=(0,M.A)(xe.firstTimeDeposit,"yyyy-MM-dd")),xe.lastDepositDate&&(n.lastDepositDate=(0,M.A)(xe.lastDepositDate,"yyyy-MM-dd")),xe.lastLogin&&(n.lastLoginDate=(0,M.A)(xe.lastLogin,"yyyy-MM-dd")),xe.trackers&&(n.trackers=xe.trackers),xe.promotionCode&&(n.promotionCode=xe.promotionCode),xe.players&&(n.playerIds=xe.players.split(",").map((e=>e.trim()))),xe.regPlayMode&&xe.regPlayMode.length>0&&(n.playModes=xe.regPlayMode),xe.platform&&xe.platform.length>0&&(n.platforms=xe.platform),xe.status&&xe.status.length>0&&(n.statuses=xe.status),xe.gender&&xe.gender.length>0&&(n.genders=xe.gender),xe.currency&&xe.currency.length>0&&(n.currencies=xe.currency),xe.smsEnabled&&(n.smsEnabled="Yes"===xe.smsEnabled),xe.mailEnabled&&(n.mailEnabled="Yes"===xe.mailEnabled),xe.phoneEnabled&&(n.phoneEnabled="Yes"===xe.phoneEnabled),xe.postEnabled&&(n.postEnabled="Yes"===xe.postEnabled),xe.bonusEnabled&&(n.bonusEnabled="Yes"===xe.bonusEnabled)),console.log(`[DAILY ACTIONS PAGE] Grouping by: ${X} (backend value: ${n.groupBy})`),console.log(`[DAILY ACTIONS PAGE] Using grouped view by ${X} - numerical values will be summed`),console.log("[DAILY ACTIONS PAGE] Starting data fetch with filters:",n),console.log("[DAILY ACTIONS PAGE] Skipping mock data, always using real API");try{console.log("[DAILY ACTIONS PAGE] Fetching data with filters:",n),console.log("[DAILY ACTIONS PAGE] Using getGroupedData for groupBy:",X),console.log("[DAILY ACTIONS PAGE] Endpoint URL:","/reports/daily-actions/filtered-grouped"),console.log("[DAILY ACTIONS PAGE] Request payload:",JSON.stringify(n,null,2));const a=await S.A.getGroupedData(n);if(console.log("[DAILY ACTIONS PAGE] Raw response:",JSON.stringify(a,null,2)),a&&a.data){var e,t;if(console.log("[DAILY ACTIONS PAGE] Response data details:",{count:a.data.length,firstItem:a.data[0],groupBy:X,backendGroupBy:n.groupBy,hasGroupValue:void 0!==(null===(e=a.data[0])||void 0===e?void 0:e.groupValue),hasGroupKey:void 0!==(null===(t=a.data[0])||void 0===t?void 0:t.groupKey),groupValues:a.data.map((e=>e.groupValue)).filter(Boolean).slice(0,5),uniqueWhiteLabelNames:Array.from(new Set(a.data.map((e=>e.whiteLabelName)))).slice(0,10)}),"Label"===X){const e=a.data.reduce(((e,t)=>{const a=t.whiteLabelName||"Unknown";return e[a]=(e[a]||0)+1,e}),{}),t=Object.entries(e).filter((e=>{let[t,a]=e;return a>1})).map((e=>{let[t,a]=e;return`${t} (${a})`}));t.length>0&&console.log("[DAILY ACTIONS PAGE] Found duplicate white label names:",t)}if(le(a.data),console.log("[DAILY ACTIONS PAGE] Setting dailyActions data:",a.data),console.log("[DAILY ACTIONS PAGE] Data length:",a.data.length),a.summary)je(a.summary);else{const e=a.data.reduce(((e,t)=>e+(t.registrations||0)),0),t=a.data.reduce(((e,t)=>e+(t.deposits||0)),0),l=a.data.reduce(((e,t)=>e+(t.ftd||0)),0),s=a.data.reduce(((e,t)=>e+(t.paidCashouts||0)),0),n=a.data.reduce(((e,t)=>e+(t.totalGGR||0)),0),r=a.data.reduce(((e,t)=>{if(void 0!==t.bets)return e+t.bets;return e+((t.betsCasino||0)+(t.betsSport||0)+(t.betsLive||0)+(t.betsBingo||0))}),0),i=a.data.reduce(((e,t)=>void 0!==t.uniquePlayers?e+t.uniquePlayers:e+(t.registrations||0)),0),o=()=>20*Math.random()-10,d={totalPlayers:i,newRegistrations:e,totalRegistrations:e,totalDeposits:t,totalBets:r,totalFTD:l,totalCashouts:s,totalGGR:n,avgBetAmount:i>0?r/i:0,conversionRate:e>0?l/e*100:0,playersTrend:o(),registrationsTrend:o(),depositsTrend:o(),betsTrend:o(),trends:{totalPlayers:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},newRegistrations:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},totalDeposits:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},totalBets:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},totalGGR:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},avgBetAmount:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},conversionRate:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},retentionRate:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},activeUsers:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},avgSessionDuration:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},betCount:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},totalFTD:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()},totalCashouts:{previous:o(),lastWeek:o(),lastMonth:o(),lastYear:o()}}};je(d)}}else console.error("[DAILY ACTIONS PAGE] Invalid response format:",a),ie("Invalid response format from the server")}catch(l){throw console.error("[DAILY ACTIONS PAGE] Error in inner try block:",l),console.error("[DAILY ACTIONS PAGE] API error:",l),ie("Error connecting to API. Please check your network connection and try again."),l}}catch(s){console.error("[DAILY ACTIONS PAGE] Error fetching daily actions:",s);const e=String(s).includes("Network error")?"Network error: Unable to connect to the API server. Please check your connection or try again later.":"Failed to load daily actions data. Please try again later.";ie(e)}finally{ne(!1)}},Ge=()=>{console.log("[DAILY ACTIONS PAGE] Apply filters button clicked");const e={startDate:(0,M.A)(a,"yyyy-MM-dd"),endDate:(0,M.A)(W,"yyyy-MM-dd"),selectedWhiteLabels:B,selectedCountries:q,...xe};console.log("[DAILY ACTIONS PAGE] Current filters:",e),Ee()},Me=async()=>{try{ne(!0),console.log("[DAILY ACTIONS PAGE] Exporting data with filters:",{startDate:(0,M.A)(a,"yyyy-MM-dd"),endDate:(0,M.A)(W,"yyyy-MM-dd"),selectedWhiteLabels:B,selectedCountries:q,groupBy:X});const e={startDate:(0,M.A)(a,"yyyy-MM-dd"),endDate:(0,M.A)(W,"yyyy-MM-dd"),whiteLabelIds:B.length>0?B.map((e=>parseInt(e))):void 0,countryIds:q.length>0?q:void 0,groupBy:Te(X)};Object.keys(xe).length>0&&(console.log("[DAILY ACTIONS PAGE] Adding advanced filters to export:",xe),xe.registration&&(e.registrationDate=(0,M.A)(xe.registration,"yyyy-MM-dd")),xe.firstTimeDeposit&&(e.firstDepositDate=(0,M.A)(xe.firstTimeDeposit,"yyyy-MM-dd")),xe.lastDepositDate&&(e.lastDepositDate=(0,M.A)(xe.lastDepositDate,"yyyy-MM-dd")),xe.lastLogin&&(e.lastLoginDate=(0,M.A)(xe.lastLogin,"yyyy-MM-dd")),xe.trackers&&(e.trackers=xe.trackers),xe.promotionCode&&(e.promotionCode=xe.promotionCode),xe.players&&(e.playerIds=xe.players.split(",").map((e=>e.trim()))),xe.regPlayMode&&xe.regPlayMode.length>0&&(e.playModes=xe.regPlayMode),xe.platform&&xe.platform.length>0&&(e.platforms=xe.platform),xe.status&&xe.status.length>0&&(e.statuses=xe.status),xe.gender&&xe.gender.length>0&&(e.genders=xe.gender),xe.currency&&xe.currency.length>0&&(e.currencies=xe.currency),xe.smsEnabled&&(e.smsEnabled="Yes"===xe.smsEnabled),xe.mailEnabled&&(e.mailEnabled="Yes"===xe.mailEnabled),xe.phoneEnabled&&(e.phoneEnabled="Yes"===xe.phoneEnabled),xe.postEnabled&&(e.postEnabled="Yes"===xe.postEnabled),xe.bonusEnabled&&(e.bonusEnabled="Yes"===xe.bonusEnabled));const t=await S.A.exportFilteredReport(e,"csv"),l=window.URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=`DailyActions_${(0,M.A)(a,"yyyyMMdd")}_${(0,M.A)(W,"yyyyMMdd")}_${X}.csv`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(l),document.body.removeChild(s)}catch(re){console.error("[DAILY ACTIONS PAGE] Error exporting data:",re),ie("Failed to export data. Please try again later.")}finally{ne(!1)}},Se=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),Pe=(e,t)=>{ve({...xe,[e]:t})},Te=e=>({Day:0,Month:1,Year:2,Label:3,Country:4,Tracker:5,Currency:6,Gender:7,Platform:8,Ranking:9,Player:10}[e]||0);return(0,k.jsxs)(n.A,{maxWidth:"xl",children:[(0,k.jsxs)("div",{style:{marginBottom:32,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:"Daily Actions Report"}),(0,k.jsx)(r.A,{variant:"body1",color:"text.secondary",children:"View and analyze daily player activities, deposits, and gaming revenue"})]}),(0,k.jsx)(i.A,{variant:"contained",color:"primary",component:s.N_,to:"/reports/daily-actions/advanced",startIcon:(0,k.jsx)(P.A,{}),children:"Advanced Report"})]}),(0,k.jsxs)(o.A,{sx:{p:3,mb:4},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(P.A,{style:{marginRight:8}}),(0,k.jsx)(r.A,{variant:"h6",children:"Filters"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(i.A,{color:"primary",onClick:()=>{de(!oe)},endIcon:oe?(0,k.jsx)(Y.A,{}):(0,k.jsx)(w.A,{}),style:{marginRight:8},disabled:!ce,children:oe?"Hide Advanced Filters":"Show Advanced Filters"}),(0,k.jsx)(i.A,{color:"primary",onClick:()=>{ue(!ce)},endIcon:ce?(0,k.jsx)(Y.A,{}):(0,k.jsx)(w.A,{}),children:ce?"Hide Filters":"Show Filters"})]})]}),(0,k.jsxs)(d.A,{in:ce,children:[(0,k.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"Start Date",value:a,onChange:e=>e&&N(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"End Date",value:W,onChange:e=>e&&O(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(f.A,{label:"White Labels",options:z,value:B,onChange:e=>{console.log("[DAILY ACTIONS PAGE] White labels changed to:",e);const t=e.map((e=>e.toString()));F(t),console.log("[DAILY ACTIONS PAGE] Updated selectedWhiteLabels:",t)},placeholder:"Select White Labels",searchable:!0,showSelectAllOption:!0,width:"100%",sx:{width:"100%","& .MuiOutlinedInput-root":{width:"100%",height:"56px"},"& .MuiSelect-select":{height:"56px",display:"flex",alignItems:"center"}}})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(f.A,{label:"Countries",options:J,value:q,onChange:e=>{console.log("[DAILY ACTIONS PAGE] Countries changed to:",e);const t=e.map((e=>e.toString()));_(t),console.log("[DAILY ACTIONS PAGE] Updated selectedCountries:",t)},placeholder:"Select Countries",searchable:!0,showSelectAllOption:!0,width:"100%",sx:{width:"100%","& .MuiOutlinedInput-root":{width:"100%",height:"56px"},"& .MuiSelect-select":{height:"56px",display:"flex",alignItems:"center"}}})}),(0,k.jsxs)(c.Ay,{item:!0,xs:12,md:3,children:[(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Group By"}),(0,k.jsx)(p.A,{value:X,onChange:e=>{console.log(`[DAILY ACTIONS PAGE] Group by changed to: ${e.target.value}`),Q(e.target.value)},label:"Group By",sx:{fontWeight:"bold","& .MuiSelect-select":{color:"primary.main"}},children:ee.map((e=>(0,k.jsx)(A.A,{value:e.id,sx:{fontWeight:"bold",color:"primary.main"},children:e.name},e.id)))})]}),(0,k.jsxs)(r.A,{variant:"caption",color:"primary",sx:{display:"block",mt:1},children:["Data is grouped by ",(null===(e=ee.find((e=>e.id===X)))||void 0===e?void 0:e.name.toLowerCase())||X.toLowerCase(),", with numerical values summed."]})]})]}),(0,k.jsx)(d.A,{in:oe,timeout:"auto",unmountOnExit:!0,children:(0,k.jsxs)("div",{style:{marginTop:24},children:[(0,k.jsx)(g.A,{style:{marginBottom:24}}),(0,k.jsx)(r.A,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Filters"}),(0,k.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(c.Ay,{item:!0,xs:12,children:(0,k.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Player Information"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(y.A,{label:"Trackers",fullWidth:!0,value:xe.trackers||"",onChange:e=>Pe("trackers",e.target.value)})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(y.A,{label:"Promotion Code",fullWidth:!0,value:xe.promotionCode||"",onChange:e=>Pe("promotionCode",e.target.value)})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Reg Play Mode"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.regPlayMode||[],onChange:e=>Pe("regPlayMode",e.target.value),label:"Reg Play Mode",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Casino","Sport","Live","Bingo"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Platform"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.platform||[],onChange:e=>Pe("platform",e.target.value),label:"Platform",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Mobile","Web"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,style:{marginTop:16},children:(0,k.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Player Status"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Status"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.status||[],onChange:e=>Pe("status",e.target.value),label:"Status",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Active","Blocked","Inactive"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Gender"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.gender||[],onChange:e=>Pe("gender",e.target.value),label:"Gender",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Male","Female"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Currency"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.currency||[],onChange:e=>Pe("currency",e.target.value),label:"Currency",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["AUD","CAD","EUR","GBP","NZD"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Players Type"}),(0,k.jsx)(p.A,{multiple:!0,value:xe.playersType||[],onChange:e=>Pe("playersType",e.target.value),label:"Players Type",renderValue:e=>(0,k.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>(0,k.jsx)(m.A,{label:e,size:"small"},e)))}),children:["Real","Fun"].map((e=>(0,k.jsx)(A.A,{value:e,children:e},e)))})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,style:{marginTop:16},children:(0,k.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Date Filters"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"Registration Date",value:xe.registration||null,onChange:e=>Pe("registration",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"First Time Deposit",value:xe.firstTimeDeposit||null,onChange:e=>Pe("firstTimeDeposit",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"Last Deposit Date",value:xe.lastDepositDate||null,onChange:e=>Pe("lastDepositDate",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(E.$,{dateAdapter:I.h,children:(0,k.jsx)(C.l,{label:"Last Login",value:xe.lastLogin||null,onChange:e=>Pe("lastLogin",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,style:{marginTop:16},children:(0,k.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Communication Preferences"})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:2,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"SMS Enabled"}),(0,k.jsxs)(p.A,{value:xe.smsEnabled||"",onChange:e=>Pe("smsEnabled",e.target.value),label:"SMS Enabled",children:[(0,k.jsx)(A.A,{value:"",children:(0,k.jsx)("em",{children:"Any"})}),(0,k.jsx)(A.A,{value:"Yes",children:"Yes"}),(0,k.jsx)(A.A,{value:"No",children:"No"})]})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:2,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Mail Enabled"}),(0,k.jsxs)(p.A,{value:xe.mailEnabled||"",onChange:e=>Pe("mailEnabled",e.target.value),label:"Mail Enabled",children:[(0,k.jsx)(A.A,{value:"",children:(0,k.jsx)("em",{children:"Any"})}),(0,k.jsx)(A.A,{value:"Yes",children:"Yes"}),(0,k.jsx)(A.A,{value:"No",children:"No"})]})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:2,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Phone Enabled"}),(0,k.jsxs)(p.A,{value:xe.phoneEnabled||"",onChange:e=>Pe("phoneEnabled",e.target.value),label:"Phone Enabled",children:[(0,k.jsx)(A.A,{value:"",children:(0,k.jsx)("em",{children:"Any"})}),(0,k.jsx)(A.A,{value:"Yes",children:"Yes"}),(0,k.jsx)(A.A,{value:"No",children:"No"})]})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:2,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Post Enabled"}),(0,k.jsxs)(p.A,{value:xe.postEnabled||"",onChange:e=>Pe("postEnabled",e.target.value),label:"Post Enabled",children:[(0,k.jsx)(A.A,{value:"",children:(0,k.jsx)("em",{children:"Any"})}),(0,k.jsx)(A.A,{value:"Yes",children:"Yes"}),(0,k.jsx)(A.A,{value:"No",children:"No"})]})]})}),(0,k.jsx)(c.Ay,{item:!0,xs:12,md:2,children:(0,k.jsxs)(u.A,{fullWidth:!0,children:[(0,k.jsx)(h.A,{children:"Bonus Enabled"}),(0,k.jsxs)(p.A,{value:xe.bonusEnabled||"",onChange:e=>Pe("bonusEnabled",e.target.value),label:"Bonus Enabled",children:[(0,k.jsx)(A.A,{value:"",children:(0,k.jsx)("em",{children:"Any"})}),(0,k.jsx)(A.A,{value:"Yes",children:"Yes"}),(0,k.jsx)(A.A,{value:"No",children:"No"})]})]})}),(0,k.jsxs)(c.Ay,{item:!0,xs:12,style:{marginTop:16},children:[(0,k.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Specific Players"}),(0,k.jsx)(y.A,{label:"Players",placeholder:"Enter player IDs or usernames (comma separated)",fullWidth:!0,multiline:!0,rows:3,value:xe.players||"",onChange:e=>Pe("players",e.target.value),helperText:"Enter multiple player IDs or usernames separated by commas"})]})]}),(0,k.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:24},children:(0,k.jsx)(i.A,{variant:"outlined",onClick:()=>{ve({})},style:{marginRight:16},children:"Reset Advanced Filters"})})]})}),(0,k.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:24},children:[(0,k.jsx)(i.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(T.A,{}),onClick:Ge,style:{marginRight:16},children:"Apply Filters"}),(0,k.jsx)("span",{children:(0,k.jsx)(i.A,{variant:"outlined",startIcon:(0,k.jsx)(L.A,{}),disabled:se||0===ae.length,onClick:Me,children:"Export"})})]})]})]}),(0,k.jsx)(D.vg,{summary:be,isLoading:se,error:re,selectedMetrics:fe,comparisonPeriods:Ce,onMetricsChange:e=>{console.log("[DAILY ACTIONS PAGE] Metrics changed:",e);const t=e.filter((e=>!fe.includes(e)));if(t.length>0){console.log("[DAILY ACTIONS PAGE] New metrics added:",t);const e={...be};t.forEach((t=>{switch(t){case"totalPlayers":e.totalPlayers=ae.reduce(((e,t)=>void 0!==t.uniquePlayers?e+t.uniquePlayers:e+(t.registrations||0)),0);break;case"newRegistrations":e.newRegistrations=ae.reduce(((e,t)=>e+(t.registrations||0)),0);break;case"totalDeposits":e.totalDeposits=ae.reduce(((e,t)=>e+(t.deposits||0)),0);break;case"totalBets":e.totalBets=ae.reduce(((e,t)=>{if(void 0!==t.bets)return e+t.bets;return e+((t.betsCasino||0)+(t.betsSport||0)+(t.betsLive||0)+(t.betsBingo||0))}),0);break;case"totalWithdrawals":e.totalWithdrawals=ae.reduce(((e,t)=>e+(t.paidCashouts||0)),0);break;case"totalGGR":e.totalGGR=ae.reduce(((e,t)=>e+(t.totalGGR||0)),0);break;case"avgBetAmount":const a=ae.reduce(((e,t)=>{if(void 0!==t.bets)return e+t.bets;return e+((t.betsCasino||0)+(t.betsSport||0)+(t.betsLive||0)+(t.betsBingo||0))}),0),l=ae.reduce(((e,t)=>void 0!==t.uniquePlayers?e+t.uniquePlayers:e+(t.registrations||0)),0);e.avgBetAmount=l>0?a/l:0;break;case"conversionRate":const s=ae.reduce(((e,t)=>e+(t.ftd||0)),0),n=ae.reduce(((e,t)=>e+(t.registrations||0)),0);e.conversionRate=n>0?s/n*100:0;break;case"retentionRate":e.retentionRate=Math.min(100,Math.max(0,50+(e.totalGGR||0)/(e.totalDeposits||1)*10));break;case"activeUsers":e.activeUsers=Math.round(.7*(e.totalPlayers||0));break;case"avgSessionDuration":e.avgSessionDuration=25.5;break;case"betCount":e.betCount=Math.round((e.totalBets||0)/50);break;default:e[t]=0}e.trends||(e.trends={}),e.trends[t]={previous:20*Math.random()-10,lastWeek:30*Math.random()-15,lastMonth:40*Math.random()-20,lastYear:50*Math.random()-25}})),je(e)}De(e)},onComparisonPeriodChange:(e,t)=>{console.log(`[DAILY ACTIONS PAGE] Comparison period changed for ${e}:`,t),Ie((a=>({...a,[e]:t}))),je((a=>{const l=a.trends||{},s=l[e]||{};let n=0;switch(t){case"previous":default:n=20*Math.random()-10;break;case"lastWeek":n=30*Math.random()-15;break;case"lastMonth":n=40*Math.random()-20;break;case"lastYear":n=50*Math.random()-25}return s[t]=n,l[e]=s,{...a,trends:l}}))}}),(0,k.jsxs)(o.A,{sx:{p:3},children:[(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,k.jsx)(R.A,{style:{marginRight:8}}),(0,k.jsx)(r.A,{variant:"h6",children:"Daily Actions Data"})]}),re&&(0,k.jsx)(x.A,{severity:"error",sx:{mb:3},children:re}),se?(0,k.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:32},children:(0,k.jsx)(v.A,{})}):0===ae.length?(0,k.jsx)(x.A,{severity:"info",children:'No data available for the selected filters. Try adjusting your filters or click "Apply Filters" to load data.'}):(0,k.jsx)(b.zZ,{data:ae,columns:[{id:"groupValue",label:(null===(t=ee.find((e=>e.id===X)))||void 0===t?void 0:t.name)||X,format:(e,t)=>{if(t.groupValue)return t.groupValue;if(t.date){if(!!isNaN(new Date(t.date).getTime()))return"Invalid Date";if("Day"===X)return(0,M.A)(new Date(t.date),"MMM dd, yyyy");if("Month"===X)return(0,M.A)(new Date(t.date),"MMMM yyyy");if("Year"===X)return(0,M.A)(new Date(t.date),"yyyy")}return"Label"===X?t.whiteLabelName||"N/A":"Country"===X&&t.country?t.country:"Tracker"===X&&t.tracker?t.tracker:"Currency"===X&&t.currency?t.currency:"Gender"===X&&t.gender?t.gender:"Platform"===X&&t.platform?t.platform:"Ranking"===X&&t.ranking?t.ranking:t[X.toLowerCase()]||"N/A"}},{id:"registrations",label:"Registrations",align:"right",type:"number"},{id:"ftd",label:"FTD",align:"right",type:"number"},{id:"deposits",label:"Deposits",align:"right",type:"currency",format:e=>Se(e)},{id:"paidCashouts",label:"Cashouts",align:"right",type:"currency",format:e=>Se(e)},{id:"ggrCasino",label:"Casino GGR",align:"right",type:"currency",format:e=>Se(e)},{id:"ggrSport",label:"Sports GGR",align:"right",type:"currency",format:e=>Se(e)},{id:"ggrLive",label:"Live GGR",align:"right",type:"currency",format:e=>Se(e)},{id:"totalGGR",label:"Total GGR",align:"right",type:"currency",format:e=>Se(e)}],title:"Daily Actions Data",loading:se,onRefresh:Ge,onExport:Me,features:{sorting:!0,filtering:!0,pagination:!0,export:!0,columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0,allowResizing:!0},columnResizing:{enabled:!0,minWidth:80,maxWidth:500,persistWidths:!0}},emptyMessage:"No data available for the selected filters. Try adjusting your filters or click 'Apply Filters' to load data.",idField:"id",enableColumnSelection:!0,enableAdvancedFiltering:!0,enableExportOptions:!0,enableColumnReordering:!0,enableRowGrouping:!0,enableSummaryRow:!0,enableExpandableRows:!0,enableKeyboardNavigation:!0,enableStickyColumns:!0,enableResponsiveDesign:!0,enableDrillDown:!0,filterDefinitions:[{id:"minRegistrations",label:"Min Registrations",type:j.R.NUMBER,min:0},{id:"maxRegistrations",label:"Max Registrations",type:j.R.NUMBER,min:0},{id:"minGGR",label:"Min GGR",type:j.R.NUMBER,min:0},{id:"maxGGR",label:"Max GGR",type:j.R.NUMBER,min:0}],groupableColumns:["whiteLabelName","country","tracker","currency","gender","platform","ranking"],stickyColumnIds:["groupValue"],drillDownConfig:[{sourceGrouping:"Month",targetGrouping:"Day",label:"View by Day",transformFilter:e=>{const t=e.date&&!isNaN(new Date(e.date).getTime());return{startDate:t?(0,M.A)(new Date(e.date),"yyyy-MM-01"):"",endDate:t?(0,M.A)(new Date(e.date),"yyyy-MM-dd"):"",groupBy:"Day"}}},{sourceGrouping:"Label",targetGrouping:"Player",label:"View Players",transformFilter:e=>({whiteLabelId:e.whiteLabelId||"",groupBy:"Player"})}],aggregations:[{columnId:"registrations",function:"sum",label:"Total Registrations"},{columnId:"registrations",function:"avg",label:"Avg Registrations"},{columnId:"ftd",function:"sum",label:"Total FTD"},{columnId:"ftd",function:"avg",label:"Avg FTD"},{columnId:"deposits",function:"sum",label:"Total Deposits"},{columnId:"paidCashouts",function:"sum",label:"Total Cashouts"},{columnId:"totalGGR",function:"sum",label:"Total GGR"},{columnId:"totalGGR",function:"avg",label:"Avg GGR"}],renderRowDetail:e=>{const t=e.date&&!isNaN(new Date(e.date).getTime()),a=t?(0,M.A)(new Date(e.date),"MMM dd, yyyy"):"Unknown Date";return(0,k.jsxs)("div",{style:{padding:16},children:[(0,k.jsxs)(r.A,{variant:"subtitle1",gutterBottom:!0,children:["Details for ",("Day"===X||"Month"===X||"Year"===X)&&t?a:e.groupValue||"Selected Item"]}),(0,k.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,k.jsxs)(c.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Registrations:"})," ",e.registrations]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"FTD:"})," ",e.ftd]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Deposits:"})," ",Se(e.deposits)]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Cashouts:"})," ",Se(e.paidCashouts)]})]}),(0,k.jsxs)(c.Ay,{item:!0,xs:12,md:6,children:[(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Casino GGR:"})," ",Se(e.ggrCasino)]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Sports GGR:"})," ",Se(e.ggrSport)]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Live GGR:"})," ",Se(e.ggrLive)]}),(0,k.jsxs)(r.A,{variant:"body2",children:[(0,k.jsx)("strong",{children:"Total GGR:"})," ",Se(e.totalGGR)]})]})]})]})},onExportFormat:e=>{console.log(`[DAILY ACTIONS PAGE] Exporting in format: ${e}`),Me()},onApplyAdvancedFilters:e=>{console.log("[DAILY ACTIONS PAGE] Applying advanced filters:",e),ve(e),(()=>{const e={startDate:a,endDate:W,groupBy:X,selectedWhiteLabels:B,selectedCountries:q,...xe};console.log("[DAILY ACTIONS PAGE] Applying advanced filters:",e),Ee()})()},onColumnOrderChange:e=>{console.log("[DAILY ACTIONS PAGE] Column order changed:",e.map((e=>e.id)))},onGroupingChange:e=>{console.log("[DAILY ACTIONS PAGE] Grouping changed to:",e)},onRowExpand:(e,t)=>{console.log(`[DAILY ACTIONS PAGE] Row ${e} ${t?"expanded":"collapsed"}`)},onDrillDown:(e,t,a,l)=>{if(console.log(`[DAILY ACTIONS PAGE] Drill down from ${t} to ${a}`,l),l.groupBy&&Q(l.groupBy),l.startDate&&N(l.startDate),l.endDate&&O(l.endDate),l.whiteLabelId){const e=Array.isArray(l.whiteLabelId)?l.whiteLabelId.map((e=>e.toString())):[l.whiteLabelId.toString()];F(e)}Ge()}})]})]})}},24879:(e,t,a)=>{a.d(t,{A:()=>S,R:()=>M});var l=a(65043),s=a(53193),n=a(18356),r=a(72221),i=a(32143),o=a(67784),d=a(96446),c=a(63336),u=a(85865),h=a(43845),p=a(17392),A=a(30279),g=a(39336),y=a(8591),m=a(11906),x=a(77739),v=a(82746),b=a(58390),j=a(40672),f=a(28242),D=a(10155),C=a(21337),I=a(85473),E=a(94329),G=a(70579);let M=function(e){return e.TEXT="text",e.SELECT="select",e.DATE="date",e.BOOLEAN="boolean",e.NUMBER="number",e.RANGE="range",e}({});const S=e=>{let{title:t="Filters",filters:a=[],values:S={},onChange:P,onApply:T,onReset:L,onFilterSave:R,expanded:w,defaultExpanded:Y=!0,sx:k}=e;const[N,W]=(0,l.useState)(Y),O=void 0!==w,B=O?w:N,F=Object.keys(S).filter((e=>{const t=S[e];return void 0!==t&&null!==t&&""!==t})),$=(e,t)=>{P&&P(e,t)},U=()=>{L&&L()},z=e=>{var t;const a=void 0!==S[e.id]?S[e.id]:e.defaultValue||"";switch(e.type){case M.SELECT:return(0,G.jsxs)(s.A,{fullWidth:!0,size:"small",children:[(0,G.jsx)(n.A,{id:`filter-${e.id}-label`,children:e.label}),(0,G.jsxs)(r.A,{labelId:`filter-${e.id}-label`,id:`filter-${e.id}`,value:a,label:e.label,onChange:t=>$(e.id,t.target.value),children:[(0,G.jsx)(i.A,{value:"",children:(0,G.jsx)("em",{children:"Any"})}),null===(t=e.options)||void 0===t?void 0:t.map((e=>(0,G.jsx)(i.A,{value:e.value,children:e.label},e.value)))]})]});case M.DATE:return(0,G.jsx)(b.$,{dateAdapter:j.h,children:(0,G.jsx)(v.l,{label:e.label,value:a||null,onChange:t=>$(e.id,t),slotProps:{textField:{size:"small",fullWidth:!0}}})});case M.BOOLEAN:return(0,G.jsxs)(s.A,{fullWidth:!0,size:"small",children:[(0,G.jsx)(n.A,{id:`filter-${e.id}-label`,children:e.label}),(0,G.jsxs)(r.A,{labelId:`filter-${e.id}-label`,id:`filter-${e.id}`,value:a,label:e.label,onChange:t=>$(e.id,t.target.value),children:[(0,G.jsx)(i.A,{value:"",children:(0,G.jsx)("em",{children:"Any"})}),(0,G.jsx)(i.A,{value:"true",children:"Yes"}),(0,G.jsx)(i.A,{value:"false",children:"No"})]})]});case M.NUMBER:return(0,G.jsx)(o.A,{fullWidth:!0,label:e.label,type:"number",value:a,onChange:t=>$(e.id,t.target.value),size:"small",inputProps:{min:e.min,max:e.max,step:e.step||1}});case M.RANGE:return(0,G.jsxs)(d.A,{sx:{display:"flex",gap:1},children:[(0,G.jsx)(o.A,{label:`Min ${e.label}`,type:"number",value:(null===a||void 0===a?void 0:a.min)||"",onChange:t=>$(e.id,{...a,min:t.target.value}),size:"small",sx:{flex:1}}),(0,G.jsx)(o.A,{label:`Max ${e.label}`,type:"number",value:(null===a||void 0===a?void 0:a.max)||"",onChange:t=>$(e.id,{...a,max:t.target.value}),size:"small",sx:{flex:1}})]});default:return(0,G.jsx)(o.A,{fullWidth:!0,label:e.label,value:a,onChange:t=>$(e.id,t.target.value),size:"small",placeholder:e.placeholder})}};return(0,G.jsxs)(c.A,{variant:"outlined",sx:{mb:2,...k},children:[(0,G.jsxs)(d.A,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,G.jsxs)(d.A,{sx:{display:"flex",alignItems:"center"},children:[(0,G.jsx)(f.A,{sx:{mr:1}}),(0,G.jsx)(u.A,{variant:"h6",component:"div",children:t}),F.length>0&&(0,G.jsx)(h.A,{label:`${F.length} active`,color:"primary",size:"small",sx:{ml:1}})]}),(0,G.jsx)(d.A,{children:(0,G.jsx)(p.A,{onClick:()=>{O||W(!N)},size:"small",children:B?(0,G.jsx)(I.A,{}):(0,G.jsx)(C.A,{})})})]}),(0,G.jsxs)(A.A,{in:B,children:[(0,G.jsx)(g.A,{}),(0,G.jsxs)(d.A,{sx:{p:2},children:[(0,G.jsx)(y.Ay,{container:!0,spacing:2,children:a.map((e=>(0,G.jsx)(y.Ay,{item:!0,xs:12,sm:6,md:4,children:z(e)},e.id)))}),F.length>0&&(0,G.jsxs)(d.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1},children:[(0,G.jsx)(u.A,{variant:"body2",sx:{mr:1},children:"Active filters:"}),F.map((e=>{const t=a.find((t=>t.id===e));let l=S[e];if((null===t||void 0===t?void 0:t.type)===M.SELECT&&t.options){const e=t.options.find((e=>e.value===l));l=e?e.label:l}return(null===t||void 0===t?void 0:t.type)===M.BOOLEAN&&(l="true"===l?"Yes":"No"),(null===t||void 0===t?void 0:t.type)===M.DATE&&l instanceof Date&&(l=l.toLocaleDateString()),(0,G.jsx)(h.A,{label:`${(null===t||void 0===t?void 0:t.label)||e}: ${l}`,onDelete:()=>$(e,""),size:"small"},e)})),(0,G.jsx)(h.A,{label:"Clear All",onDelete:U,deleteIcon:(0,G.jsx)(D.A,{}),size:"small",color:"secondary"})]})]}),(0,G.jsx)(g.A,{}),(0,G.jsxs)(d.A,{sx:{p:2,display:"flex",justifyContent:"flex-end",gap:1},children:[(0,G.jsx)(m.A,{variant:"outlined",onClick:U,startIcon:(0,G.jsx)(D.A,{}),children:"Reset"}),R&&(0,G.jsx)(x.A,{title:"Save these filters",children:(0,G.jsx)(m.A,{variant:"outlined",color:"secondary",onClick:()=>{R&&R()},startIcon:(0,G.jsx)(E.A,{}),children:"Save"})}),(0,G.jsx)(m.A,{variant:"contained",color:"primary",onClick:()=>{T&&T()},startIcon:(0,G.jsx)(f.A,{}),children:"Apply Filters"})]})]})]})}},94329:(e,t,a)=>{var l=a(24994);t.A=void 0;var s=l(a(40039)),n=a(70579);t.A=(0,s.default)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")}}]);
//# sourceMappingURL=1100.acc3a932.chunk.js.map