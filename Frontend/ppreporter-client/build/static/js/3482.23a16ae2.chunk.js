"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[3482],{16267:(e,a,t)=>{t.r(a),t.d(a,{default:()=>_a});var r=t(65043),n=t(83003),i=t(19252),l=t(85865),s=t(63336),o=t(8591),d=t(11906),c=t(8939),u=t(24056),h=t(45424),m=t(32143),x=t(58390),g=t(40672),p=t(82746),y=t(69525),A=t(28242),b=t(48625),j=t(24176),f=t(74523),v=t(37991),C=t(95540),S=t(63471),k=t(41738),w=t(88696),D=t(92317),z=t(77739),P=t(2830),R=t(8767),I=t(50537),M=t(22505),$=t(94329),W=t(37965),L=t(19567),B=t(26240),T=t(17392),F=t(98082),G=t(86039),E=t(34466),N=t(34469),U=t(61799),O=t(37076),V=t(89676),K=t(90310),q=t(81637),Z=t(96446),H=t(67784),_=t(53193),J=t(18356),X=t(72221),Q=t(43845),Y=t(35624),ee=t(57943),ae=t(56170),te=t(66360),re=t(10138),ne=t(54962),ie=t(70579);const le=e=>{let{id:a,title:t,description:n,data:i,height:o=500,loading:d=!1,error:c=null,nodeColorBy:u="group",linkColorBy:h="value",nodeSizeBy:x="value",linkSizeBy:g="value",groupBy:p="group",enableZoom:y=!0,enableDrag:A=!0,enableNodeSelection:b=!0,enableLinkSelection:j=!0,enableSearch:f=!0,enableFiltering:v=!0,enableAnnotations:C=!0,onNodeClick:S,onLinkClick:k}=e;const w=(0,B.A)(),{addAnnotation:D,getAnnotationsForDataPoint:P}=(0,ne.IH)(),R=(0,r.useRef)(null),[I,M]=(0,r.useState)({nodes:[],links:[]}),[$,W]=(0,r.useState)(null),[L,F]=(0,r.useState)(null),[G,E]=(0,r.useState)(""),[N,U]=(0,r.useState)(new Set),[O,V]=(0,r.useState)(new Set),[le,se]=(0,r.useState)(1),[oe,de]=(0,r.useState)([]),[ce,ue]=(0,r.useState)([]),[he,me]=(0,r.useState)([0,100]),[xe,ge]=(0,r.useState)([0,100]);(0,r.useEffect)((()=>{if(!i||!i.nodes||!i.links)return void M({nodes:[],links:[]});const e=i.nodes.map((e=>({...e,value:void 0!==e.value?e.value:1,group:e.group||"default"}))),a=i.links.map((e=>({...e,value:void 0!==e.value?e.value:1,id:`${e.source}-${e.target}-${Math.random().toString(36).substring(2,9)}`})));M({nodes:e,links:a});const t=Array.from(new Set(e.map((e=>e.group||"default"))));de(t),ue(t);const r=e.map((e=>e.value||0)),n=a.map((e=>e.value||0));me([Math.min(...r),Math.max(...r)]),ge([Math.min(...n),Math.max(...n)])}),[i]);const pe=(0,r.useCallback)((()=>{if(!I.nodes.length)return{nodes:[],links:[]};let e=I.nodes;if(G){const a=G.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(a)||e.id.toLowerCase().includes(a)))}ce.length&&(e=e.filter((e=>ce.includes(e.group||"default")))),e=e.filter((e=>(e.value||0)>=he[0]&&(e.value||0)<=he[1]));const a=new Set(e.map((e=>e.id)));let t=I.links.filter((e=>a.has(e.source)&&a.has(e.target)));return t=t.filter((e=>(e.value||0)>=xe[0]&&(e.value||0)<=xe[1])),{nodes:e,links:t}}),[I,G,ce,he,xe]),ye=(0,r.useCallback)((e=>{W(e);const a=I.links.filter((a=>a.source===e.id||a.target===e.id)),t=new Set;t.add(e.id),a.forEach((e=>{t.add(e.source),t.add(e.target)})),U(t),V(new Set(a.map((e=>e.id)))),S&&S(e)}),[I.links,S]),Ae=(0,r.useCallback)((e=>{F(e);const a=new Set;a.add(e.source),a.add(e.target),U(a),V(new Set([e.id])),k&&k(e)}),[k]),be=(0,r.useCallback)((()=>{if(R.current){const e=R.current.zoom();R.current.zoom(1.2*e,400),se(1.2*e)}}),[]),je=(0,r.useCallback)((()=>{if(R.current){const e=R.current.zoom();R.current.zoom(e/1.2,400),se(e/1.2)}}),[]),fe=(0,r.useCallback)((()=>{R.current&&(R.current.zoomToFit(400),se(1),W(null),F(null),U(new Set),V(new Set))}),[]),ve=(0,r.useCallback)((e=>{E(e.target.value)}),[]),Ce=(0,r.useCallback)((e=>{ue(e.target.value)}),[]),Se=((0,r.useCallback)(((e,a)=>{me(a)}),[]),(0,r.useCallback)(((e,a)=>{ge(a)}),[]),(0,r.useCallback)((e=>{if(N.size&&!N.has(e.id))return(0,K.X4)(w.palette.text.disabled,.3);if(e.color)return e.color;if("group"===u){const a=oe.indexOf(e.group||"default"),t=[w.palette.primary.main,w.palette.secondary.main,w.palette.success.main,w.palette.error.main,w.palette.warning.main,w.palette.info.main];return t[a%t.length]}return w.palette.primary.main}),[N,u,oe,w])),ke=(0,r.useCallback)((e=>{if(O.size&&!O.has(e.id))return(0,K.X4)(w.palette.text.disabled,.1);if(e.color)return e.color;if("value"===h){const a=e.value||1,t=xe[0],r=(a-t)/(xe[1]-t);return`rgba(${Math.round(255*r)}, ${Math.round(255*(1-r))}, 150, 0.8)`}return w.palette.text.secondary}),[O,h,xe,w]),we=(0,r.useCallback)((e=>{if("value"===x){const a=e.value||1,t=he[0];return 4+12*((a-t)/(he[1]-t))}return 6}),[x,he]),De=(0,r.useCallback)((e=>{if("value"===g){const a=e.value||1,t=xe[0];return 1+4*((a-t)/(xe[1]-t))}return 1.5}),[g,xe]),ze=(0,r.useCallback)((e=>`${e.name}\n${e.group?`Group: ${e.group}`:""}\n${e.value?`Value: ${e.value}`:""}`),[]),Pe=(0,r.useCallback)((e=>`${e.label||"Link"}\n${e.value?`Value: ${e.value}`:""}`),[]);return d?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(q.A,{})}):c?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(l.A,{color:"error",children:c})}):i&&i.nodes&&i.nodes.length?(0,ie.jsxs)(s.A,{sx:{height:o,display:"flex",flexDirection:"column"},children:[(0,ie.jsxs)(Z.A,{sx:{padding:1,display:"flex",flexWrap:"wrap",gap:1,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[f&&(0,ie.jsx)(H.A,{size:"small",placeholder:"Search nodes...",value:G,onChange:ve,InputProps:{startAdornment:(0,ie.jsx)(te.A,{fontSize:"small",sx:{mr:1}})},sx:{width:200}}),v&&oe.length>0&&(0,ie.jsxs)(_.A,{size:"small",sx:{minWidth:150},children:[(0,ie.jsx)(J.A,{id:"group-select-label",children:"Groups"}),(0,ie.jsx)(X.A,{labelId:"group-select-label",multiple:!0,value:ce,onChange:Ce,renderValue:e=>(0,ie.jsx)(Z.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,ie.jsx)(Q.A,{label:e,size:"small"},e)))}),label:"Groups",children:oe.map((e=>(0,ie.jsx)(m.A,{value:e,children:e},e)))})]}),y&&(0,ie.jsxs)(Z.A,{sx:{display:"flex",gap:.5},children:[(0,ie.jsx)(z.A,{title:"Zoom In",children:(0,ie.jsx)(T.A,{size:"small",onClick:be,children:(0,ie.jsx)(Y.A,{fontSize:"small"})})}),(0,ie.jsx)(z.A,{title:"Zoom Out",children:(0,ie.jsx)(T.A,{size:"small",onClick:je,children:(0,ie.jsx)(ee.A,{fontSize:"small"})})}),(0,ie.jsx)(z.A,{title:"Reset View",children:(0,ie.jsx)(T.A,{size:"small",onClick:fe,children:(0,ie.jsx)(ae.A,{fontSize:"small"})})})]})]}),(0,ie.jsx)(Z.A,{sx:{flex:"1",position:"relative"},children:(0,ie.jsx)(re.A,{ref:R,graphData:pe(),nodeId:"id",nodeLabel:ze,nodeColor:Se,nodeVal:we,linkLabel:Pe,linkColor:ke,linkWidth:De,linkDirectionalArrowLength:3,linkDirectionalArrowRelPos:1,linkCurvature:.25,nodeRelSize:6,onNodeClick:b?ye:void 0,onLinkClick:j?Ae:void 0,enableNodeDrag:A,enableZoomInteraction:y,cooldownTicks:100,onEngineStop:()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.zoomToFit(400)}})}),($||L)&&(0,ie.jsxs)("div",{style:{padding:16,borderTop:"1px solid rgba(0, 0, 0, 0.12)"},children:[$&&(0,ie.jsxs)("div",{children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:["Selected Node: ",$.name]}),(0,ie.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[$.group&&(0,ie.jsx)(Q.A,{label:`Group: ${$.group}`,size:"small",color:"primary",variant:"outlined"}),void 0!==$.value&&(0,ie.jsx)(Q.A,{label:`Value: ${$.value}`,size:"small",color:"secondary",variant:"outlined"}),Object.entries($).filter((e=>{let[a]=e;return!["id","name","group","value","color"].includes(a)})).map((e=>{let[a,t]=e;return(0,ie.jsx)(Q.A,{label:`${a}: ${t}`,size:"small",variant:"outlined"},a)}))]})]}),L&&(0,ie.jsxs)("div",{style:{marginTop:$?16:0},children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:["Selected Link: ",L.label||`${L.source} \u2192 ${L.target}`]}),(0,ie.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[void 0!==L.value&&(0,ie.jsx)(Q.A,{label:`Value: ${L.value}`,size:"small",color:"secondary",variant:"outlined"}),Object.entries(L).filter((e=>{let[a]=e;return!["id","source","target","label","value","color"].includes(a)})).map((e=>{let[a,t]=e;return(0,ie.jsx)(Q.A,{label:`${a}: ${t}`,size:"small",variant:"outlined"},a)}))]})]})]})]}):(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"No data available"})})};var se=t(97629),oe=t(41132),de=t(50108),ce=t(86150);const ue=e=>{let{data:a,nodeWidth:t,nodePadding:r,node:n,link:i,children:l}=e;return(0,ie.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:l})},he=e=>{let{x:a,y:t,width:r,height:n,fill:i,fillOpacity:l,stroke:s,strokeWidth:o,onClick:d,onMouseEnter:c,onMouseLeave:u,style:h}=e;return(0,ie.jsx)("div",{style:{position:"absolute",left:a,top:t,width:r,height:n,backgroundColor:i,opacity:l,border:`${o}px solid ${s}`,cursor:(null===h||void 0===h?void 0:h.cursor)||"default",...h},onClick:d,onMouseEnter:c,onMouseLeave:u})},me=e=>{let{children:a}=e;return(0,ie.jsx)("div",{style:{position:"relative"},children:a})},xe=e=>{let{id:a,title:t,description:n,data:i,height:o=500,loading:d=!1,error:c=null,nodeWidth:u=20,nodePadding:h=10,enableSearch:x=!0,enableFiltering:g=!0,enableExport:p=!0,enableAnnotations:y=!0,onNodeClick:A,onLinkClick:b}=e;const j=(0,B.A)(),[f,v]=(0,r.useState)(""),[C,S]=(0,r.useState)(null),[k,w]=(0,r.useState)(null),[D,P]=(0,r.useState)([0,100]),[R,I]=(0,r.useState)([]),[M,$]=(0,r.useState)([]),[W,L]=(0,r.useState)(null),F=(0,r.useMemo)((()=>{if(!i||!i.nodes||!i.links)return{nodes:[],links:[]};const e=Array.from(new Set(i.nodes.map((e=>e.category||"default"))));I(e),0===M.length&&$(e);const a=i.links.map((e=>e.value)),t=Math.min(...a),r=Math.max(...a);return 0===D[0]&&100===D[1]&&P([t,r]),i}),[i,M,D]),G=(0,r.useMemo)((()=>{if(!F.nodes||!F.links)return{nodes:[],links:[]};let e=F.nodes;if(f){const a=f.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(a)))}M.length&&(e=e.filter((e=>M.includes(e.category||"default"))));const a=new Set(e.map(((e,a)=>a)));let t=F.links.filter((e=>a.has(e.source)&&a.has(e.target)));return t=t.filter((e=>e.value>=D[0]&&e.value<=D[1])),{nodes:e,links:t}}),[F,f,M,D]),E=(0,r.useCallback)((e=>{v(e.target.value)}),[]),N=(0,r.useCallback)((e=>{$(e.target.value)}),[]),U=(0,r.useCallback)(((e,a)=>{P(a)}),[]),O=(0,r.useCallback)((e=>{S(e.index),w(null),A&&A(F.nodes[e.index],e.index)}),[F.nodes,A]),V=(0,r.useCallback)((e=>{w(e.index),S(null),b&&b(F.links[e.index],e.index)}),[F.links,b]),Y=(0,r.useCallback)((()=>{const e=[["Index","Name","Category","Value"].join(","),...G.nodes.map(((e,a)=>[a,e.name,e.category||"default",e.value||""].join(",")))].join("\n"),t=[["Source","Target","Value"].join(","),...G.links.map((e=>[G.nodes[e.source].name,G.nodes[e.target].name,e.value].join(",")))].join("\n"),r=new Blob(["Nodes:\n",e,"\n\nLinks:\n",t],{type:"text/csv"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`sankey-diagram-${a}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}),[G,a]),ee=(0,r.useCallback)((e=>{let{x:a,y:t,width:r,height:n,index:i,payload:l}=e;const s=C===i,o=F.nodes[i];let d=o.color||j.palette.primary.main;if(o.category){const e=R.indexOf(o.category),a=[j.palette.primary.main,j.palette.secondary.main,j.palette.success.main,j.palette.error.main,j.palette.warning.main,j.palette.info.main];d=o.color||a[e%a.length]}return(0,ie.jsx)(he,{x:a,y:t,width:r,height:n,fill:d,fillOpacity:s?1:.9,stroke:s?j.palette.common.white:d,strokeWidth:s?2:0,onClick:()=>O({index:i}),onMouseEnter:()=>L({type:"node",nodeName:o.name,nodeValue:o.value,category:o.category,...o}),onMouseLeave:()=>L(null),style:{cursor:"pointer"}})}),[C,F.nodes,R,j,O]),ae=(0,r.useCallback)((e=>{let{sourceX:a,sourceY:t,sourceControlX:r,targetX:n,targetY:i,targetControlX:l,linkWidth:s,index:o}=e;const d=k===o,c=F.links[o];let u=c.color||(0,K.X4)(j.palette.text.secondary,.3);return(0,ie.jsx)(me,{children:(0,ie.jsx)("path",{d:`\n            M${a},${t}\n            C${r},${t} ${l},${i} ${n},${i}\n          `,fill:"none",stroke:u,strokeWidth:s,strokeOpacity:d?1:.5,onClick:()=>V({index:o}),onMouseEnter:()=>L({type:"link",sourceName:F.nodes[c.source].name,targetName:F.nodes[c.target].name,linkValue:c.value,...c}),onMouseLeave:()=>L(null),style:{cursor:"pointer"}})})}),[k,F.nodes,F.links,j,V]),re=e=>{let{active:a,payload:t}=e;return a&&W?(0,ie.jsx)(s.A,{sx:{p:1.5,maxWidth:300},children:"node"===W.type?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(l.A,{variant:"subtitle2",children:W.name}),W.category&&(0,ie.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Category: ",W.category]}),void 0!==W.value&&(0,ie.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Value: ",W.value]})]}):(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:[W.source," \u2192 ",W.target]}),(0,ie.jsxs)(l.A,{variant:"body2",color:"text.secondary",children:["Value: ",W.value]})]})}):null};return d?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(q.A,{})}):c?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(l.A,{color:"error",children:c})}):i&&i.nodes&&i.nodes.length&&i.links&&i.links.length?(0,ie.jsxs)(s.A,{sx:{height:o,display:"flex",flexDirection:"column"},children:[(0,ie.jsxs)("div",{style:{padding:8,display:"flex",flexWrap:"wrap",gap:8,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[x&&(0,ie.jsx)(H.A,{size:"small",placeholder:"Search nodes...",value:f,onChange:E,InputProps:{startAdornment:(0,ie.jsx)(te.A,{fontSize:"small",sx:{mr:1}})},sx:{width:200}}),g&&R.length>0&&(0,ie.jsxs)(_.A,{size:"small",sx:{minWidth:150},children:[(0,ie.jsx)(J.A,{id:"category-select-label",children:"Categories"}),(0,ie.jsx)(X.A,{labelId:"category-select-label",multiple:!0,value:M,onChange:N,renderValue:e=>(0,ie.jsx)(Z.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,ie.jsx)(Q.A,{label:e,size:"small"},e)))}),label:"Categories",children:R.map((e=>(0,ie.jsx)(m.A,{value:e,children:e},e)))})]}),g&&(0,ie.jsxs)(Z.A,{sx:{width:"200px",paddingLeft:"16px",paddingRight:"16px"},children:[(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Value Range"}),(0,ie.jsx)(se.Ay,{value:D,onChange:U,valueLabelDisplay:"auto",min:Math.min(...F.links.map((e=>e.value))),max:Math.max(...F.links.map((e=>e.value)))})]}),p&&(0,ie.jsx)(z.A,{title:"Export as CSV",children:(0,ie.jsx)(T.A,{size:"small",onClick:Y,children:(0,ie.jsx)(oe.A,{fontSize:"small"})})})]}),(0,ie.jsx)("div",{style:{flex:1,position:"relative"},children:(0,ie.jsx)(de.u,{width:"100%",height:"100%",children:(0,ie.jsx)(ue,{data:G,nodeWidth:u,nodePadding:h,linkProps:{shape:"path"},nodeComponent:ee,linkComponent:ae,children:(0,ie.jsx)(ce.m,{content:(0,ie.jsx)(re,{})})})})}),(null!==C||null!==k)&&(0,ie.jsxs)("div",{style:{padding:16,borderTop:"1px solid rgba(0, 0, 0, 0.12)"},children:[null!==C&&(0,ie.jsxs)("div",{children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:["Selected Node: ",F.nodes[C].name]}),(0,ie.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[F.nodes[C].category&&(0,ie.jsx)(Q.A,{label:`Category: ${F.nodes[C].category}`,size:"small",color:"primary",variant:"outlined"}),void 0!==F.nodes[C].value&&(0,ie.jsx)(Q.A,{label:`Value: ${F.nodes[C].value}`,size:"small",color:"secondary",variant:"outlined"})]})]}),null!==k&&(0,ie.jsxs)("div",{style:{marginTop:null!==C?16:0},children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:["Selected Link: ",F.nodes[F.links[k].source].name," \u2192",F.nodes[F.links[k].target].name]}),(0,ie.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:(0,ie.jsx)(Q.A,{label:`Value: ${F.links[k].value}`,size:"small",color:"secondary",variant:"outlined"})})]})]})]}):(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:o},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"No data available"})})};var ge=t(74605),pe=t(4598),ye=t(57770),Ae=t(41453),be=t(39307),je=t(38094);const fe=e=>{let{fallback:a,children:t,height:n=400}=e;const[i,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!0);if((0,r.useEffect)((()=>{try{const e=document.createElement("canvas");e.getContext("webgl")||e.getContext("experimental-webgl")||c(!1)}catch(e){c(!1)}}),[]),!d)return(0,ie.jsx)(s.A,{style:{height:n,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"3D visualizations are not supported in your browser. Please try a different browser or device."})});if(i)return(0,ie.jsx)(s.A,{style:{height:n,display:"flex",justifyContent:"center",alignItems:"center"},children:a||(0,ie.jsx)(l.A,{color:"text.secondary",children:"Unable to render 3D visualization. Please try again later."})});try{return(0,ie.jsx)("div",{style:{height:n},children:t})}catch(u){return console.error("Error rendering 3D component:",u),o(!0),(0,ie.jsx)(s.A,{style:{height:n,display:"flex",justifyContent:"center",alignItems:"center"},children:a||(0,ie.jsx)(l.A,{color:"text.secondary",children:"Unable to render 3D visualization. Please try again later."})})}},ve=(0,r.lazy)((()=>Promise.all([t.e(9533),t.e(32)]).then(t.bind(t,20032)))),Ce=e=>{let{id:a,title:t,description:n,data:i,xLabel:o="X Axis",yLabel:d="Y Axis",zLabel:c="Z Axis",height:u=500,loading:h=!1,error:x=null,colorBy:g="group",sizeBy:p="value",enableRotation:y=!0,enableZoom:A=!0,enableLabels:b=!0,enableGrid:j=!0,enableAxes:f=!0,enableAnnotations:v=!0,chartType:C="3dScatter",onPointClick:S}=e;const k=(0,B.A)(),{addAnnotation:w,getAnnotationsForDataPoint:D}=(0,ne.IH)(),[P,R]=(0,r.useState)(!1),[I,M]=(0,r.useState)(1),[$,W]=(0,r.useState)("dark"===k.palette.mode),[L,F]=(0,r.useState)(null),[G,E]=(0,r.useState)(null),[N,U]=(0,r.useState)([]),[O,V]=(0,r.useState)([]);(0,r.useEffect)((()=>{if(!i||0===i.length)return;const e=Array.from(new Set(i.map((e=>e.group||"default"))));U(e),0===O.length&&V(e)}),[i,O.length]);const K=(0,r.useCallback)((e=>{V(e.target.value)}),[]),Z=(0,r.useCallback)((()=>{R((e=>!e))}),[]),H=(0,r.useCallback)(((e,a)=>{M(a)}),[]),Q=(0,r.useCallback)((()=>{W((e=>!e))}),[]),te=((0,r.useCallback)((e=>{e.target.value}),[]),(0,r.useCallback)((e=>{}),[]),(0,r.useCallback)((e=>{}),[]),(0,r.useCallback)((e=>{F((a=>(null===a||void 0===a?void 0:a.id)===e.id?null:e)),S&&S(e)}),[S])),re=(0,r.useCallback)((()=>i&&0!==i.length?i.filter((e=>O.includes(e.group||"default"))):[]),[i,O]),le=(0,r.useCallback)((()=>{const e=re();if(0===e.length)return[];const a=e.map((e=>e.x)),t=e.map((e=>e.y)),r=e.map((e=>e.z)),n=Math.min(...a),i=Math.max(...a),l=Math.min(...t),s=Math.max(...t),o=Math.min(...r),d=Math.max(...r);return e.map((e=>({...e,normalizedX:(e.x-n)/(i-n)*10-5,normalizedY:(e.y-l)/(s-l)*10-5,normalizedZ:(e.z-o)/(d-o)*10-5})))}),[re]),oe=(0,r.useCallback)((e=>{if(e.color)return e.color;if("group"===g&&e.group){const a=["#0088FE","#00C49F","#FFBB28","#FF8042","#A569BD","#5DADE2","#48C9B0","#F4D03F"];return a[N.indexOf(e.group)%a.length]}return k.palette.primary.main}),[g,N,k]),de=(0,r.useCallback)((e=>{if("value"===p&&void 0!==e.value){const a=Math.min(...i.map((e=>e.value||0))),t=Math.max(...i.map((e=>e.value||0)));return.2+.8*((e.value-a)/(t-a))}return.5}),[p,i]);return h?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:u},children:(0,ie.jsx)(q.A,{})}):x?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:u},children:(0,ie.jsx)(l.A,{color:"error",children:x})}):i&&0!==i.length?(0,ie.jsxs)(s.A,{sx:{height:u,display:"flex",flexDirection:"column"},children:[(0,ie.jsxs)("div",{style:{padding:8,display:"flex",flexWrap:"wrap",gap:8,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[N.length>0&&(0,ie.jsxs)(_.A,{size:"small",sx:{minWidth:150},children:[(0,ie.jsx)(J.A,{id:"group-select-label",children:"Groups"}),(0,ie.jsx)(X.A,{labelId:"group-select-label",multiple:!0,value:O,onChange:K,label:"Groups",children:N.map((e=>(0,ie.jsx)(m.A,{value:e,children:e},e)))})]}),y&&(0,ie.jsx)(ge.A,{control:(0,ie.jsx)(pe.A,{checked:P,onChange:Z,size:"small"}),label:"Auto-rotate"}),y&&P&&(0,ie.jsxs)("div",{style:{width:120,paddingLeft:8,paddingRight:8},children:[(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Speed"}),(0,ie.jsx)(se.Ay,{value:I,onChange:H,min:.5,max:5,step:.5,size:"small"})]}),y&&(0,ie.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ie.jsx)(z.A,{title:"Rotate Left",children:(0,ie.jsx)(T.A,{size:"small",onClick:()=>{},children:(0,ie.jsx)(ye.A,{fontSize:"small"})})}),(0,ie.jsx)(z.A,{title:"Rotate Right",children:(0,ie.jsx)(T.A,{size:"small",onClick:()=>{},children:(0,ie.jsx)(Ae.A,{fontSize:"small"})})})]}),A&&(0,ie.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,ie.jsx)(z.A,{title:"Zoom In",children:(0,ie.jsx)(T.A,{size:"small",onClick:()=>{},children:(0,ie.jsx)(Y.A,{fontSize:"small"})})}),(0,ie.jsx)(z.A,{title:"Zoom Out",children:(0,ie.jsx)(T.A,{size:"small",onClick:()=>{},children:(0,ie.jsx)(ee.A,{fontSize:"small"})})}),(0,ie.jsx)(z.A,{title:"Reset View",children:(0,ie.jsx)(T.A,{size:"small",onClick:()=>{},children:(0,ie.jsx)(ae.A,{fontSize:"small"})})})]}),(0,ie.jsx)(z.A,{title:$?"Light Mode":"Dark Mode",children:(0,ie.jsx)(T.A,{size:"small",onClick:Q,children:$?(0,ie.jsx)(je.A,{fontSize:"small"}):(0,ie.jsx)(be.A,{fontSize:"small"})})})]}),(0,ie.jsx)("div",{style:{flex:1,position:"relative"},children:(()=>{const e=le();return(0,ie.jsx)(fe,{height:u,fallback:(0,ie.jsx)(l.A,{color:"text.secondary",children:"3D visualization could not be loaded. Please try again later."}),children:(0,ie.jsx)(r.Suspense,{fallback:(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ie.jsx)(q.A,{})}),children:(0,ie.jsx)(ve,{normalizedData:e,autoRotate:P,rotationSpeed:I,enableZoom:A,enableRotation:y,enableGrid:j,enableAxes:f,enableLabels:b,darkMode:$,xLabel:o,yLabel:d,zLabel:c,chartType:C,getPointColor:oe,getPointSize:de,handlePointClick:te,selectedPoint:L,hoveredPoint:G,setHoveredPoint:E})})})})()}),L&&(0,ie.jsxs)("div",{style:{padding:16,borderTop:"1px solid rgba(0, 0, 0, 0.12)"},children:[(0,ie.jsxs)(l.A,{variant:"subtitle2",children:["Selected Point: ",L.label||L.id]}),(0,ie.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:[(0,ie.jsxs)(l.A,{variant:"body2",children:["X: ",L.x,", Y: ",L.y,", Z: ",L.z]}),void 0!==L.value&&(0,ie.jsxs)(l.A,{variant:"body2",children:["Value: ",L.value]}),L.group&&(0,ie.jsxs)(l.A,{variant:"body2",children:["Group: ",L.group]})]})]})]}):(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:u},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"No data available"})})},Se=(0,r.lazy)((()=>Promise.all([t.e(9533),t.e(8554)]).then(t.bind(t,28554)))),ke=e=>{let{id:a,title:t,description:n,data:i,xLabel:o="X Axis",yLabel:d="Y Axis",zLabel:c="Z Axis",xRange:u,yRange:h,height:x=500,loading:g=!1,error:p=null,resolution:y=50,interpolationMethod:A="bilinear",colorMap:b="rainbow",wireframe:j=!0,enableRotation:f=!0,enableZoom:v=!0,enableGrid:C=!0,enableAxes:S=!0,onPointClick:k}=e;const w=(0,B.A)(),[D,P]=(0,r.useState)(!1),[R,I]=(0,r.useState)(1),[M,$]=(0,r.useState)("dark"===w.palette.mode),[W,L]=(0,r.useState)(y),[F,G]=(0,r.useState)(A),[E,N]=(0,r.useState)(j),[U,O]=(0,r.useState)(b),V=(0,r.useCallback)((()=>{P((e=>!e))}),[]),K=(0,r.useCallback)(((e,a)=>{I(a)}),[]),Z=(0,r.useCallback)((()=>{$((e=>!e))}),[]),H=(0,r.useCallback)(((e,a)=>{L(a)}),[]),Q=(0,r.useCallback)((e=>{G(e.target.value)}),[]),Y=(0,r.useCallback)((()=>{N((e=>!e))}),[]),ee=(0,r.useCallback)((e=>{O(e.target.value)}),[]);return g?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:x},children:(0,ie.jsx)(q.A,{})}):p?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:x},children:(0,ie.jsx)(l.A,{color:"error",children:p})}):!i||i.length<3?(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:x},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"Not enough data points for surface interpolation (minimum 3 required)"})}):(0,ie.jsxs)(s.A,{style:{height:x,display:"flex",flexDirection:"column"},children:[(0,ie.jsxs)("div",{style:{padding:8,display:"flex",flexWrap:"wrap",gap:8,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[(0,ie.jsxs)(_.A,{size:"small",style:{minWidth:150},children:[(0,ie.jsx)(J.A,{id:"interpolation-select-label",children:"Interpolation"}),(0,ie.jsxs)(X.A,{labelId:"interpolation-select-label",value:F,onChange:Q,label:"Interpolation",children:[(0,ie.jsx)(m.A,{value:"nearest",children:"Nearest Neighbor"}),(0,ie.jsx)(m.A,{value:"bilinear",children:"Bilinear"}),(0,ie.jsx)(m.A,{value:"bicubic",children:"Bicubic"}),(0,ie.jsx)(m.A,{value:"natural",children:"Natural Neighbor"}),(0,ie.jsx)(m.A,{value:"kriging",children:"Kriging"})]})]}),(0,ie.jsxs)(_.A,{size:"small",style:{minWidth:120},children:[(0,ie.jsx)(J.A,{id:"colormap-select-label",children:"Color Map"}),(0,ie.jsxs)(X.A,{labelId:"colormap-select-label",value:U,onChange:ee,label:"Color Map",children:[(0,ie.jsx)(m.A,{value:"rainbow",children:"Rainbow"}),(0,ie.jsx)(m.A,{value:"heatmap",children:"Heatmap"}),(0,ie.jsx)(m.A,{value:"terrain",children:"Terrain"}),(0,ie.jsx)(m.A,{value:"plasma",children:"Plasma"})]})]}),(0,ie.jsxs)("div",{style:{width:150,paddingLeft:8,paddingRight:8},children:[(0,ie.jsxs)(l.A,{variant:"caption",color:"text.secondary",children:["Resolution: ",W]}),(0,ie.jsx)(se.Ay,{value:W,onChange:H,min:10,max:100,step:5,size:"small"})]}),(0,ie.jsx)(ge.A,{control:(0,ie.jsx)(pe.A,{checked:E,onChange:Y,size:"small"}),label:"Wireframe"}),f&&(0,ie.jsx)(ge.A,{control:(0,ie.jsx)(pe.A,{checked:D,onChange:V,size:"small"}),label:"Auto-rotate"}),f&&D&&(0,ie.jsxs)("div",{style:{width:120,paddingLeft:8,paddingRight:8},children:[(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",children:"Speed"}),(0,ie.jsx)(se.Ay,{value:R,onChange:K,min:.5,max:5,step:.5,size:"small"})]}),(0,ie.jsx)(z.A,{title:M?"Light Mode":"Dark Mode",children:(0,ie.jsx)(T.A,{size:"small",onClick:Z,children:M?(0,ie.jsx)(je.A,{fontSize:"small"}):(0,ie.jsx)(be.A,{fontSize:"small"})})})]}),(0,ie.jsx)("div",{style:{flex:1,position:"relative"},children:(0,ie.jsx)(fe,{height:x,fallback:(0,ie.jsx)(l.A,{color:"text.secondary",children:"3D visualization could not be loaded. Please try again later."}),children:(0,ie.jsx)(r.Suspense,{fallback:(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ie.jsx)(q.A,{})}),children:(0,ie.jsx)(Se,{data:i,autoRotate:D,rotationSpeed:R,enableZoom:v,enableRotation:f,enableGrid:C,enableAxes:S,darkMode:M,xLabel:o,yLabel:d,zLabel:c,surfaceResolution:W,selectedInterpolation:F,showWireframe:E,selectedColorMap:U,xRange:u,yRange:h,onPointClick:k,theme:w})})})})]})};var we=t(2050),De=t(48734),ze=t(39336),Pe=t(47030),Re=t(66461),Ie=t(36037),Me=t(93933),$e=t(35721),We=t(37918),Le=t(23851),Be=t(81045),Te=t(75310),Fe=t(54444),Ge=t(21560),Ee=t(52177),Ne=t(40835),Ue=t(19778),Oe=t(67781);class Ve{constructor(e){this.callbacks={},this.connected=!1,this.url="",this.url=e,this.connected=!0,console.log(`WebSocket connected to ${e}`),setTimeout((()=>{this.trigger("open",{})}),500)}static getInstance(e){return Ve.instance||(Ve.instance=new Ve(e)),Ve.instance}on(e,a){this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(a)}off(e,a){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter((e=>e!==a)))}trigger(e,a){this.callbacks[e]&&this.callbacks[e].forEach((e=>e(a)))}send(e){this.connected?(console.log("WebSocket sending data:",e),setTimeout((()=>{const a="string"===typeof e?JSON.parse(e):e;switch(a.type){case"add_annotation":this.trigger("message",{type:"annotation_added",annotation:{...a.annotation,id:`annotation-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}});break;case"update_annotation":this.trigger("message",{type:"annotation_updated",annotation:{...a.annotation,updatedAt:(new Date).toISOString()}});break;case"delete_annotation":this.trigger("message",{type:"annotation_deleted",annotationId:a.annotationId});break;case"get_annotations":const e=[{id:"annotation-1",chartId:a.chartId,dataPointId:"point-1",text:"This is an interesting data point!",author:"John Doe",createdAt:"2023-01-01T12:00:00Z",updatedAt:"2023-01-01T12:00:00Z",type:"comment",position:{x:30,y:40},metadata:{label:"Data Point 1"}},{id:"annotation-2",chartId:a.chartId,dataPointId:"point-2",text:"This value seems abnormal, we should investigate.",author:"Jane Smith",createdAt:"2023-01-02T14:30:00Z",updatedAt:"2023-01-02T15:45:00Z",type:"flag",position:{x:70,y:60},metadata:{label:"Data Point 2"}}];this.trigger("message",{type:"annotations_list",annotations:e});break;default:console.log("Unknown message type:",a.type)}}),300)):console.error("WebSocket is not connected")}close(){this.connected=!1,this.trigger("close",{}),Ve.instance=null,console.log("WebSocket disconnected")}}Ve.instance=null;const Ke=(0,r.createContext)(void 0),qe=e=>{let{children:a,currentUser:t={id:"user-1",name:"Current User"}}=e;const[n,i]=(0,r.useState)([]),[l,s]=(0,r.useState)([]),[o,d]=(0,r.useState)([{id:"user-1",name:"Current User"},{id:"user-2",name:"John Doe"},{id:"user-3",name:"Jane Smith"},{id:"user-4",name:"Bob Johnson"}]),[c,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[x,g]=(0,r.useState)(null);(0,r.useEffect)((()=>{const e=Ve.getInstance("wss://api.example.com/annotations");g(e);const a=()=>{console.log("WebSocket connection established"),e.send(JSON.stringify({type:"get_annotations",chartId:"all"}))},r=e=>{var a,r;const n="string"===typeof e?JSON.parse(e):e;switch(n.type){case"annotations_list":i(n.annotations);break;case"annotation_added":i((e=>[...e,n.annotation])),null!==(a=n.annotation.mentions)&&void 0!==a&&a.includes(t.id)&&n.annotation.authorId!==t.id&&f({type:"mention",annotationId:n.annotation.id,chartId:n.annotation.chartId,dataPointId:n.annotation.dataPointId,fromUser:n.annotation.author,fromUserId:n.annotation.authorId,message:`${n.annotation.author} mentioned you in an annotation`});break;case"annotation_updated":i((e=>e.map((e=>e.id===n.annotation.id?n.annotation:e)))),null!==(r=n.annotation.mentions)&&void 0!==r&&r.includes(t.id)&&n.annotation.authorId!==t.id&&f({type:"update",annotationId:n.annotation.id,chartId:n.annotation.chartId,dataPointId:n.annotation.dataPointId,fromUser:n.annotation.author,fromUserId:n.annotation.authorId,message:`${n.annotation.author} updated an annotation that mentions you`});break;case"annotation_deleted":i((e=>e.filter((e=>e.id!==n.annotationId))));break;default:console.log("Unknown message type:",n.type)}},n=e=>{console.error("WebSocket error:",e),m("Failed to connect to annotation service")},l=()=>{console.log("WebSocket connection closed")};return e.on("open",a),e.on("message",r),e.on("error",n),e.on("close",l),()=>{e.off("open",a),e.off("message",r),e.off("error",n),e.off("close",l),e.close()}}),[t.id]);const p=(0,r.useCallback)((e=>{if(!x)return;u(!0);const a=Array.from(e.text.matchAll(/@(\w+)/g)).map((e=>e[1])).map((e=>{const a=o.find((a=>a.name.toLowerCase().replace(/\s+/g,"")===e.toLowerCase()));return a?a.id:null})).filter(Boolean);x.send(JSON.stringify({type:"add_annotation",annotation:{...e,authorId:t.id,mentions:a}})),u(!1)}),[x,o,t.id]),y=(0,r.useCallback)(((e,a,t,r)=>{if(!x)return;u(!0);const i=n.find((a=>a.id===e));if(!i)return m("Annotation not found"),void u(!1);let l=r;if(!l){const e=/@(\w+)/g;l=Array.from(a.matchAll(e)).map((e=>e[1])).map((e=>{const a=o.find((a=>a.name.toLowerCase().replace(/\s+/g,"")===e.toLowerCase()));return a?a.id:null})).filter(Boolean)}x.send(JSON.stringify({type:"update_annotation",annotation:{...i,text:a,type:t,mentions:l}})),u(!1)}),[x,n,o]),A=(0,r.useCallback)((e=>{x&&(u(!0),x.send(JSON.stringify({type:"delete_annotation",annotationId:e})),u(!1))}),[x]),b=(0,r.useCallback)((e=>n.filter((a=>a.chartId===e))),[n]),j=(0,r.useCallback)(((e,a)=>n.filter((t=>t.chartId===e&&t.dataPointId===a))),[n]),f=(0,r.useCallback)((e=>{const a={...e,id:`notification-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,createdAt:(new Date).toISOString(),read:!1};s((e=>[a,...e]))}),[]),v=(0,r.useCallback)((e=>{s((a=>a.map((a=>a.id===e?{...a,read:!0}:a))))}),[]),C=(0,r.useCallback)((()=>{s((e=>e.map((e=>({...e,read:!0})))))}),[]),S=(0,r.useCallback)((()=>l.filter((e=>!e.read)).length),[l]),k={annotations:n,notifications:l,users:o,currentUser:t,loading:c,error:h,addAnnotation:p,updateAnnotation:y,deleteAnnotation:A,getAnnotationsForChart:b,getAnnotationsForDataPoint:j,markNotificationAsRead:v,markAllNotificationsAsRead:C,getUnreadNotificationsCount:S};return(0,ie.jsx)(Ke.Provider,{value:k,children:a})},Ze=()=>{const e=(0,r.useContext)(Ke);if(void 0===e)throw new Error("useCollaborativeAnnotationContext must be used within a CollaborativeAnnotationContextProvider");return e},He=e=>{let{maxNotifications:a=10,onNotificationClick:t}=e;const n=(0,B.A)(),{notifications:i,markNotificationAsRead:s,markAllNotificationsAsRead:o,getUnreadNotificationsCount:c}=Ze(),[u,m]=(0,r.useState)(null),x=(0,r.useCallback)((e=>{m(e.currentTarget)}),[]),g=(0,r.useCallback)((()=>{m(null)}),[]),p=(0,r.useCallback)((e=>{s(e.id),t&&t(e),g()}),[s,t,g]),A=(0,r.useCallback)((()=>{o()}),[o]),b=(0,r.useCallback)((e=>{switch(e){case"mention":return(0,ie.jsx)(Ee.A,{fontSize:"small",color:"primary"});case"reply":return(0,ie.jsx)(Ne.A,{fontSize:"small",color:"info"});case"update":return(0,ie.jsx)(C.A,{fontSize:"small",color:"warning"});case"delete":return(0,ie.jsx)(S.A,{fontSize:"small",color:"error"});default:return(0,ie.jsx)(Te.A,{fontSize:"small"})}}),[]),j=(0,r.useCallback)((e=>{const a=new Date,t=new Date(e);return a.getTime()-t.getTime()<864e5?(0,Oe.A)(t,{addSuffix:!0}):(0,y.A)(t,"MMM dd, yyyy")}),[]),f=c(),v=[...i].sort(((e,a)=>new Date(a.createdAt).getTime()-new Date(e.createdAt).getTime())).slice(0,a);return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(T.A,{color:"inherit",onClick:x,"aria-label":"notifications",children:(0,ie.jsx)(Me.A,{badgeContent:f,color:"error",children:f>0?(0,ie.jsx)(Fe.A,{}):i.length>0?(0,ie.jsx)(Te.A,{}):(0,ie.jsx)(Ge.A,{})})}),(0,ie.jsxs)(h.A,{anchorEl:u,open:Boolean(u),onClose:g,PaperProps:{sx:{width:360,maxHeight:500,overflow:"auto"}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,ie.jsxs)(Z.A,{sx:{px:2,py:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ie.jsx)(l.A,{variant:"subtitle1",children:"Notifications"}),f>0&&(0,ie.jsx)(d.A,{size:"small",onClick:A,startIcon:(0,ie.jsx)(Ue.A,{fontSize:"small"}),children:"Mark all as read"})]}),(0,ie.jsx)(ze.A,{}),v.length>0?(0,ie.jsx)($e.A,{sx:{p:0},children:v.map((e=>(0,ie.jsxs)(We.Ay,{onClick:()=>p(e),sx:{cursor:"pointer",backgroundColor:e.read?"transparent":(0,K.X4)(n.palette.primary.main,.08),"&:hover":{backgroundColor:(0,K.X4)(n.palette.primary.main,.12)}},children:[(0,ie.jsx)(Le.A,{children:(0,ie.jsx)(Be.A,{sx:{bgcolor:e.read?n.palette.grey[300]:n.palette.primary.main},children:b(e.type)})}),(0,ie.jsx)(De.A,{primary:(0,ie.jsx)(l.A,{variant:"body2",fontWeight:e.read?"normal":"bold",children:e.message}),secondary:(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",children:j(e.createdAt)})}),!e.read&&(0,ie.jsx)(Z.A,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:n.palette.primary.main,ml:1}})]},e.id)))}):(0,ie.jsxs)(Z.A,{sx:{p:3,textAlign:"center"},children:[(0,ie.jsx)(Ge.A,{sx:{fontSize:48,color:n.palette.grey[400],mb:1}}),(0,ie.jsx)(l.A,{color:"text.secondary",children:"No notifications"})]}),i.length>a&&(0,ie.jsx)(Z.A,{sx:{p:2,textAlign:"center"},children:(0,ie.jsx)(d.A,{size:"small",variant:"text",children:"View all notifications"})})]})]})};var _e=t(83462),Je=t(4219),Xe=t(35316),Qe=t(8266),Ye=t(95953),ea=t(86328),aa=t(20036),ta=t(30922),ra=t(29347),na=t(74802),ia=t(69286),la=t(55600);const sa=e=>{let{open:a,onClose:t,chartId:n,dataPointId:i,dataPointLabel:o}=e;const c=(0,B.A)(),{annotations:u,users:h,currentUser:x,loading:g,addAnnotation:p,updateAnnotation:A,deleteAnnotation:b,getAnnotationsForDataPoint:j}=Ze(),f=j(n,i),[v,k]=(0,r.useState)(""),[w,D]=(0,r.useState)("comment"),[z,P]=(0,r.useState)(null),[R,I]=(0,r.useState)(""),[M,$]=(0,r.useState)(null),[W,L]=(0,r.useState)(null),F=(0,r.useRef)(null);(0,r.useEffect)((()=>{a&&(k(""),D("comment"),P(null))}),[a]);const G=(0,r.useCallback)((e=>{const a=e.target.value;k(a);const t=e.target.selectionStart||0,r=a.substring(0,t).match(/@(\w*)$/);if(r){const e=r[1];I(e),L({start:t-e.length-1,end:t}),F.current&&$(F.current)}else $(null),L(null)}),[]),E=R?h.filter((e=>e.name.toLowerCase().includes(R.toLowerCase())&&e.id!==x.id)):[],N=(0,r.useCallback)((e=>{if(!W)return;const a=v.substring(0,W.start),t=v.substring(W.end),r=`${a}@${e.name.replace(/\s+/g,"")} ${t}`;k(r),$(null),L(null)}),[v,W]),U=(0,r.useCallback)((()=>{v.trim()&&(p({chartId:n,dataPointId:i,text:v,author:x.name,type:w,position:{x:50,y:50},metadata:{label:o}}),k(""),D("comment"))}),[v,w,n,i,o,x.name,p]),O=(0,r.useCallback)((e=>{P(e),k(e.text),D(e.type)}),[]),V=(0,r.useCallback)((()=>{z&&v.trim()&&(A(z.id,v,w),P(null),k(""),D("comment"))}),[z,v,w,A]),K=(0,r.useCallback)((()=>{P(null),k(""),D("comment")}),[]),q=(0,r.useCallback)((e=>{b(e),z&&z.id===e&&K()}),[b,z,K]),_=(0,r.useCallback)((e=>{switch(e){case"comment":default:return(0,ie.jsx)(Ne.A,{fontSize:"small"});case"flag":return(0,ie.jsx)(ia.A,{fontSize:"small",color:"error"});case"insight":return(0,ie.jsx)(la.A,{fontSize:"small",color:"primary"})}}),[]),J=(0,r.useCallback)((e=>{const a=[];let t=0;const r=/@(\w+)/g;let n;for(;null!==(n=r.exec(e));){n.index>t&&a.push(e.substring(t,n.index));const r=n[1],i=h.find((e=>e.name.toLowerCase().replace(/\s+/g,"")===r.toLowerCase()));i?a.push((0,ie.jsx)(Q.A,{size:"small",label:i.name,avatar:(0,ie.jsx)(Be.A,{children:i.name.charAt(0)}),sx:{height:24,"& .MuiChip-label":{px:1,fontSize:"0.75rem"}}},`mention-${n.index}`)):a.push(`@${r}`),t=n.index+n[0].length}return t<e.length&&a.push(e.substring(t)),a}),[h]);return(0,ie.jsxs)(_e.A,{open:a,onClose:t,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"80vh"}},children:[(0,ie.jsx)(Je.A,{children:(0,ie.jsxs)(Z.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ie.jsxs)(l.A,{variant:"h6",children:["Annotations for ",o]}),(0,ie.jsx)(T.A,{"aria-label":"close",onClick:t,sx:{color:c.palette.grey[500]},children:(0,ie.jsx)(na.A,{})})]})}),(0,ie.jsxs)(Xe.A,{dividers:!0,children:[f.length>0?(0,ie.jsx)($e.A,{children:f.map((e=>(0,ie.jsxs)(r.Fragment,{children:[(0,ie.jsxs)(We.Ay,{alignItems:"flex-start",children:[(0,ie.jsx)(Z.A,{sx:{mr:1,mt:.5},children:_(e.type)}),(0,ie.jsx)(De.A,{primary:(0,ie.jsxs)(Z.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,ie.jsxs)(Z.A,{sx:{display:"flex",alignItems:"center"},children:[(0,ie.jsx)(Be.A,{sx:{width:24,height:24,mr:1,fontSize:"0.75rem"},children:e.author.charAt(0)}),(0,ie.jsx)(l.A,{variant:"subtitle2",children:e.author})]}),(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",children:(0,y.A)(new Date(e.createdAt),"MMM dd, yyyy HH:mm")})]}),secondary:(0,ie.jsxs)(Z.A,{sx:{mt:1},children:[(0,ie.jsx)(l.A,{variant:"body2",color:"text.primary",component:"div",sx:{whiteSpace:"pre-wrap"},children:J(e.text)}),e.updatedAt!==e.createdAt&&(0,ie.jsxs)(l.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["Edited ",(0,y.A)(new Date(e.updatedAt),"MMM dd, yyyy HH:mm")]})]})}),e.authorId===x.id&&(0,ie.jsxs)(Qe.A,{children:[(0,ie.jsx)(T.A,{edge:"end","aria-label":"edit",onClick:()=>O(e),size:"small",children:(0,ie.jsx)(C.A,{fontSize:"small"})}),(0,ie.jsx)(T.A,{edge:"end","aria-label":"delete",onClick:()=>q(e.id),size:"small",children:(0,ie.jsx)(S.A,{fontSize:"small"})})]})]}),(0,ie.jsx)(ze.A,{component:"li"})]},e.id)))}):(0,ie.jsx)(Z.A,{sx:{py:2,textAlign:"center"},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"No annotations yet. Add one below."})}),(0,ie.jsxs)(Z.A,{sx:{mt:2},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",gutterBottom:!0,children:z?"Edit Annotation":"Add Annotation"}),(0,ie.jsx)(H.A,{fullWidth:!0,multiline:!0,rows:3,placeholder:"Add your annotation here... Use @ to mention users",value:v,onChange:G,variant:"outlined",size:"small",ref:F,disabled:g}),(0,ie.jsx)(Ye.A,{open:Boolean(M)&&E.length>0,anchorEl:M,placement:"bottom-start",transition:!0,children:e=>{let{TransitionProps:a}=e;return(0,ie.jsx)(ea.A,{...a,children:(0,ie.jsx)(s.A,{elevation:3,sx:{mt:1,maxHeight:200,overflow:"auto"},children:(0,ie.jsx)(aa.x,{onClickAway:()=>$(null),children:(0,ie.jsx)(ta.A,{children:E.map((e=>(0,ie.jsxs)(m.A,{onClick:()=>N(e),children:[(0,ie.jsx)(Be.A,{sx:{width:24,height:24,mr:1,fontSize:"0.75rem"},children:e.name.charAt(0)}),(0,ie.jsx)(l.A,{variant:"body2",children:e.name})]},e.id)))})})})})}}),(0,ie.jsxs)(Z.A,{sx:{display:"flex",mt:1,gap:1},children:[(0,ie.jsx)(Q.A,{icon:(0,ie.jsx)(Ne.A,{}),label:"Comment",onClick:()=>D("comment"),color:"comment"===w?"primary":"default",variant:"comment"===w?"filled":"outlined"}),(0,ie.jsx)(Q.A,{icon:(0,ie.jsx)(ia.A,{}),label:"Flag",onClick:()=>D("flag"),color:"flag"===w?"primary":"default",variant:"flag"===w?"filled":"outlined"}),(0,ie.jsx)(Q.A,{icon:(0,ie.jsx)(la.A,{}),label:"Insight",onClick:()=>D("insight"),color:"insight"===w?"primary":"default",variant:"insight"===w?"filled":"outlined"})]}),(0,ie.jsx)(l.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Tip: Use @ to mention users (e.g., @JohnDoe)"})]})]}),(0,ie.jsx)(ra.A,{children:z?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(d.A,{onClick:K,disabled:g,children:"Cancel"}),(0,ie.jsx)(d.A,{onClick:V,variant:"contained",color:"primary",disabled:!v.trim()||g,children:"Save Changes"})]}):(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(d.A,{onClick:t,disabled:g,children:"Close"}),(0,ie.jsx)(d.A,{onClick:U,variant:"contained",color:"primary",disabled:!v.trim()||g,children:"Add Annotation"})]})})]})},oa=e=>{let{id:a,title:t,description:n,type:i,data:o,height:d=500,loading:x=!1,error:g=null,enableFullscreen:p=!0,enableExport:y=!0,enableShare:A=!0,enableNotifications:b=!0,enableAnnotations:j=!0,onExport:f,onShare:v}=e;(0,B.A)();const[C,S]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),[D,P]=(0,r.useState)(0),[R,I]=(0,r.useState)(!1),[M,$]=(0,r.useState)(null),L=(0,r.useCallback)((e=>{w(e.currentTarget)}),[]),G=(0,r.useCallback)((()=>{w(null)}),[]),E=(0,r.useCallback)((()=>{S((e=>!e))}),[]),N=(0,r.useCallback)((e=>{f?f(e):console.log(`Exporting visualization in ${e} format`),G()}),[f,G]),U=(0,r.useCallback)((()=>{v?v():console.log("Sharing visualization"),G()}),[v,G]),O=(0,r.useCallback)(((e,a)=>{P(a)}),[]),V=(0,r.useCallback)((e=>{$(e),j&&I(!0)}),[j]),K=(0,r.useCallback)((e=>{const a=e.dataPointId;$({id:a,label:"Data Point"}),I(!0)}),[]),q=(0,r.useCallback)((()=>{switch(i){case"networkGraph":return(0,ie.jsx)(le,{id:`${a}-network`,title:t,description:n,data:o,height:d,loading:x,error:g,enableNodeSelection:!0,enableLinkSelection:!0,enableSearch:!0,enableFiltering:!0,enableAnnotations:j,onNodeClick:V});case"sankeyDiagram":return(0,ie.jsx)(xe,{id:`${a}-sankey`,title:t,description:n,data:o,height:d,loading:x,error:g,enableSearch:!0,enableFiltering:!0,enableExport:!0,enableAnnotations:j,onNodeClick:V,onLinkClick:V});case"3dScatter":case"3dBar":case"3dSurface":return(0,ie.jsx)(Ce,{id:`${a}-3d`,title:t,description:n,data:o,height:d,loading:x,error:g,enableRotation:!0,enableZoom:!0,enableLabels:!0,enableGrid:!0,enableAxes:!0,enableAnnotations:j,chartType:"3dScatter"===i?"3dScatter":"3dBar"===i?"3dBar":"3dSurface",onPointClick:V});default:return(0,ie.jsx)(Z.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:d},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"Unsupported visualization type"})})}}),[i,a,t,n,o,d,x,g,j,V]),H=(0,r.useCallback)((()=>M?M.label?M.label:M.name?M.name:"networkGraph"===i||"sankeyDiagram"===i?`Node ${M.id}`:i.startsWith("3d")?`Point (${M.x}, ${M.y}, ${M.z})`:`Data Point ${M.id}`:"Data Point"),[M,i]);return(0,ie.jsx)(qe,{children:(0,ie.jsxs)(s.A,{sx:{height:C?"100vh":d,width:C?"100vw":"100%",position:C?"fixed":"relative",top:C?0:"auto",left:C?0:"auto",zIndex:C?1300:"auto",display:"flex",flexDirection:"column",overflow:"hidden"},elevation:C?24:1,children:[(0,ie.jsxs)(Z.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:"1px solid",borderColor:"divider"},children:[(0,ie.jsxs)(Z.A,{sx:{display:"flex",alignItems:"center"},children:[(0,ie.jsx)(l.A,{variant:"h6",children:t}),n&&(0,ie.jsx)(z.A,{title:n,children:(0,ie.jsx)(T.A,{size:"small",sx:{ml:1},children:(0,ie.jsx)(Pe.A,{fontSize:"small"})})})]}),(0,ie.jsxs)(Z.A,{sx:{display:"flex",alignItems:"center"},children:[b&&(0,ie.jsx)(He,{onNotificationClick:K}),p&&(0,ie.jsx)(z.A,{title:C?"Exit Fullscreen":"Fullscreen",children:(0,ie.jsx)(T.A,{onClick:E,children:C?(0,ie.jsx)(Ie.A,{}):(0,ie.jsx)(Re.A,{})})}),(y||A)&&(0,ie.jsx)(T.A,{onClick:L,children:(0,ie.jsx)(F.A,{})}),(0,ie.jsxs)(h.A,{anchorEl:k,open:Boolean(k),onClose:G,children:[y&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(m.A,{onClick:()=>N("png"),children:[(0,ie.jsx)(we.A,{children:(0,ie.jsx)(oe.A,{fontSize:"small"})}),(0,ie.jsx)(De.A,{children:"Export as PNG"})]}),(0,ie.jsxs)(m.A,{onClick:()=>N("svg"),children:[(0,ie.jsx)(we.A,{children:(0,ie.jsx)(oe.A,{fontSize:"small"})}),(0,ie.jsx)(De.A,{children:"Export as SVG"})]}),(0,ie.jsxs)(m.A,{onClick:()=>N("csv"),children:[(0,ie.jsx)(we.A,{children:(0,ie.jsx)(oe.A,{fontSize:"small"})}),(0,ie.jsx)(De.A,{children:"Export Data as CSV"})]})]}),y&&A&&(0,ie.jsx)(ze.A,{}),A&&(0,ie.jsxs)(m.A,{onClick:U,children:[(0,ie.jsx)(we.A,{children:(0,ie.jsx)(W.A,{fontSize:"small"})}),(0,ie.jsx)(De.A,{children:"Share Visualization"})]})]})]})]}),i.startsWith("3d")&&(0,ie.jsx)(Z.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,ie.jsxs)(c.A,{value:D,onChange:O,"aria-label":"visualization tabs",children:[(0,ie.jsx)(u.A,{label:"3D View"}),(0,ie.jsx)(u.A,{label:"2D Projection"}),(0,ie.jsx)(u.A,{label:"Data Table"})]})}),(0,ie.jsx)(Z.A,{sx:{flex:1,position:"relative"},children:q()}),M&&(0,ie.jsx)(sa,{open:R,onClose:()=>I(!1),chartId:a,dataPointId:M.id,dataPointLabel:H()})]})})},da=["#0088FE","#00C49F","#FFBB28","#FF8042","#A569BD","#5DADE2","#48C9B0","#F4D03F"],ca=e=>{let{widget:a,data:t,loading:n=!1,error:i=null,customizeMode:o=!1,onMenuOpen:d,columns:c=[],enableInteractivity:u=!0}=e;const h=(0,B.A)(),[m,x]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),A=()=>{switch(a.size){case"small":return{gridColumn:"span 4",height:300};case"medium":default:return{gridColumn:"span 6",height:350};case"large":return{gridColumn:"span 12",height:400}}},b=(e,t)=>{let r=a.title,n="",i=0,l=[];"pieChart"===a.type?(n=e.name,i=e.value,r=`${a.title} - ${n}`):"dailyActions"===a.dataSource?(n=(0,y.A)(new Date(e.date),"MMM dd, yyyy"),i=e.deposits||e.bets||e.uniquePlayers||0,r=`${a.title} - ${n}`,Array.isArray(a.data)&&(l=a.data.filter((a=>a.date===e.date)))):"games"===a.dataSource?(n=e.name||"",i=e.totalBets||e.netGamingRevenue||0,r=`${a.title} - ${n}`,Array.isArray(a.data)&&(l=a.data.filter((a=>a.name===e.name)))):"players"===a.dataSource&&(n=e.name||"",i=e.totalDeposits||e.netGamingRevenue||0,r=`${a.title} - ${n}`,Array.isArray(a.data)&&(l=a.data.filter((a=>a.name===e.name)))),0===l.length&&(l=[e]);p({title:r,description:`Detailed view of ${n}`,category:n,value:i,data:l}),x(!0)};return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(s.A,{sx:{...A(),display:"flex",flexDirection:"column",overflow:"hidden",border:o?`2px dashed ${h.palette.primary.main}`:"none",transition:"all 0.3s ease"},elevation:o?0:1,children:[(0,ie.jsxs)(P.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:"1px solid",borderColor:"divider"},children:[(0,ie.jsx)(l.A,{variant:"h6",children:a.title}),o&&(0,ie.jsx)(T.A,{size:"small",onClick:e=>d&&d(e,a.id),"aria-label":"widget options",children:(0,ie.jsx)(F.A,{})})]}),(0,ie.jsx)(P.A,{sx:{flex:1,overflow:"auto",p:1},children:(()=>{if(!t||Array.isArray(t)&&0===t.length)return(0,ie.jsx)(P.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"No data available"})});switch(a.type){case"areaChart":return u?(0,ie.jsx)(N.A,{id:`widget-${a.id}`,title:a.title,type:"area",data:Array.isArray(t)?t:[],xKey:"dailyActions"===a.dataSource?"date":"name",yKeys:"dailyActions"===a.dataSource?["uniquePlayers","newRegistrations"]:"games"===a.dataSource?["totalBets","netGamingRevenue"]:["totalDeposits","netGamingRevenue"],loading:n,error:i,height:A().height-60,enableDrilldown:!0,enableTooltip:!0,enableCrossFiltering:!0,enableAnnotations:!0,onClick:b}):(0,ie.jsx)(G.eF,{data:Array.isArray(t)?t:[],xKey:"dailyActions"===a.dataSource?"date":"name",yKeys:"dailyActions"===a.dataSource?["uniquePlayers","newRegistrations"]:"games"===a.dataSource?["totalBets","netGamingRevenue"]:["totalDeposits","netGamingRevenue"],loading:n,error:i,height:A().height-60});case"barChart":return u?(0,ie.jsx)(N.A,{id:`widget-${a.id}`,title:a.title,type:"bar",data:Array.isArray(t)?t:[],xKey:"dailyActions"===a.dataSource?"date":"name",yKeys:"dailyActions"===a.dataSource?["deposits","withdrawals"]:"games"===a.dataSource?["totalBets","totalWins"]:["totalDeposits","totalBets"],loading:n,error:i,height:A().height-60,enableDrilldown:!0,enableTooltip:!0,enableCrossFiltering:!0,enableAnnotations:!0,onClick:b}):(0,ie.jsx)(G.ML,{data:Array.isArray(t)?t:[],xKey:"dailyActions"===a.dataSource?"date":"name",yKeys:"dailyActions"===a.dataSource?["deposits","withdrawals"]:"games"===a.dataSource?["totalBets","totalWins"]:["totalDeposits","totalBets"],loading:n,error:i,height:A().height-60});case"pieChart":let e=Array.isArray(t)?t:[];if("dailyActions"===a.dataSource)e=[{name:"Deposits",value:e.reduce(((e,a)=>e+(a.deposits||0)),0)},{name:"Withdrawals",value:e.reduce(((e,a)=>e+(a.withdrawals||0)),0)},{name:"Bets",value:e.reduce(((e,a)=>e+(a.bets||0)),0)},{name:"Wins",value:e.reduce(((e,a)=>e+(a.wins||0)),0)}];else if("players"===a.dataSource){const a=new Map;e.forEach((e=>{const t=e.country||"Unknown";a.set(t,(a.get(t)||0)+1)})),e=Array.from(a.entries()).map((e=>{let[a,t]=e;return{name:a,value:t}}))}else if("games"===a.dataSource){const a=new Map;e.forEach((e=>{const t=e.category||"Unknown";a.set(t,(a.get(t)||0)+1)})),e=Array.from(a.entries()).map((e=>{let[a,t]=e;return{name:a,value:t}}))}return u?(0,ie.jsx)(N.A,{id:`widget-${a.id}`,title:a.title,type:"pie",data:e,xKey:"name",nameKey:"name",valueKey:"value",loading:n,error:i,height:A().height-60,enableDrilldown:!0,enableTooltip:!0,enableCrossFiltering:!0,enableAnnotations:!0,onClick:b}):(0,ie.jsx)(G.LL,{data:e,nameKey:"name",valueKey:"value",loading:n,error:i,height:A().height-60});case"scatterChart":case"lassoScatter":const r=Array.isArray(t)?t.map((e=>{let t={id:e.id||`id-${Math.random().toString(36).substring(2,9)}`};if("dailyActions"===a.dataSource)t={...t,x:e.deposits||0,y:e.bets||0,z:e.uniquePlayers||0,name:(0,y.A)(new Date(e.date),"MMM dd"),date:e.date};else if("players"===a.dataSource)t={...t,x:e.totalDeposits||0,y:e.totalBets||0,z:e.netGamingRevenue||0,name:e.name||"Unknown"};else{if("games"!==a.dataSource)return{...e,id:t.id};t={...t,x:e.totalBets||0,y:e.netGamingRevenue||0,z:e.uniquePlayers||0,name:e.name||"Unknown"}}return t})):[];return u&&"lassoScatter"===a.type?(0,ie.jsx)(O.A,{id:`widget-${a.id}`,title:a.title,data:r,xKey:"x",yKey:"y",nameKey:"name",loading:n,error:i,height:A().height-60,enableLassoSelection:!0,enableCrossFiltering:!0,onClick:b}):u?(0,ie.jsx)(N.A,{id:`widget-${a.id}`,title:a.title,type:"scatter",data:r,xKey:"x",yKeys:["y"],nameKey:"name",loading:n,error:i,height:A().height-60,enableDrilldown:!0,enableTooltip:!0,enableCrossFiltering:!0,enableAnnotations:!0,onClick:b}):(0,ie.jsx)(E.n1,{data:r,xKey:"x",yKey:"y",zKey:"z",nameKey:"name",loading:n,error:i,height:A().height-60});case"radarChart":let s=Array.isArray(t)?t:[];return"dailyActions"===a.dataSource?s=s.slice(0,5).map((e=>({date:(0,y.A)(new Date(e.date),"MMM dd"),deposits:e.deposits||0,withdrawals:e.withdrawals||0,bets:e.bets||0,wins:e.wins||0,ggr:e.ggr||0}))):"games"===a.dataSource?s=s.slice(0,5).map((e=>({name:e.name||"Unknown",totalBets:e.totalBets||0,totalWins:e.totalWins||0,netGamingRevenue:e.netGamingRevenue||0,uniquePlayers:e.uniquePlayers||0,popularity:e.popularity||0}))):"players"===a.dataSource&&(s=s.slice(0,5).map((e=>({name:e.name||"Unknown",totalDeposits:e.totalDeposits||0,totalBets:e.totalBets||0,totalWins:e.totalWins||0,netGamingRevenue:e.netGamingRevenue||0})))),(0,ie.jsx)(E.rm,{data:s,dataKey:"dailyActions"===a.dataSource?"deposits":"games"===a.dataSource?"totalBets":"totalDeposits",nameKey:"dailyActions"===a.dataSource?"date":"name",loading:n,error:i,height:A().height-60});case"treemapChart":let o=Array.isArray(t)?t:[];if("dailyActions"===a.dataSource)o=[{name:"Deposits",value:o.reduce(((e,a)=>e+(a.deposits||0)),0)},{name:"Withdrawals",value:o.reduce(((e,a)=>e+(a.withdrawals||0)),0)},{name:"Bets",value:o.reduce(((e,a)=>e+(a.bets||0)),0)},{name:"Wins",value:o.reduce(((e,a)=>e+(a.wins||0)),0)},{name:"GGR",value:o.reduce(((e,a)=>e+(a.ggr||0)),0)}];else if("games"===a.dataSource){const e=new Map;o.forEach((a=>{const t=a.category||"Unknown";e.set(t,(e.get(t)||0)+(a.totalBets||0))})),o=Array.from(e.entries()).map((e=>{let[a,t]=e;return{name:a,value:t}}))}else if("players"===a.dataSource){const e=new Map;o.forEach((a=>{const t=a.country||"Unknown";e.set(t,(e.get(t)||0)+(a.totalDeposits||0))})),o=Array.from(e.entries()).map((e=>{let[a,t]=e;return{name:a,value:t}}))}return(0,ie.jsx)(E.rJ,{data:o,dataKey:"value",nameKey:"name",loading:n,error:i,height:A().height-60});case"gaugeChart":let d=Array.isArray(t)?t:[];if("dailyActions"===a.dataSource){const e=d.reduce(((e,a)=>e+(a.deposits||0)),0),a=d.reduce(((e,a)=>e+(a.withdrawals||0)),0),t=d.reduce(((e,a)=>e+(a.bets||0)),0),r=d.reduce(((e,a)=>e+(a.wins||0)),0),n=d.reduce(((e,a)=>e+(a.ggr||0)),0);d=[{name:"Deposits",value:e,fill:"#0088FE"},{name:"Withdrawals",value:a,fill:"#00C49F"},{name:"Bets",value:t,fill:"#FFBB28"},{name:"Wins",value:r,fill:"#FF8042"},{name:"GGR",value:n,fill:"#A569BD"}]}else"games"===a.dataSource?d=d.slice(0,5).map(((e,a)=>({name:e.name||"Unknown",value:e.totalBets||0,fill:da[a%da.length]}))):"players"===a.dataSource&&(d=d.slice(0,5).map(((e,a)=>({name:e.name||"Unknown",value:e.totalDeposits||0,fill:da[a%da.length]}))));return(0,ie.jsx)(E.ap,{data:d,dataKey:"value",nameKey:"name",loading:n,error:i,height:A().height-60});case"zoomableTimeSeries":const h=Array.isArray(t)?t.sort(((e,a)=>e.date&&a.date?new Date(e.date).getTime()-new Date(a.date).getTime():0)):[];return u?(0,ie.jsx)(U.A,{id:`widget-${a.id}`,title:a.title,type:"dailyActions"===a.dataSource?"area":"line",data:h,xKey:"date",yKeys:"dailyActions"===a.dataSource?["deposits","withdrawals","bets","wins"]:"games"===a.dataSource?["totalBets","totalWins","netGamingRevenue"]:["totalDeposits","totalBets","netGamingRevenue"],loading:n,error:i,height:A().height-60,enableBrush:!0,enableZoom:!0,onClick:b}):(0,ie.jsx)(G.eF,{data:h,xKey:"date",yKeys:"dailyActions"===a.dataSource?["deposits","withdrawals"]:"games"===a.dataSource?["totalBets","totalWins"]:["totalDeposits","totalBets"],loading:n,error:i,height:A().height-60});case"heatmap":let m=Array.isArray(t)?t:[];if("dailyActions"===a.dataSource){m=[];const e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];for(let a=0;a<e.length;a++)for(let t=0;t<24;t++)m.push({day:e[a],hour:t,value:Math.floor(100*Math.random())})}else if("games"===a.dataSource){const e=["Slots","Table Games","Live Casino","Poker","Other"],a=["Bets","Wins","GGR","Players"];m=[];for(let t of e)for(let e of a)m.push({category:t,metric:e,value:Math.floor(1e3*Math.random())})}else if("players"===a.dataSource){const e=["USA","UK","Canada","Germany","France"],a=["Deposits","Bets","Wins","GGR"];m=[];for(let t of e)for(let e of a)m.push({country:t,metric:e,value:Math.floor(1e3*Math.random())})}return(0,ie.jsx)(E.tM,{data:m,xKey:"dailyActions"===a.dataSource?"hour":(a.dataSource,"metric"),yKey:"dailyActions"===a.dataSource?"day":"games"===a.dataSource?"category":"country",valueKey:"value",loading:n,error:i,height:A().height-60,title:a.title});case"networkGraph":const x={nodes:[],links:[]};if("players"===a.dataSource){const e=Array.isArray(t)?t.slice(0,20):[];x.nodes=e.map((e=>({id:`player-${e.id}`,name:e.name,group:e.country||"Unknown",value:e.totalDeposits||1})));for(let a=0;a<e.length;a++)for(let t=a+1;t<e.length;t++)Math.random()<.3&&x.links.push({source:`player-${e[a].id}`,target:`player-${e[t].id}`,value:Math.floor(10*Math.random())+1})}else if("games"===a.dataSource){const e=Array.isArray(t)?t.slice(0,20):[];x.nodes=e.map((e=>({id:`game-${e.id}`,name:e.name,group:e.category||"Unknown",value:e.uniquePlayers||1})));for(let a=0;a<e.length;a++)for(let t=a+1;t<e.length;t++)Math.random()<.4&&x.links.push({source:`game-${e[a].id}`,target:`game-${e[t].id}`,value:Math.floor(100*Math.random())+1})}return u?(0,ie.jsx)(oa,{id:`widget-${a.id}`,title:a.title,description:`Network visualization for ${a.title}`,type:"networkGraph",data:x,height:A().height-60,loading:n,error:i,enableFullscreen:!0,enableExport:!0,enableShare:!1,enableNotifications:!0,enableAnnotations:!0}):(0,ie.jsx)(le,{id:`widget-${a.id}`,title:a.title,data:x,height:A().height-60,loading:n,error:i,enableNodeSelection:!0,enableLinkSelection:!0});case"sankeyDiagram":const g={nodes:[],links:[]};return"dailyActions"===a.dataSource?(g.nodes=[{name:"New Users"},{name:"Registered"},{name:"Deposited"},{name:"Played"},{name:"Won"},{name:"Lost"},{name:"Withdrew"},{name:"Churned"},{name:"Retained"}],g.links=[{source:0,target:1,value:1e3},{source:1,target:2,value:800},{source:1,target:7,value:200},{source:2,target:3,value:750},{source:2,target:7,value:50},{source:3,target:4,value:400},{source:3,target:5,value:350},{source:4,target:6,value:300},{source:4,target:8,value:100},{source:5,target:2,value:200},{source:5,target:7,value:150},{source:6,target:8,value:200},{source:6,target:7,value:100}]):"games"===a.dataSource&&(g.nodes=[{name:"All Players"},{name:"Slots"},{name:"Table Games"},{name:"Live Casino"},{name:"Poker"},{name:"High Value"},{name:"Medium Value"},{name:"Low Value"}],g.links=[{source:0,target:1,value:5e3},{source:0,target:2,value:3e3},{source:0,target:3,value:2e3},{source:0,target:4,value:1e3},{source:1,target:5,value:1500},{source:1,target:6,value:2e3},{source:1,target:7,value:1500},{source:2,target:5,value:1200},{source:2,target:6,value:1e3},{source:2,target:7,value:800},{source:3,target:5,value:1e3},{source:3,target:6,value:700},{source:3,target:7,value:300},{source:4,target:5,value:500},{source:4,target:6,value:300},{source:4,target:7,value:200}]),u?(0,ie.jsx)(oa,{id:`widget-${a.id}`,title:a.title,description:`Sankey diagram for ${a.title}`,type:"sankeyDiagram",data:g,height:A().height-60,loading:n,error:i,enableFullscreen:!0,enableExport:!0,enableShare:!1,enableNotifications:!0,enableAnnotations:!0}):(0,ie.jsx)(xe,{id:`widget-${a.id}`,title:a.title,data:g,height:A().height-60,loading:n,error:i,enableSearch:!0,enableFiltering:!0});case"3dScatter":case"3dBar":case"3dSurface":const p=[];if("dailyActions"===a.dataSource){const e=Array.isArray(t)?t:[];p.push(...e.map(((e,a)=>({id:`point-${a}`,x:e.deposits||0,y:e.withdrawals||0,z:e.bets||0,value:e.uniquePlayers||0,label:(0,y.A)(new Date(e.date),"MMM dd, yyyy"),group:"Daily Actions"}))))}else if("games"===a.dataSource){const e=Array.isArray(t)?t:[];p.push(...e.map(((e,a)=>({id:`point-${a}`,x:e.totalBets||0,y:e.totalWins||0,z:e.netGamingRevenue||0,value:e.uniquePlayers||0,label:e.name,group:e.category||"Unknown"}))))}else if("players"===a.dataSource){const e=Array.isArray(t)?t:[];p.push(...e.map(((e,a)=>({id:`point-${a}`,x:e.totalDeposits||0,y:e.totalBets||0,z:e.netGamingRevenue||0,value:e.totalWins||0,label:e.name,group:e.country||"Unknown"}))))}return u?(0,ie.jsx)(oa,{id:`widget-${a.id}`,title:a.title,description:`3D visualization for ${a.title}`,type:a.type,data:p,height:A().height-60,loading:n,error:i,enableFullscreen:!0,enableExport:!0,enableShare:!1,enableNotifications:!0,enableAnnotations:!0}):(0,ie.jsx)(Ce,{id:`widget-${a.id}`,title:a.title,data:p,xLabel:"dailyActions"===a.dataSource?"Deposits":"games"===a.dataSource?"Total Bets":"Total Deposits",yLabel:"dailyActions"===a.dataSource?"Withdrawals":"games"===a.dataSource?"Total Wins":"Total Bets",zLabel:"dailyActions"===a.dataSource?"Bets":(a.dataSource,"Net Gaming Revenue"),height:A().height-60,loading:n,error:i,chartType:"3dScatter"===a.type?"3dScatter":"3dBar"===a.type?"3dBar":"3dSurface"});case"surfacePlot":const j=[];if("dailyActions"===a.dataSource){const e=Array.isArray(t)?t:[],a=["deposits","withdrawals","bets","wins","uniquePlayers"];new Map;e.forEach((e=>{const t=new Date(e.date),r=t.getTime();a.forEach(((a,n)=>{const i=n,l=e[a]||0;j.push({x:r,y:i,z:l,date:(0,y.A)(t,"MMM dd, yyyy"),metric:a})}))}))}else if("games"===a.dataSource){const e=Array.isArray(t)?t:[],a=["totalBets","totalWins","netGamingRevenue","uniquePlayers"],r=Array.from(new Set(e.map((e=>e.category||"Unknown"))));e.forEach((e=>{const t=r.indexOf(e.category||"Unknown");a.forEach(((a,r)=>{const n=r,i=e[a]||0;j.push({x:t,y:n,z:i,category:e.category||"Unknown",metric:a,game:e.name})}))}))}else if("players"===a.dataSource){const e=Array.isArray(t)?t:[],a=["totalDeposits","totalBets","totalWins","netGamingRevenue"],r=Array.from(new Set(e.map((e=>e.country||"Unknown"))));e.forEach((e=>{const t=r.indexOf(e.country||"Unknown");a.forEach(((a,r)=>{const n=r,i=e[a]||0;j.push({x:t,y:n,z:i,country:e.country||"Unknown",metric:a,player:e.name})}))}))}return u?(0,ie.jsx)(ke,{id:`widget-${a.id}`,title:a.title,data:j,xLabel:"dailyActions"===a.dataSource?"Date":"games"===a.dataSource?"Game Category":"Country",yLabel:("dailyActions"===a.dataSource||a.dataSource,"Metric"),zLabel:"Value",height:A().height-60,loading:n,error:i,resolution:50,interpolationMethod:"bilinear",colorMap:"rainbow",wireframe:!0,enableRotation:!0,enableZoom:!0,enableGrid:!0,enableAxes:!0,onPointClick:e=>b(e)}):(0,ie.jsx)(ke,{id:`widget-${a.id}`,title:a.title,data:j,xLabel:"dailyActions"===a.dataSource?"Date":"games"===a.dataSource?"Game Category":"Country",yLabel:("dailyActions"===a.dataSource||a.dataSource,"Metric"),zLabel:"Value",height:A().height-60,loading:n,error:i,resolution:30,interpolationMethod:"bilinear",colorMap:"rainbow",wireframe:!0,enableRotation:!0,enableZoom:!0,enableGrid:!0,enableAxes:!0});case"table":return(0,ie.jsx)(P.A,{sx:{height:A().height-60,overflow:"auto"},children:(0,ie.jsx)(w.zZ,{columns:c,data:Array.isArray(t)?t.slice(0,5):[],loading:n,emptyMessage:"No data available",idField:"id",features:{sorting:!0,pagination:{enabled:!0,defaultPageSize:5,pageSizeOptions:[5,10,25]}}})});case"summary":return(0,ie.jsxs)(P.A,{sx:{display:"flex",flexWrap:"wrap",gap:2,p:2},children:["dailyActions"===a.dataSource&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Players"}),(0,ie.jsx)(l.A,{variant:"h5",children:Array.isArray(t)?t.reduce(((e,a)=>e+(a.uniquePlayers||0)),0).toLocaleString():0})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Deposits"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.deposits||0)),0).toLocaleString():0]})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Bets"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.bets||0)),0).toLocaleString():0]})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total GGR"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.ggr||0)),0).toLocaleString():0]})]})]}),"players"===a.dataSource&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Players"}),(0,ie.jsx)(l.A,{variant:"h5",children:Array.isArray(t)?t.length.toLocaleString():0})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Active Players"}),(0,ie.jsx)(l.A,{variant:"h5",children:Array.isArray(t)?t.filter((e=>"Active"===e.status)).length.toLocaleString():0})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Deposits"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.totalDeposits||0)),0).toLocaleString():0]})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total NGR"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.netGamingRevenue||0)),0).toLocaleString():0]})]})]}),"games"===a.dataSource&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Games"}),(0,ie.jsx)(l.A,{variant:"h5",children:Array.isArray(t)?t.length.toLocaleString():0})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Bets"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.totalBets||0)),0).toLocaleString():0]})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total Wins"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.totalWins||0)),0).toLocaleString():0]})]}),(0,ie.jsxs)(P.A,{sx:{flex:"1 1 calc(50% - 8px)",p:2,bgcolor:"background.default",borderRadius:1},children:[(0,ie.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",children:"Total NGR"}),(0,ie.jsxs)(l.A,{variant:"h5",children:["$",Array.isArray(t)?t.reduce(((e,a)=>e+(a.netGamingRevenue||0)),0).toLocaleString():0]})]})]})]});default:return(0,ie.jsx)(P.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,ie.jsx)(l.A,{color:"text.secondary",children:"Unknown widget type"})})}})()})]}),(0,ie.jsx)(V.A,{open:m,onClose:()=>x(!1),drilldownData:g})]})},ua=e=>{let{dashboardConfig:a,customizeMode:t,playerData:r,gameData:n,dailyActionData:i,loading:s=!1,error:o=null,playerColumns:c,gameColumns:u,dailyActionColumns:h,onToggleCustomizeMode:m,onSaveConfigDialogOpen:x,onShareDialogOpen:g,onAddWidgetDialogOpen:p,onDragEnd:y,onWidgetMenuOpen:A}=e;const b=e=>{switch(e){case"players":return r;case"games":return n;case"dailyActions":return i;default:return[]}},j=e=>{switch(e){case"players":return c;case"games":return u;case"dailyActions":return h;default:return[]}};return(0,ie.jsxs)(P.A,{sx:{width:"100%"},children:[(0,ie.jsxs)(P.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,ie.jsx)(l.A,{variant:"h5",children:a.name}),(0,ie.jsxs)(P.A,{sx:{display:"flex",gap:1},children:[(0,ie.jsx)(z.A,{title:t?"Exit Customize Mode":"Customize Dashboard",children:(0,ie.jsx)(d.A,{variant:t?"contained":"outlined",color:t?"primary":"inherit",startIcon:(0,ie.jsx)(L.A,{}),onClick:m,size:"small",children:t?"Done":"Customize"})}),t&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(z.A,{title:"Add Widget",children:(0,ie.jsx)(d.A,{variant:"outlined",startIcon:(0,ie.jsx)(M.A,{}),onClick:p,size:"small",children:"Add Widget"})}),(0,ie.jsx)(z.A,{title:"Save Configuration",children:(0,ie.jsx)(d.A,{variant:"outlined",startIcon:(0,ie.jsx)($.A,{}),onClick:x,size:"small",children:"Save"})}),(0,ie.jsx)(z.A,{title:"Share Dashboard",children:(0,ie.jsx)(d.A,{variant:"outlined",startIcon:(0,ie.jsx)(W.A,{}),onClick:g,size:"small",children:"Share"})})]})]})]}),a.description&&(0,ie.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:a.description}),(0,ie.jsx)(R.JY,{onDragEnd:y,children:(0,ie.jsx)(R.gL,{droppableId:"dashboard-widgets",type:"widget",direction:"horizontal",children:e=>(0,ie.jsxs)(I.A,{...e.droppableProps,ref:e.innerRef,sx:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:2},children:[a.widgets.sort(((e,a)=>e.position-a.position)).map(((e,a)=>(0,ie.jsx)(R.sx,{draggableId:e.id,index:a,isDragDisabled:!t,children:a=>(0,ie.jsx)(I.A,{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,sx:{gridColumn:"small"===e.size?"span 4":"medium"===e.size?"span 6":"span 12",transition:"all 0.3s ease"},children:(0,ie.jsx)(ca,{widget:e,data:b(e.dataSource),loading:s,error:o,customizeMode:t,onMenuOpen:A,columns:j(e.dataSource),enableInteractivity:!t})})},e.id))),e.placeholder]})})})]})};var ha=t(57875),ma=t(33458),xa=t(15415),ga=t(58094),pa=t(64767),ya=t(66950),Aa=t(32125),ba=t(38409),ja=t(82053),fa=t(50636);const va=e=>{let{open:a,onClose:t,onSave:r,configName:n,configDescription:i,setConfigName:l,setConfigDescription:s}=e;return(0,ie.jsxs)(_e.A,{open:a,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,ie.jsxs)(Je.A,{children:["Save Dashboard Configuration",(0,ie.jsx)(T.A,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:(0,ie.jsx)(na.A,{})})]}),(0,ie.jsx)(Xe.A,{children:(0,ie.jsxs)(Z.A,{sx:{mt:2},children:[(0,ie.jsx)(H.A,{label:"Dashboard Name",fullWidth:!0,value:n,onChange:e=>l(e.target.value),margin:"normal",required:!0}),(0,ie.jsx)(H.A,{label:"Description (Optional)",fullWidth:!0,value:i,onChange:e=>s(e.target.value),margin:"normal",multiline:!0,rows:3})]})}),(0,ie.jsxs)(ra.A,{children:[(0,ie.jsx)(d.A,{onClick:t,children:"Cancel"}),(0,ie.jsx)(d.A,{onClick:r,variant:"contained",color:"primary",disabled:!n.trim(),children:"Save"})]})]})},Ca=e=>{let{open:a,onClose:t,onAddWidget:n}=e;const[i,h]=(0,r.useState)("areaChart"),[x,g]=(0,r.useState)(""),[p,y]=(0,r.useState)("dailyActions"),[A,b]=(0,r.useState)(0);return(0,ie.jsxs)(_e.A,{open:a,onClose:t,maxWidth:"md",fullWidth:!0,children:[(0,ie.jsxs)(Je.A,{children:["Add Widget",(0,ie.jsx)(T.A,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:(0,ie.jsx)(na.A,{})})]}),(0,ie.jsx)(Xe.A,{children:(0,ie.jsxs)(Z.A,{sx:{mt:2},children:[(0,ie.jsx)(H.A,{label:"Widget Title",fullWidth:!0,value:x,onChange:e=>g(e.target.value),margin:"normal",required:!0}),(0,ie.jsxs)(o.Ay,{container:!0,spacing:3,sx:{mt:1},children:[(0,ie.jsxs)(o.Ay,{item:!0,xs:12,md:6,children:[(0,ie.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:"Widget Type"}),(0,ie.jsx)(Z.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,ie.jsxs)(c.A,{value:A,onChange:(e,a)=>{b(a)},"aria-label":"widget type tabs",children:[(0,ie.jsx)(u.A,{label:"Basic"}),(0,ie.jsx)(u.A,{label:"Advanced"})]})}),0===A&&(0,ie.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"areaChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"areaChart"===i?"2px solid":"1px solid",borderColor:"areaChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("areaChart"),children:[(0,ie.jsx)(xa.A,{color:"areaChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Area Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"barChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"barChart"===i?"2px solid":"1px solid",borderColor:"barChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("barChart"),children:[(0,ie.jsx)(ha.A,{color:"barChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Bar Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"pieChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"pieChart"===i?"2px solid":"1px solid",borderColor:"pieChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("pieChart"),children:[(0,ie.jsx)(ma.A,{color:"pieChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Pie Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"table"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"table"===i?"2px solid":"1px solid",borderColor:"table"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("table"),children:[(0,ie.jsx)(j.A,{color:"table"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Table"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"summary"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"summary"===i?"2px solid":"1px solid",borderColor:"summary"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("summary"),children:[(0,ie.jsx)(ga.A,{color:"summary"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Summary"})]})})]}),1===A&&(0,ie.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"scatterChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"scatterChart"===i?"2px solid":"1px solid",borderColor:"scatterChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("scatterChart"),children:[(0,ie.jsx)(pa.A,{color:"scatterChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Scatter Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"lassoScatter"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"lassoScatter"===i?"2px solid":"1px solid",borderColor:"lassoScatter"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("lassoScatter"),children:[(0,ie.jsx)(pa.A,{color:"lassoScatter"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Lasso Scatter"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"radarChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"radarChart"===i?"2px solid":"1px solid",borderColor:"radarChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("radarChart"),children:[(0,ie.jsx)(ya.A,{color:"radarChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Radar Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"treemapChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"treemapChart"===i?"2px solid":"1px solid",borderColor:"treemapChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("treemapChart"),children:[(0,ie.jsx)(Aa.A,{color:"treemapChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Treemap"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"gaugeChart"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"gaugeChart"===i?"2px solid":"1px solid",borderColor:"gaugeChart"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("gaugeChart"),children:[(0,ie.jsx)(ba.A,{color:"gaugeChart"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Gauge Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"heatmap"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"heatmap"===i?"2px solid":"1px solid",borderColor:"heatmap"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("heatmap"),children:[(0,ie.jsx)(ja.A,{color:"heatmap"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Heatmap"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"zoomableTimeSeries"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"zoomableTimeSeries"===i?"2px solid":"1px solid",borderColor:"zoomableTimeSeries"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("zoomableTimeSeries"),children:[(0,ie.jsx)(xa.A,{color:"zoomableTimeSeries"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Zoomable Time Series"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"networkGraph"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"networkGraph"===i?"2px solid":"1px solid",borderColor:"networkGraph"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("networkGraph"),children:[(0,ie.jsx)(W.A,{color:"networkGraph"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Network Graph"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"sankeyDiagram"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"sankeyDiagram"===i?"2px solid":"1px solid",borderColor:"sankeyDiagram"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("sankeyDiagram"),children:[(0,ie.jsx)(Aa.A,{color:"sankeyDiagram"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Sankey Diagram"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"3dScatter"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"3dScatter"===i?"2px solid":"1px solid",borderColor:"3dScatter"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("3dScatter"),children:[(0,ie.jsx)(pa.A,{color:"3dScatter"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"3D Scatter"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"3dBar"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"3dBar"===i?"2px solid":"1px solid",borderColor:"3dBar"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("3dBar"),children:[(0,ie.jsx)(ha.A,{color:"3dBar"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"3D Bar Chart"})]})}),(0,ie.jsx)(o.Ay,{item:!0,xs:6,sm:4,children:(0,ie.jsxs)(s.A,{elevation:"surfacePlot"===i?3:1,sx:{p:2,textAlign:"center",cursor:"pointer",border:"surfacePlot"===i?"2px solid":"1px solid",borderColor:"surfacePlot"===i?"primary.main":"divider","&:hover":{borderColor:"primary.main"}},onClick:()=>h("surfacePlot"),children:[(0,ie.jsx)(fa.A,{color:"surfacePlot"===i?"primary":"action",sx:{fontSize:40}}),(0,ie.jsx)(l.A,{variant:"body2",sx:{mt:1},children:"Surface Plot"})]})})]})]}),(0,ie.jsxs)(o.Ay,{item:!0,xs:12,md:6,children:[(0,ie.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:"Data Source"}),(0,ie.jsxs)(_.A,{fullWidth:!0,sx:{mt:1},children:[(0,ie.jsx)(J.A,{id:"data-source-label",children:"Data Source"}),(0,ie.jsxs)(X.A,{labelId:"data-source-label",value:p,label:"Data Source",onChange:e=>y(e.target.value),children:[(0,ie.jsx)(m.A,{value:"dailyActions",children:"Daily Actions"}),(0,ie.jsx)(m.A,{value:"players",children:"Players"}),(0,ie.jsx)(m.A,{value:"games",children:"Games"})]})]}),(0,ie.jsx)(Z.A,{sx:{mt:3},children:(0,ie.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"dailyActions"===p?"Daily actions data includes player activity, deposits, withdrawals, bets, and revenue metrics over time.":"players"===p?"Player data includes player profiles, activity, deposits, bets, and revenue metrics.":"Game data includes game performance, popularity, bets, wins, and revenue metrics."})})]})]})]})}),(0,ie.jsxs)(ra.A,{children:[(0,ie.jsx)(d.A,{onClick:t,children:"Cancel"}),(0,ie.jsx)(d.A,{onClick:()=>{n(i,x,p),h("areaChart"),g(""),y("dailyActions"),b(0)},variant:"contained",color:"primary",disabled:!x.trim(),children:"Add Widget"})]})]})},Sa=e=>{let{open:a,onClose:t}=e;const[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(`https://ppreporter.com/share/${Math.random().toString(36).substring(2,15)}`);return(0,ie.jsxs)(_e.A,{open:a,onClose:t,maxWidth:"sm",fullWidth:!0,children:[(0,ie.jsxs)(Je.A,{children:["Share Dashboard",(0,ie.jsx)(T.A,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:(0,ie.jsx)(na.A,{})})]}),(0,ie.jsx)(Xe.A,{children:(0,ie.jsxs)(Z.A,{sx:{mt:2},children:[(0,ie.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:"Share via Email"}),(0,ie.jsx)(H.A,{label:"Email Address",fullWidth:!0,value:n,onChange:e=>i(e.target.value),margin:"normal",type:"email"}),(0,ie.jsx)(ze.A,{sx:{my:3}}),(0,ie.jsx)(l.A,{variant:"subtitle1",gutterBottom:!0,children:"Share via Link"}),(0,ie.jsxs)(Z.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,ie.jsx)(H.A,{fullWidth:!0,value:s,margin:"normal",InputProps:{readOnly:!0}}),(0,ie.jsx)(d.A,{variant:"outlined",onClick:()=>{navigator.clipboard.writeText(s),console.log("Link copied to clipboard")},children:"Copy"})]})]})}),(0,ie.jsxs)(ra.A,{children:[(0,ie.jsx)(d.A,{onClick:t,children:"Cancel"}),(0,ie.jsx)(d.A,{onClick:()=>{console.log("Sharing dashboard with:",n),t()},variant:"contained",color:"primary",disabled:!n.trim(),children:"Share"})]})]})};var ka=t(47339),wa=t(30830),Da=t(86213);const za="https://localhost:7075/api",Pa=e=>{if(!e)return"";const a="string"===typeof e?new Date(e):e;return(0,y.A)(a,"yyyy-MM-dd")},Ra={getDailyActionsData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await Da.A.get(`${za}/reports/daily-action-games/data`,{params:{startDate:Pa(e),endDate:Pa(a),...t}})).data}catch(r){throw console.error("Error fetching daily actions data:",r),r}},getPlayerData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await Da.A.get(`${za}/reports/players/data`,{params:{startDate:Pa(e),endDate:Pa(a),...t}})).data}catch(r){throw console.error("Error fetching player data:",r),r}},getGameData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return(await Da.A.get(`${za}/reports/games/data`,{params:{startDate:Pa(e),endDate:Pa(a),...t}})).data}catch(r){throw console.error("Error fetching game data:",r),r}},getDashboardSummary:async(e,a)=>{try{return(await Da.A.get(`${za}/Dashboard/summary`,{params:{startDate:Pa(e),endDate:Pa(a)}})).data}catch(t){throw console.error("Error fetching dashboard summary:",t),t}},getRevenueChartData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"daily";try{return(await Da.A.get(`${za}/Dashboard/revenue-chart`,{params:{startDate:Pa(e),endDate:Pa(a),interval:t}})).data}catch(r){throw console.error("Error fetching revenue chart data:",r),r}},getRegistrationsChartData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"daily";try{return(await Da.A.get(`${za}/Dashboard/registrations-chart`,{params:{startDate:Pa(e),endDate:Pa(a),interval:t}})).data}catch(r){throw console.error("Error fetching registrations chart data:",r),r}},getTopGamesData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{return(await Da.A.get(`${za}/Dashboard/top-games`,{params:{startDate:Pa(e),endDate:Pa(a),limit:t}})).data}catch(r){throw console.error("Error fetching top games data:",r),r}},getRecentTransactionsData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{return(await Da.A.get(`${za}/Dashboard/recent-transactions`,{params:{startDate:Pa(e),endDate:Pa(a),limit:t}})).data}catch(r){throw console.error("Error fetching recent transactions data:",r),r}},getHeatmapData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bets";try{return(await Da.A.get(`${za}/Dashboard/heatmap`,{params:{startDate:Pa(e),endDate:Pa(a),metric:t}})).data}catch(r){throw console.error("Error fetching heatmap data:",r),r}},getSegmentComparisonData:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{return(await Da.A.get(`${za}/Dashboard/segment-comparison`,{params:{startDate:Pa(e),endDate:Pa(a),segments:t.join(",")}})).data}catch(r){throw console.error("Error fetching segment comparison data:",r),r}},saveUserPreferences:async e=>{try{return(await Da.A.post(`${za}/Dashboard/user-preferences`,e)).data}catch(a){throw console.error("Error saving user preferences:",a),a}},getUserPreferences:async()=>{try{return(await Da.A.get(`${za}/Dashboard/user-preferences`)).data}catch(e){throw console.error("Error fetching user preferences:",e),e}}},Ia=(0,wa.zD)("integratedReports/fetchDailyActionsData",(async(e,a)=>{let{startDate:t,endDate:r,filters:n}=e,{rejectWithValue:i}=a;try{return await Ra.getDailyActionsData(t,r,n)}catch(l){return i(l.message||"Failed to fetch daily actions data")}})),Ma=(0,wa.zD)("integratedReports/fetchPlayerData",(async(e,a)=>{let{startDate:t,endDate:r,filters:n}=e,{rejectWithValue:i}=a;try{return await Ra.getPlayerData(t,r,n)}catch(l){return i(l.message||"Failed to fetch player data")}})),$a=(0,wa.zD)("integratedReports/fetchGameData",(async(e,a)=>{let{startDate:t,endDate:r,filters:n}=e,{rejectWithValue:i}=a;try{return await Ra.getGameData(t,r,n)}catch(l){return i(l.message||"Failed to fetch game data")}})),Wa=(0,wa.zD)("integratedReports/fetchDashboardSummary",(async(e,a)=>{let{startDate:t,endDate:r}=e,{rejectWithValue:n}=a;try{return await Ra.getDashboardSummary(t,r)}catch(i){return n(i.message||"Failed to fetch dashboard summary")}})),La=(0,wa.zD)("integratedReports/fetchRevenueChartData",(async(e,a)=>{let{startDate:t,endDate:r,interval:n}=e,{rejectWithValue:i}=a;try{return await Ra.getRevenueChartData(t,r,n)}catch(l){return i(l.message||"Failed to fetch revenue chart data")}})),Ba=(0,wa.zD)("integratedReports/fetchRegistrationsChartData",(async(e,a)=>{let{startDate:t,endDate:r,interval:n}=e,{rejectWithValue:i}=a;try{return await Ra.getRegistrationsChartData(t,r,n)}catch(l){return i(l.message||"Failed to fetch registrations chart data")}})),Ta=(0,wa.zD)("integratedReports/fetchTopGamesData",(async(e,a)=>{let{startDate:t,endDate:r,limit:n}=e,{rejectWithValue:i}=a;try{return await Ra.getTopGamesData(t,r,n)}catch(l){return i(l.message||"Failed to fetch top games data")}})),Fa=(0,wa.zD)("integratedReports/fetchRecentTransactionsData",(async(e,a)=>{let{startDate:t,endDate:r,limit:n}=e,{rejectWithValue:i}=a;try{return await Ra.getRecentTransactionsData(t,r,n)}catch(l){return i(l.message||"Failed to fetch recent transactions data")}})),Ga=(0,wa.zD)("integratedReports/fetchHeatmapData",(async(e,a)=>{let{startDate:t,endDate:r,metric:n}=e,{rejectWithValue:i}=a;try{return await Ra.getHeatmapData(t,r,n)}catch(l){return i(l.message||"Failed to fetch heatmap data")}})),Ea=(0,wa.zD)("integratedReports/fetchSegmentComparisonData",(async(e,a)=>{let{startDate:t,endDate:r,segments:n}=e,{rejectWithValue:i}=a;try{return await Ra.getSegmentComparisonData(t,r,n)}catch(l){return i(l.message||"Failed to fetch segment comparison data")}})),Na=(0,wa.zD)("integratedReports/fetchUserPreferences",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await Ra.getUserPreferences()}catch(r){return t(r.message||"Failed to fetch user preferences")}})),Ua=(0,wa.zD)("integratedReports/saveUserPreferences",(async(e,a)=>{let{rejectWithValue:t}=a;try{return await Ra.saveUserPreferences(e)}catch(r){return t(r.message||"Failed to save user preferences")}})),Oa=(0,wa.Z0)({name:"integratedReports",initialState:{dailyActions:{data:[],loading:!1,error:null},players:{data:[],loading:!1,error:null},games:{data:[],loading:!1,error:null},dashboardSummary:{data:null,loading:!1,error:null},revenueChart:{data:[],loading:!1,error:null},registrationsChart:{data:[],loading:!1,error:null},topGames:{data:[],loading:!1,error:null},recentTransactions:{data:[],loading:!1,error:null},heatmap:{data:[],loading:!1,error:null},segmentComparison:{data:[],loading:!1,error:null},userPreferences:{data:null,loading:!1,error:null}},reducers:{},extraReducers:e=>{e.addCase(Ia.pending,(e=>{e.dailyActions.loading=!0,e.dailyActions.error=null})).addCase(Ia.fulfilled,((e,a)=>{e.dailyActions.loading=!1,e.dailyActions.data=a.payload})).addCase(Ia.rejected,((e,a)=>{e.dailyActions.loading=!1,e.dailyActions.error=a.payload})),e.addCase(Ma.pending,(e=>{e.players.loading=!0,e.players.error=null})).addCase(Ma.fulfilled,((e,a)=>{e.players.loading=!1,e.players.data=a.payload})).addCase(Ma.rejected,((e,a)=>{e.players.loading=!1,e.players.error=a.payload})),e.addCase($a.pending,(e=>{e.games.loading=!0,e.games.error=null})).addCase($a.fulfilled,((e,a)=>{e.games.loading=!1,e.games.data=a.payload})).addCase($a.rejected,((e,a)=>{e.games.loading=!1,e.games.error=a.payload})),e.addCase(Wa.pending,(e=>{e.dashboardSummary.loading=!0,e.dashboardSummary.error=null})).addCase(Wa.fulfilled,((e,a)=>{e.dashboardSummary.loading=!1,e.dashboardSummary.data=a.payload})).addCase(Wa.rejected,((e,a)=>{e.dashboardSummary.loading=!1,e.dashboardSummary.error=a.payload})),e.addCase(La.pending,(e=>{e.revenueChart.loading=!0,e.revenueChart.error=null})).addCase(La.fulfilled,((e,a)=>{e.revenueChart.loading=!1,e.revenueChart.data=a.payload})).addCase(La.rejected,((e,a)=>{e.revenueChart.loading=!1,e.revenueChart.error=a.payload})),e.addCase(Ba.pending,(e=>{e.registrationsChart.loading=!0,e.registrationsChart.error=null})).addCase(Ba.fulfilled,((e,a)=>{e.registrationsChart.loading=!1,e.registrationsChart.data=a.payload})).addCase(Ba.rejected,((e,a)=>{e.registrationsChart.loading=!1,e.registrationsChart.error=a.payload})),e.addCase(Ta.pending,(e=>{e.topGames.loading=!0,e.topGames.error=null})).addCase(Ta.fulfilled,((e,a)=>{e.topGames.loading=!1,e.topGames.data=a.payload})).addCase(Ta.rejected,((e,a)=>{e.topGames.loading=!1,e.topGames.error=a.payload})),e.addCase(Fa.pending,(e=>{e.recentTransactions.loading=!0,e.recentTransactions.error=null})).addCase(Fa.fulfilled,((e,a)=>{e.recentTransactions.loading=!1,e.recentTransactions.data=a.payload})).addCase(Fa.rejected,((e,a)=>{e.recentTransactions.loading=!1,e.recentTransactions.error=a.payload})),e.addCase(Ga.pending,(e=>{e.heatmap.loading=!0,e.heatmap.error=null})).addCase(Ga.fulfilled,((e,a)=>{e.heatmap.loading=!1,e.heatmap.data=a.payload})).addCase(Ga.rejected,((e,a)=>{e.heatmap.loading=!1,e.heatmap.error=a.payload})),e.addCase(Ea.pending,(e=>{e.segmentComparison.loading=!0,e.segmentComparison.error=null})).addCase(Ea.fulfilled,((e,a)=>{e.segmentComparison.loading=!1,e.segmentComparison.data=a.payload})).addCase(Ea.rejected,((e,a)=>{e.segmentComparison.loading=!1,e.segmentComparison.error=a.payload})),e.addCase(Na.pending,(e=>{e.userPreferences.loading=!0,e.userPreferences.error=null})).addCase(Na.fulfilled,((e,a)=>{e.userPreferences.loading=!1,e.userPreferences.data=a.payload})).addCase(Na.rejected,((e,a)=>{e.userPreferences.loading=!1,e.userPreferences.error=a.payload})),e.addCase(Ua.pending,(e=>{e.userPreferences.loading=!0,e.userPreferences.error=null})).addCase(Ua.fulfilled,((e,a)=>{e.userPreferences.loading=!1,e.userPreferences.data=a.payload})).addCase(Ua.rejected,((e,a)=>{e.userPreferences.loading=!1,e.userPreferences.error=a.payload}))}}),Va=e=>{var a;return(null===e||void 0===e||null===(a=e.integratedReports)||void 0===a?void 0:a.dailyActions)||{data:[],loading:!1,error:null}},Ka=e=>{var a;return(null===e||void 0===e||null===(a=e.integratedReports)||void 0===a?void 0:a.players)||{data:[],loading:!1,error:null}},qa=e=>{var a;return(null===e||void 0===e||null===(a=e.integratedReports)||void 0===a?void 0:a.games)||{data:[],loading:!1,error:null}},Za=e=>{var a;return(null===e||void 0===e||null===(a=e.integratedReports)||void 0===a?void 0:a.userPreferences)||{data:null,loading:!1,error:null}},Ha=(Oa.reducer,["Show me player activity for the last 7 days","What are the top performing games this month?","Compare deposit trends between desktop and mobile users","Show me conversion rates by country","Which games have the highest GGR?"]),_a=()=>{const[e,a]=(0,r.useState)(0),[t,z]=(0,r.useState)(new Date((new Date).setDate((new Date).getDate()-7))),[P,R]=(0,r.useState)(new Date),[I,M]=(0,r.useState)(!1),[$,W]=(0,r.useState)(null),[L,B]=(0,r.useState)(!1),[T,F]=(0,r.useState)({name:"Default Dashboard",widgets:[{id:"widget-1",type:"areaChart",title:"Daily Actions Trend",dataSource:"dailyActions",size:"large",position:0},{id:"widget-2",type:"barChart",title:"Top Games",dataSource:"games",size:"medium",position:1},{id:"widget-3",type:"pieChart",title:"Player Distribution",dataSource:"players",size:"medium",position:2},{id:"widget-4",type:"table",title:"Recent Activity",dataSource:"dailyActions",size:"large",position:3}]}),[G,E]=(0,r.useState)({defaultDateRange:"7",defaultTab:0,dashboardLayouts:[],theme:"light",chartPreferences:{showLegends:!0,showGridLines:!0,colorPalette:"default"}}),[N,U]=(0,r.useState)(!1),[O,V]=(0,r.useState)(!1),[K,q]=(0,r.useState)(!1),[Z,H]=(0,r.useState)(""),[_,J]=(0,r.useState)(""),[X,Q]=(0,r.useState)(null),[Y,ee]=(0,r.useState)(null),[ae,te]=(0,r.useState)([]),[re,le]=(0,r.useState)([]),[se,oe]=(0,r.useState)([]),de=(0,n.wA)(),ce=(0,n.d4)(Va),ue=(0,n.d4)(Ka),he=(0,n.d4)(qa),me=(0,n.d4)(Za),xe=(0,r.useCallback)(((e,t)=>{a(t)}),[]);(0,r.useEffect)((()=>{ge(),de(Na());const e=localStorage.getItem("userReportPreferences");if(e)try{const t=JSON.parse(e);E(t),void 0!==t.defaultTab&&a(t.defaultTab),t.dashboardLayouts&&t.dashboardLayouts.length>0&&F(t.dashboardLayouts[0])}catch(t){console.error("Error parsing saved preferences:",t)}}),[de]),(0,r.useEffect)((()=>{var e;(null===ce||void 0===ce||null===(e=ce.data)||void 0===e?void 0:e.length)>0&&(oe(ce.data),M(ce.loading),W(ce.error))}),[ce]),(0,r.useEffect)((()=>{var e;(null===ue||void 0===ue||null===(e=ue.data)||void 0===e?void 0:e.length)>0&&te(ue.data)}),[ue]),(0,r.useEffect)((()=>{var e;(null===he||void 0===he||null===(e=he.data)||void 0===e?void 0:e.length)>0&&le(he.data)}),[he]),(0,r.useEffect)((()=>{null!==me&&void 0!==me&&me.data&&(E(me.data),void 0!==me.data.defaultTab&&a(me.data.defaultTab),me.data.dashboardLayouts&&me.data.dashboardLayouts.length>0&&F(me.data.dashboardLayouts[0]))}),[me]);const ge=(0,r.useCallback)((()=>{M(!0);const e={startDate:t?t.toISOString():null,endDate:P?P.toISOString():null};Promise.all([de(Ia(e)),de(Ma(e)),de($a(e)),de(Wa(e)),de(La({...e,interval:"daily"})),de(Ba({...e,interval:"daily"})),de(Ta({...e,limit:10})),de(Fa({...e,limit:10}))]).catch((e=>{console.error("Error fetching data:",e),W("Failed to fetch data. Please try again.")}))}),[de,t,P]),pe=(0,r.useMemo)((()=>{const e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});return a=>e.format(a)}),[]),ye=(0,r.useCallback)((()=>{M(!0),ge()}),[ge]),Ae=(0,r.useCallback)((async(e,a)=>{console.log(`Exporting data in ${e} format`,a)}),[]),be=(0,r.useCallback)((e=>{console.log("Search query:",e)}),[]),je=(0,r.useCallback)((()=>{B((e=>!e))}),[]),fe=(0,r.useCallback)(((e,a)=>{Q(e.currentTarget),ee(a)}),[]),ve=(0,r.useCallback)((()=>{Q(null),ee(null)}),[]),Ce=(0,r.useCallback)((()=>{Y&&(F((e=>({...e,widgets:e.widgets.filter((e=>e.id!==Y))}))),ve())}),[Y,ve]),Se=(0,r.useCallback)((()=>{ve()}),[ve]),ke=(0,r.useCallback)((()=>{H(T.name),J(T.description||""),U(!0)}),[T]),we=(0,r.useCallback)((()=>{U(!1)}),[]),De=(0,r.useCallback)((()=>{const e={...T,name:Z,description:_,updatedAt:(new Date).toISOString()};F(e);const a={...G,dashboardLayouts:[e,...(G.dashboardLayouts||[]).filter((a=>a.id!==e.id))]};E(a),de(Ua(a)),localStorage.setItem("userReportPreferences",JSON.stringify(a)),U(!1)}),[T,Z,_,G,de]),ze=(0,r.useCallback)((()=>{V(!0)}),[]),Pe=(0,r.useCallback)((()=>{V(!1)}),[]),Re=(0,r.useCallback)((()=>{q(!0)}),[]),Ie=(0,r.useCallback)((()=>{q(!1)}),[]),Me=(0,r.useCallback)(((e,a,t)=>{const r={id:`widget-${Date.now()}`,type:e,title:a,dataSource:t,size:"medium",position:T.widgets.length};F((e=>({...e,widgets:[...e.widgets,r]}))),q(!1)}),[T.widgets.length]),$e=[{id:"name",label:"Name",sortable:!0},{id:"email",label:"Email",sortable:!0},{id:"registrationDate",label:"Registration Date",format:e=>(0,y.A)(new Date(e),"MMM dd, yyyy"),sortable:!0},{id:"country",label:"Country",sortable:!0},{id:"totalDeposits",label:"Total Deposits",type:"currency",format:e=>pe(e),sortable:!0},{id:"netGamingRevenue",label:"Net Gaming Revenue",type:"currency",format:e=>pe(e),sortable:!0},{id:"status",label:"Status",sortable:!0}],We=[{id:"name",label:"Name",sortable:!0},{id:"provider",label:"Provider",sortable:!0},{id:"category",label:"Category",sortable:!0},{id:"totalBets",label:"Total Bets",type:"currency",format:e=>pe(e),sortable:!0},{id:"netGamingRevenue",label:"Net Gaming Revenue",type:"currency",format:e=>pe(e),sortable:!0},{id:"uniquePlayers",label:"Unique Players",sortable:!0},{id:"popularity",label:"Popularity",format:e=>`${e}%`,sortable:!0}],Le=[{id:"date",label:"Date",format:e=>(0,y.A)(new Date(e),"MMM dd, yyyy"),sortable:!0},{id:"uniquePlayers",label:"Unique Players",sortable:!0},{id:"newRegistrations",label:"New Registrations",sortable:!0},{id:"deposits",label:"Deposits",type:"currency",format:e=>pe(e),sortable:!0},{id:"withdrawals",label:"Withdrawals",type:"currency",format:e=>pe(e),sortable:!0},{id:"bets",label:"Bets",type:"currency",format:e=>pe(e),sortable:!0},{id:"ggr",label:"GGR",type:"currency",format:e=>pe(e),sortable:!0}];return(0,ie.jsxs)(i.A,{maxWidth:"xl",children:[(0,ie.jsx)("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,ie.jsxs)("div",{children:[(0,ie.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Integrated Reports"}),(0,ie.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"Comprehensive analytics dashboard combining player, game, and daily action data"})]})}),(0,ie.jsx)(s.A,{style:{padding:24,marginBottom:32},children:(0,ie.jsx)(k.A,{onSearch:be,showSuggestions:!0,suggestions:Ha,onApplySuggestion:be,loading:I,error:$})}),(0,ie.jsxs)(s.A,{style:{padding:24,marginBottom:32},children:[(0,ie.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,ie.jsx)(A.A,{style:{marginRight:8}}),(0,ie.jsx)(l.A,{variant:"h6",children:"Filters"})]}),(0,ie.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,ie.jsx)(o.Ay,{item:!0,xs:12,md:4,children:(0,ie.jsx)(x.$,{dateAdapter:g.h,children:(0,ie.jsx)(p.l,{label:"Start Date",value:t,onChange:e=>z(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,ie.jsx)(o.Ay,{item:!0,xs:12,md:4,children:(0,ie.jsx)(x.$,{dateAdapter:g.h,children:(0,ie.jsx)(p.l,{label:"End Date",value:P,onChange:e=>R(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,ie.jsx)(o.Ay,{item:!0,xs:12,md:4,children:(0,ie.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",height:"100%",alignItems:"center"},children:(0,ie.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,ie.jsx)(b.A,{}),onClick:ye,disabled:I,children:"Apply Filters"})})})]})]}),(0,ie.jsx)(s.A,{style:{padding:24,marginBottom:32},children:(0,ie.jsx)(ne.uh,{children:(0,ie.jsx)(ka.dv,{children:(0,ie.jsx)(ua,{dashboardConfig:T,customizeMode:L,playerData:ae,gameData:re,dailyActionData:se,loading:I,error:$,playerColumns:$e,gameColumns:We,dailyActionColumns:Le,onToggleCustomizeMode:je,onSaveConfigDialogOpen:ke,onShareDialogOpen:ze,onAddWidgetDialogOpen:Re,onDragEnd:e=>{if(!e.destination)return;const a=Array.from(T.widgets),[t]=a.splice(e.source.index,1);a.splice(e.destination.index,0,t);const r=a.map(((e,a)=>({...e,position:a})));F({...T,widgets:r})},onWidgetMenuOpen:fe})})})}),(0,ie.jsx)(s.A,{style:{marginBottom:32},children:(0,ie.jsxs)(c.A,{value:e,onChange:xe,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[(0,ie.jsx)(u.A,{label:"Daily Actions",icon:(0,ie.jsx)(j.A,{}),iconPosition:"start"}),(0,ie.jsx)(u.A,{label:"Players",icon:(0,ie.jsx)(v.A,{}),iconPosition:"start"}),(0,ie.jsx)(u.A,{label:"Games",icon:(0,ie.jsx)(f.A,{}),iconPosition:"start"})]})}),0===e&&(0,ie.jsxs)(s.A,{style:{padding:24},children:[(0,ie.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,ie.jsx)(j.A,{style:{marginRight:8}}),(0,ie.jsx)(l.A,{variant:"h6",children:"Daily Actions Data"})]}),(0,ie.jsx)(w.zZ,{columns:Le,data:se,loading:I,title:"Daily Actions",emptyMessage:"No daily actions data available",idField:"id",onExport:Ae,features:{sorting:!0,filtering:{enabled:!0,quickFilter:!0,advancedFilter:!0},pagination:{enabled:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100]},columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0,allowResizing:!0},export:{enabled:!0,formats:[D.A.CSV,D.A.EXCEL,D.A.PDF]}}})]}),1===e&&(0,ie.jsxs)(s.A,{style:{padding:24},children:[(0,ie.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,ie.jsx)(v.A,{style:{marginRight:8}}),(0,ie.jsx)(l.A,{variant:"h6",children:"Players Data"})]}),(0,ie.jsx)(w.zZ,{columns:$e,data:ae,loading:I,title:"Players",emptyMessage:"No player data available",idField:"id",onExport:Ae,features:{sorting:!0,filtering:{enabled:!0,quickFilter:!0,advancedFilter:!0},pagination:{enabled:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100]},columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0,allowResizing:!0},export:{enabled:!0,formats:[D.A.CSV,D.A.EXCEL,D.A.PDF]}}})]}),2===e&&(0,ie.jsxs)(s.A,{style:{padding:24},children:[(0,ie.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,ie.jsx)(f.A,{style:{marginRight:8}}),(0,ie.jsx)(l.A,{variant:"h6",children:"Games Data"})]}),(0,ie.jsx)(w.zZ,{columns:We,data:re,loading:I,title:"Games",emptyMessage:"No game data available",idField:"id",onExport:Ae,features:{sorting:!0,filtering:{enabled:!0,quickFilter:!0,advancedFilter:!0},pagination:{enabled:!0,defaultPageSize:10,pageSizeOptions:[10,25,50,100]},columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0,allowResizing:!0},export:{enabled:!0,formats:[D.A.CSV,D.A.EXCEL,D.A.PDF]}}})]}),(0,ie.jsx)(va,{open:N,onClose:we,onSave:De,configName:Z,configDescription:_,setConfigName:H,setConfigDescription:J}),(0,ie.jsx)(Ca,{open:K,onClose:Ie,onAddWidget:(e,a,t)=>Me(e,a,t)}),(0,ie.jsx)(Sa,{open:O,onClose:Pe}),(0,ie.jsxs)(h.A,{anchorEl:X,open:Boolean(X),onClose:ve,children:[(0,ie.jsxs)(m.A,{onClick:Se,children:[(0,ie.jsx)(C.A,{fontSize:"small",style:{marginRight:8}}),"Edit Widget"]}),(0,ie.jsxs)(m.A,{onClick:Ce,children:[(0,ie.jsx)(S.A,{fontSize:"small",style:{marginRight:8}}),"Remove Widget"]})]})]})}},41738:(e,a,t)=>{t.d(a,{A:()=>z});var r=t(65043),n=t(63336),i=t(96446),l=t(85865),s=t(67784),o=t(17392),d=t(77739),c=t(11906),u=t(81637),h=t(30279),m=t(39336),x=t(35721),g=t(37918),p=t(48734),y=t(43845),A=t(66360),b=t(61958),j=t(10155),f=t(53753),v=t(21337),C=t(85473),S=t(57677),k=t(93012),w=t(92530),D=t(70579);const z=e=>{let{onSearch:a,onSaveQuery:t,recentQueries:z=[],savedQueries:P=[],loading:R=!1,error:I=null,showSuggestions:M=!0,suggestions:$=[],onApplySuggestion:W,sx:L}=e;const[B,T]=(0,r.useState)(""),[F,G]=(0,r.useState)(!1),[E,N]=(0,r.useState)(!1),[U,O]=(0,r.useState)(null);(0,r.useEffect)((()=>{if("SpeechRecognition"in window||"webkitSpeechRecognition"in window){const e=new(window.SpeechRecognition||window.webkitSpeechRecognition);e.continuous=!1,e.interimResults=!1,e.onresult=e=>{const a=e.results[0][0].transcript;T(a),N(!1)},e.onerror=()=>{N(!1)},e.onend=()=>{N(!1)},O(e)}}),[]);const V=()=>{B.trim()&&a&&a(B.trim())},K=e=>{T(e),W&&W(e)},q=e=>P.some((a=>a.text===e)),Z=$.length>0?$:["Show me total revenue by month for the last quarter","What are the top 5 performing products?","Compare conversion rates between desktop and mobile","Show user growth trend over the past year","Identify customers with declining activity"];return(0,D.jsxs)(n.A,{variant:"outlined",sx:{p:2,mb:3,borderRadius:1,...L},children:[(0,D.jsxs)(i.A,{sx:{mb:2},children:[(0,D.jsxs)(l.A,{variant:"subtitle1",sx:{fontWeight:"medium",mb:1,display:"flex",alignItems:"center"},children:[(0,D.jsx)(A.A,{sx:{mr:1,fontSize:20}}),"Ask a question about your data"]}),(0,D.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Use natural language to query your data. For example, "Show me sales by region for Q1"'}),(0,D.jsxs)(i.A,{sx:{display:"flex",alignItems:"flex-start"},children:[(0,D.jsx)(s.A,{fullWidth:!0,variant:"outlined",placeholder:"Ask a question about your data...",value:B,onChange:e=>{T(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&V()},disabled:R,InputProps:{endAdornment:(0,D.jsxs)(i.A,{sx:{display:"flex"},children:[B&&(0,D.jsx)(o.A,{size:"small",onClick:()=>{T("")},edge:"end",children:(0,D.jsx)(j.A,{})}),U&&(0,D.jsx)(d.A,{title:E?"Stop listening":"Voice search",children:(0,D.jsx)(o.A,{size:"small",onClick:()=>{U&&(E?U.stop():(U.start(),N(!0)))},color:E?"primary":"default",edge:"end",children:(0,D.jsx)(f.A,{})})})]})},sx:{mr:1}}),(0,D.jsx)(c.A,{variant:"contained",color:"primary",onClick:V,disabled:!B.trim()||R,startIcon:R?(0,D.jsx)(u.A,{size:20,color:"inherit"}):(0,D.jsx)(A.A,{}),children:R?"Processing":"Search"})]}),(0,D.jsxs)(i.A,{sx:{display:"flex",mt:1,alignItems:"center"},children:[(0,D.jsx)(d.A,{title:"View search history",children:(0,D.jsxs)(o.A,{size:"small",onClick:()=>{G(!F)},children:[F?(0,D.jsx)(C.A,{}):(0,D.jsx)(v.A,{}),(0,D.jsx)(b.A,{fontSize:"small",sx:{ml:.5}})]})}),B.trim()&&(0,D.jsx)(d.A,{title:q(B.trim())?"Query already saved":"Save this query",children:(0,D.jsx)(o.A,{size:"small",onClick:()=>{B.trim()&&t&&t(B.trim())},disabled:q(B.trim())||!B.trim(),children:q(B.trim())?(0,D.jsx)(k.A,{color:"primary"}):(0,D.jsx)(w.A,{})})}),I&&(0,D.jsx)(l.A,{variant:"caption",color:"error",sx:{ml:2},children:I})]})]}),(0,D.jsxs)(h.A,{in:F,children:[(0,D.jsx)(m.A,{sx:{my:2}}),(0,D.jsxs)(i.A,{children:[(0,D.jsx)(l.A,{variant:"subtitle2",gutterBottom:!0,children:"Recent Queries"}),z.length>0?(0,D.jsx)(x.A,{dense:!0,disablePadding:!0,children:z.slice(0,5).map(((e,a)=>(0,D.jsxs)(g.Ay,{button:!0,onClick:()=>K(e.text),dense:!0,sx:{borderRadius:1},children:[(0,D.jsx)(p.A,{primary:e.text,secondary:e.timestamp&&new Date(e.timestamp).toLocaleString()}),q(e.text)&&(0,D.jsx)(k.A,{fontSize:"small",color:"primary"})]},a)))}):(0,D.jsx)(l.A,{variant:"body2",color:"text.secondary",children:"No recent queries"}),P.length>0&&(0,D.jsxs)(i.A,{sx:{mt:2},children:[(0,D.jsx)(l.A,{variant:"subtitle2",gutterBottom:!0,children:"Saved Queries"}),(0,D.jsx)(x.A,{dense:!0,disablePadding:!0,children:P.map(((e,a)=>(0,D.jsxs)(g.Ay,{button:!0,onClick:()=>K(e.text),dense:!0,sx:{borderRadius:1},children:[(0,D.jsx)(p.A,{primary:e.text,secondary:e.name||e.description}),(0,D.jsx)(k.A,{fontSize:"small",color:"primary"})]},a)))})]})]})]}),M&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(m.A,{sx:{my:2}}),(0,D.jsxs)(i.A,{children:[(0,D.jsxs)(l.A,{variant:"subtitle2",sx:{display:"flex",alignItems:"center",mb:1},children:[(0,D.jsx)(S.A,{fontSize:"small",sx:{mr:.5},color:"warning"}),"Try asking"]}),(0,D.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Z.map(((e,a)=>(0,D.jsx)(y.A,{label:e,onClick:()=>K(e),clickable:!0,size:"small",sx:{mb:1}},a)))})]})]})]})}}}]);
//# sourceMappingURL=3482.23a16ae2.chunk.js.map