{"version":3,"file":"static/js/2432.736adfdb.chunk.js","mappings":"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","sources":["components/common/SimpleBox.tsx","components/common/Card.tsx","utils/styleUtils.ts","components/reports/NaturalLanguageQueryPanel.tsx","components/reports/ReportList.tsx","components/reports/ReportShareDialog.tsx","components/reports/ReportScheduleDialog.tsx","components/reports/ReportTemplate.tsx","components/reports/ReportColumnSelector.tsx","components/reports/ReportDataSourceSelector.tsx","components/reports/ReportFilterSelector.tsx","components/reports/ReportPreview.tsx","components/reports/ReportViewer.tsx","components/reports/DailyActionsReport.tsx","mockData/showcase.ts","pages/showcase/ReportComponentsShowcase.tsx","components/common/DragDropWrapper.tsx","components/common/Pagination.tsx"],"sourcesContent":["import React from 'react';\nimport { Box } from '@mui/material';\n\n/**\n * SimpleBox component\n * A simple div component that replaces MUI Box to avoid TypeScript union type complexity issues\n */\ninterface SimpleBoxProps {\n  component?: any;\n  sx?: any;\n  style?: React.CSSProperties;\n  children?: React.ReactNode;\n  [key: string]: any;\n}\n\n/**\n * Convert MUI spacing units to pixels\n * @param value - The spacing value in MUI units\n * @returns The spacing value in pixels\n */\nconst convertSpacing = (value: any): string | undefined => {\n  if (typeof value === 'number') {\n    return `${value * 8}px`;\n  }\n  return value;\n};\n\n/**\n * SimpleBox component\n * A simple replacement for MUI Box that avoids TypeScript union type issues\n */\nconst SimpleBox: React.FC<SimpleBoxProps> = (props) => {\n  const { component, sx, style, children, ...otherProps } = props;\n\n  // Create a simplified inline style object from sx prop\n  const inlineStyle: React.CSSProperties = {\n    ...(style || {}),\n    display: sx?.display,\n    flexDirection: sx?.flexDirection,\n    justifyContent: sx?.justifyContent,\n    alignItems: sx?.alignItems,\n    flexWrap: sx?.flexWrap,\n    gap: convertSpacing(sx?.gap),\n    marginBottom: convertSpacing(sx?.mb),\n    marginTop: convertSpacing(sx?.mt),\n    marginRight: convertSpacing(sx?.mr),\n    marginLeft: convertSpacing(sx?.ml),\n    padding: convertSpacing(sx?.p),\n    paddingTop: convertSpacing(sx?.pt),\n    paddingBottom: convertSpacing(sx?.pb),\n    paddingLeft: convertSpacing(sx?.pl),\n    paddingRight: convertSpacing(sx?.pr),\n    height: sx?.height,\n    width: sx?.width,\n    minWidth: sx?.minWidth,\n    maxWidth: sx?.maxWidth,\n    minHeight: sx?.minHeight,\n    maxHeight: sx?.maxHeight,\n    position: sx?.position,\n    top: sx?.top,\n    left: sx?.left,\n    right: sx?.right,\n    bottom: sx?.bottom,\n    borderRadius: sx?.borderRadius,\n    border: sx?.border,\n    borderColor: sx?.borderColor,\n    borderBottom: sx?.borderBottom,\n    backgroundColor: sx?.bgcolor,\n    color: sx?.color,\n    flexGrow: sx?.flexGrow,\n    overflow: sx?.overflow,\n    boxSizing: 'border-box',\n  };\n\n  // Filter out undefined values\n  Object.keys(inlineStyle).forEach(key => {\n    if (inlineStyle[key as keyof React.CSSProperties] === undefined) {\n      delete inlineStyle[key as keyof React.CSSProperties];\n    }\n  });\n\n  // If component prop is provided, render a div with the as attribute\n  if (component) {\n    const elementProps = {\n      ...otherProps,\n      style: inlineStyle,\n      as: component\n    };\n\n    return <div {...elementProps}>{children}</div>;\n  }\n\n  // Otherwise, render a regular div\n  return <div style={inlineStyle} {...otherProps}>{children}</div>;\n};\n\nexport default SimpleBox;\n","import React, { useState } from 'react';\nimport { \n  Paper, \n  Typography, \n  Box, \n  Divider, \n  IconButton,\n  Collapse\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\nimport { CardProps } from '../../types/common';\n\n/**\n * Card component for consistent UI elements across the application\n */\nconst Card: React.FC<CardProps> = ({\n  children,\n  title,\n  subheader,\n  action,\n  icon,\n  sx,\n  collapsible = false,\n  defaultExpanded = true,\n  variant = 'outlined'\n}) => {\n  const [expanded, setExpanded] = useState<boolean>(defaultExpanded);\n\n  const handleExpandToggle = (): void => {\n    setExpanded(!expanded);\n  };\n\n  return (\n    <Paper\n      variant={variant}\n      sx={{\n        borderRadius: 1,\n        overflow: 'hidden',\n        ...sx\n      }}\n    >\n      {/* Card Header */}\n      {(title || subheader) && (\n        <>\n          <Box\n            sx={{\n              px: 3,\n              py: 2,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between'\n            }}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              {icon && (\n                <Box sx={{ mr: 1.5, display: 'flex', alignItems: 'center' }}>\n                  {icon}\n                </Box>\n              )}\n              <Box>\n                {title && (\n                  <Typography variant=\"h6\" component=\"div\">\n                    {title}\n                  </Typography>\n                )}\n                {subheader && (\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {subheader}\n                  </Typography>\n                )}\n              </Box>\n            </Box>\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              {action}\n              {collapsible && (\n                <IconButton\n                  onClick={handleExpandToggle}\n                  sx={{ ml: action ? 1 : 0 }}\n                  size=\"small\"\n                >\n                  {expanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n                </IconButton>\n              )}\n            </Box>\n          </Box>\n          <Divider />\n        </>\n      )}\n\n      {/* Card Content */}\n      {collapsible ? (\n        <Collapse in={expanded}>\n          <Box>{children}</Box>\n        </Collapse>\n      ) : (\n        <Box>{children}</Box>\n      )}\n    </Paper>\n  );\n};\n\nexport default Card;\n","import { SxProps, Theme } from '@mui/material';\n\n/**\n * A utility function to create sx props without TypeScript union type complexity issues.\n * This function simply returns the input object but with a type assertion that avoids\n * the \"union type too complex to represent\" error.\n *\n * @param styles The styles object to be used as sx props\n * @returns The same styles object with the correct type\n */\nexport const createSx = (styles: Record<string, any>): any => {\n  return styles;\n};\n\n/**\n * A utility function to create a style function that returns an object\n * This approach avoids TypeScript's complex union type issues\n *\n * @param stylesFn A function that returns a styles object\n * @returns A function that returns the styles object\n */\nexport const createStyleFn = <T extends any[]>(stylesFn: (...args: T) => Record<string, any>) => {\n  return (...args: T): any => stylesFn(...args);\n};\n\n/**\n * Style functions for common components\n * These functions return style objects directly to avoid TypeScript union type issues\n */\nexport const styles = {\n  card: () => ({\n    bgcolor: 'background.paper',\n    p: 2,\n    border: '1px solid',\n    borderColor: 'divider',\n    borderRadius: 1,\n    boxShadow: 1,\n  }),\n\n  panel: () => ({\n    bgcolor: 'background.paper',\n    p: 1.5,\n    border: '1px solid',\n    borderColor: 'divider',\n    borderRadius: 1,\n    boxShadow: 1,\n  }),\n\n  flexRow: () => ({\n    display: 'flex',\n    alignItems: 'center',\n    gap: 1,\n  }),\n\n  flexColumn: () => ({\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 1,\n  }),\n\n  flexBetween: () => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  }),\n\n  flexCenter: () => ({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  }),\n\n  marginBottom: (value: number) => ({\n    mb: value,\n  }),\n\n  padding: (value: number) => ({\n    p: value,\n  }),\n\n  fullWidth: () => ({\n    width: '100%',\n  }),\n\n  fullHeight: () => ({\n    height: '100%',\n  }),\n};\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  IconButton,\n  Divider,\n  Chip,\n  CircularProgress,\n  Collapse,\n  List,\n  ListItem,\n  ListItemText,\n  Alert,\n  Tooltip\n} from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport HistoryIcon from '@mui/icons-material/History';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport MicIcon from '@mui/icons-material/Mic';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport ExpandLessIcon from '@mui/icons-material/ExpandLess';\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\nimport BookmarkBorderIcon from '@mui/icons-material/BookmarkBorder';\nimport { CommonProps } from '../../types/common';\n\n// Add WebkitSpeechRecognition to the Window interface\ndeclare global {\n  interface Window {\n    SpeechRecognition: any;\n    webkitSpeechRecognition: any;\n  }\n}\n\n// Type definitions\nexport interface QueryItem {\n  text: string;\n  timestamp?: string | number | Date;\n  name?: string;\n  description?: string;\n}\n\nexport interface NaturalLanguageQueryPanelProps extends CommonProps {\n  /**\n   * Function called when a search is executed\n   */\n  onSearch: (query: string) => void;\n\n  /**\n   * Function called when a query is saved\n   */\n  onSaveQuery?: (query: string) => void;\n\n  /**\n   * List of recent queries\n   */\n  recentQueries?: QueryItem[];\n\n  /**\n   * List of saved queries\n   */\n  savedQueries?: QueryItem[];\n\n  /**\n   * Whether a query is currently being processed\n   */\n  loading?: boolean;\n\n  /**\n   * Error message to display\n   */\n  error?: string | null;\n\n  /**\n   * Whether to show query suggestions\n   */\n  showSuggestions?: boolean;\n\n  /**\n   * List of query suggestions\n   */\n  suggestions?: string[];\n\n  /**\n   * Function called when a suggestion is applied\n   */\n  onApplySuggestion?: (suggestion: string) => void;\n}\n\n/**\n * NaturalLanguageQueryPanel component for enabling natural language queries for reports\n */\nconst NaturalLanguageQueryPanel: React.FC<NaturalLanguageQueryPanelProps> = ({\n  onSearch,\n  onSaveQuery,\n  recentQueries = [],\n  savedQueries = [],\n  loading = false,\n  error = null,\n  showSuggestions = true,\n  suggestions = [],\n  onApplySuggestion,\n  sx\n}) => {\n  const [query, setQuery] = useState<string>('');\n  const [showHistory, setShowHistory] = useState<boolean>(false);\n  const [isListening, setIsListening] = useState<boolean>(false);\n  const [recognition, setRecognition] = useState<any>(null);\n\n  // Set up speech recognition if available\n  useEffect(() => {\n    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      const recognitionInstance = new SpeechRecognition();\n      recognitionInstance.continuous = false;\n      recognitionInstance.interimResults = false;\n\n      recognitionInstance.onresult = (event: any) => {\n        const transcript = event.results[0][0].transcript;\n        setQuery(transcript);\n        setIsListening(false);\n      };\n\n      recognitionInstance.onerror = () => {\n        setIsListening(false);\n      };\n\n      recognitionInstance.onend = () => {\n        setIsListening(false);\n      };\n\n      setRecognition(recognitionInstance);\n    }\n  }, []);\n\n  const handleQueryChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setQuery(event.target.value);\n  };\n\n  const handleSearch = (): void => {\n    if (query.trim() && onSearch) {\n      onSearch(query.trim());\n    }\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLDivElement>): void => {\n    if (event.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleClearQuery = (): void => {\n    setQuery('');\n  };\n\n  const handleToggleHistory = (): void => {\n    setShowHistory(!showHistory);\n  };\n\n  const handleSelectQuery = (selectedQuery: string): void => {\n    setQuery(selectedQuery);\n    if (onApplySuggestion) {\n      onApplySuggestion(selectedQuery);\n    }\n  };\n\n  const handleSaveQuery = (): void => {\n    if (query.trim() && onSaveQuery) {\n      onSaveQuery(query.trim());\n    }\n  };\n\n  const toggleSpeechRecognition = (): void => {\n    if (!recognition) return;\n\n    if (isListening) {\n      recognition.stop();\n    } else {\n      recognition.start();\n      setIsListening(true);\n    }\n  };\n\n  const isSaved = (queryText: string): boolean => {\n    return savedQueries.some(saved => saved.text === queryText);\n  };\n\n  // Example query suggestions based on report context\n  const defaultSuggestions: string[] = [\n    \"Show me total revenue by month for the last quarter\",\n    \"What are the top 5 performing products?\",\n    \"Compare conversion rates between desktop and mobile\",\n    \"Show user growth trend over the past year\",\n    \"Identify customers with declining activity\"\n  ];\n\n  const queryExamples: string[] = suggestions.length > 0 ? suggestions : defaultSuggestions;\n\n  return (\n    <Paper variant=\"outlined\" sx={{ p: 2, mb: 3, borderRadius: 1, ...sx }}>\n      <Box sx={{ mb: 2 }}>\n        <Typography variant=\"subtitle1\" sx={{ fontWeight: 'medium', mb: 1, display: 'flex', alignItems: 'center' }}>\n          <SearchIcon sx={{ mr: 1, fontSize: 20 }} />\n          Ask a question about your data\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n          Use natural language to query your data. For example, \"Show me sales by region for Q1\"\n        </Typography>\n\n        <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"Ask a question about your data...\"\n            value={query}\n            onChange={handleQueryChange}\n            onKeyPress={handleKeyPress}\n            disabled={loading}\n            InputProps={{\n              endAdornment: (\n                <Box sx={{ display: 'flex' }}>\n                  {query && (\n                    <IconButton size=\"small\" onClick={handleClearQuery} edge=\"end\">\n                      <ClearIcon />\n                    </IconButton>\n                  )}\n                  {recognition && (\n                    <Tooltip title={isListening ? \"Stop listening\" : \"Voice search\"}>\n                      <IconButton\n                        size=\"small\"\n                        onClick={toggleSpeechRecognition}\n                        color={isListening ? \"primary\" : \"default\"}\n                        edge=\"end\"\n                      >\n                        <MicIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </Box>\n              ),\n            }}\n            sx={{ mr: 1 }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleSearch}\n            disabled={!query.trim() || loading}\n            startIcon={loading ? <CircularProgress size={20} color=\"inherit\" /> : <SearchIcon />}\n          >\n            {loading ? 'Processing' : 'Search'}\n          </Button>\n        </Box>\n\n        <Box sx={{ display: 'flex', mt: 1, alignItems: 'center' }}>\n          <Tooltip title=\"View search history\">\n            <IconButton size=\"small\" onClick={handleToggleHistory}>\n              {showHistory ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n              <HistoryIcon fontSize=\"small\" sx={{ ml: 0.5 }} />\n            </IconButton>\n          </Tooltip>\n\n          {query.trim() && (\n            <Tooltip title={isSaved(query.trim()) ? \"Query already saved\" : \"Save this query\"}>\n              <IconButton\n                size=\"small\"\n                onClick={handleSaveQuery}\n                disabled={isSaved(query.trim()) || !query.trim()}\n              >\n                {isSaved(query.trim()) ? <BookmarkIcon color=\"primary\" /> : <BookmarkBorderIcon />}\n              </IconButton>\n            </Tooltip>\n          )}\n\n          {error && (\n            <Typography variant=\"caption\" color=\"error\" sx={{ ml: 2 }}>\n              {error}\n            </Typography>\n          )}\n        </Box>\n      </Box>\n\n      <Collapse in={showHistory}>\n        <Divider sx={{ my: 2 }} />\n        <Box>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Recent Queries\n          </Typography>\n          {recentQueries.length > 0 ? (\n            <List dense disablePadding>\n              {recentQueries.slice(0, 5).map((item, index) => (\n                <ListItem\n                  key={index}\n                  button\n                  onClick={() => handleSelectQuery(item.text)}\n                  dense\n                  sx={{ borderRadius: 1 }}\n                >\n                  <ListItemText\n                    primary={item.text}\n                    secondary={item.timestamp && new Date(item.timestamp).toLocaleString()}\n                  />\n                  {isSaved(item.text) && (\n                    <BookmarkIcon fontSize=\"small\" color=\"primary\" />\n                  )}\n                </ListItem>\n              ))}\n            </List>\n          ) : (\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              No recent queries\n            </Typography>\n          )}\n\n          {savedQueries.length > 0 && (\n            <Box sx={{ mt: 2 }}>\n              <Typography variant=\"subtitle2\" gutterBottom>\n                Saved Queries\n              </Typography>\n              <List dense disablePadding>\n                {savedQueries.map((item, index) => (\n                  <ListItem\n                    key={index}\n                    button\n                    onClick={() => handleSelectQuery(item.text)}\n                    dense\n                    sx={{ borderRadius: 1 }}\n                  >\n                    <ListItemText\n                      primary={item.text}\n                      secondary={item.name || item.description}\n                    />\n                    <BookmarkIcon fontSize=\"small\" color=\"primary\" />\n                  </ListItem>\n                ))}\n              </List>\n            </Box>\n          )}\n        </Box>\n      </Collapse>\n\n      {showSuggestions && (\n        <>\n          <Divider sx={{ my: 2 }} />\n          <Box>\n            <Typography variant=\"subtitle2\" sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n              <LightbulbIcon fontSize=\"small\" sx={{ mr: 0.5 }} color=\"warning\" />\n              Try asking\n            </Typography>\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n              {queryExamples.map((example, index) => (\n                <Chip\n                  key={index}\n                  label={example}\n                  onClick={() => handleSelectQuery(example)}\n                  clickable\n                  size=\"small\"\n                  sx={{ mb: 1 }}\n                />\n              ))}\n            </Box>\n          </Box>\n        </>\n      )}\n    </Paper>\n  );\n};\n\nexport default NaturalLanguageQueryPanel;\n","import React, { useState, MouseEvent, ChangeEvent } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Divider,\n  Button,\n  Chip,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Tooltip,\n  CircularProgress\n} from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport AddIcon from '@mui/icons-material/Add';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport EditIcon from '@mui/icons-material/Edit';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport FileCopyIcon from '@mui/icons-material/FileCopy';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport StarIcon from '@mui/icons-material/Star';\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\nimport SortIcon from '@mui/icons-material/Sort';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport { formatDistanceToNow } from 'date-fns';\nimport Pagination from '../common/Pagination';\nimport { ReportListProps, ReportSortOption } from '../../types/reportList';\nimport { Report } from '../../types/reportsData';\n\n/**\n * ReportList component for displaying a list of reports with search, filtering, and sorting\n */\nconst ReportList: React.FC<ReportListProps> = ({\n  reports = [],\n  onViewReport,\n  onCreateReport,\n  onEditReport,\n  onDeleteReport,\n  onDuplicateReport,\n  onSearch,\n  onFavoriteToggle,\n  loading = false,\n  totalCount = 0,\n  error = null,\n  categories = [],\n  showActions = true\n}) => {\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n  const [sortBy, setSortBy] = useState<ReportSortOption>('updated');\n  const [page, setPage] = useState<number>(1);\n  const [pageSize, setPageSize] = useState<number>(12);\n  const [menuAnchorEl, setMenuAnchorEl] = useState<HTMLElement | null>(null);\n  const [activeReport, setActiveReport] = useState<Report | null>(null);\n  const [sortMenuAnchorEl, setSortMenuAnchorEl] = useState<HTMLElement | null>(null);\n  const [filterMenuAnchorEl, setFilterMenuAnchorEl] = useState<HTMLElement | null>(null);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState<boolean>(false);\n\n  // Handle search input change\n  const handleSearchChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const value = event.target.value;\n    setSearchTerm(value);\n    if (onSearch) {\n      onSearch(value, selectedCategory, sortBy);\n    }\n  };\n\n  // Handle category filter change\n  const handleCategoryChange = (category: string): void => {\n    setSelectedCategory(category);\n    setFilterMenuAnchorEl(null);\n    if (onSearch) {\n      onSearch(searchTerm, category, sortBy);\n    }\n  };\n\n  // Handle sort selection\n  const handleSortChange = (sortValue: ReportSortOption): void => {\n    setSortBy(sortValue);\n    setSortMenuAnchorEl(null);\n    if (onSearch) {\n      onSearch(searchTerm, selectedCategory, sortValue);\n    }\n  };\n\n  // Handle page change\n  const handlePageChange = (newPage: number): void => {\n    setPage(newPage);\n  };\n\n  // Handle page size change\n  const handlePageSizeChange = (newPageSize: number): void => {\n    setPageSize(newPageSize);\n    setPage(1);\n  };\n\n  // Handle opening report menu\n  const handleMenuOpen = (event: MouseEvent<HTMLButtonElement>, report: Report): void => {\n    event.stopPropagation();\n    setMenuAnchorEl(event.currentTarget);\n    setActiveReport(report);\n  };\n\n  // Handle closing report menu\n  const handleMenuClose = (): void => {\n    setMenuAnchorEl(null);\n  };\n\n  // Handle opening sort menu\n  const handleSortMenuOpen = (event: MouseEvent<HTMLButtonElement>): void => {\n    setSortMenuAnchorEl(event.currentTarget);\n  };\n\n  // Handle closing sort menu\n  const handleSortMenuClose = (): void => {\n    setSortMenuAnchorEl(null);\n  };\n\n  // Handle opening filter menu\n  const handleFilterMenuOpen = (event: MouseEvent<HTMLButtonElement>): void => {\n    setFilterMenuAnchorEl(event.currentTarget);\n  };\n\n  // Handle closing filter menu\n  const handleFilterMenuClose = (): void => {\n    setFilterMenuAnchorEl(null);\n  };\n\n  // Handle view report\n  const handleViewReport = (report: Report): void => {\n    if (onViewReport) {\n      onViewReport(report);\n    }\n  };\n\n  // Handle edit report\n  const handleEditReport = (): void => {\n    if (onEditReport && activeReport) {\n      onEditReport(activeReport);\n    }\n    handleMenuClose();\n  };\n\n  // Handle delete report\n  const handleDeleteReport = (): void => {\n    setDeleteDialogOpen(true);\n    handleMenuClose();\n  };\n\n  // Handle confirming delete report\n  const handleConfirmDelete = (): void => {\n    if (onDeleteReport && activeReport) {\n      onDeleteReport(activeReport);\n    }\n    setDeleteDialogOpen(false);\n  };\n\n  // Handle cancel delete report\n  const handleCancelDelete = (): void => {\n    setDeleteDialogOpen(false);\n  };\n\n  // Handle duplicate report\n  const handleDuplicateReport = (): void => {\n    if (onDuplicateReport && activeReport) {\n      onDuplicateReport(activeReport);\n    }\n    handleMenuClose();\n  };\n\n  // Handle toggle favorite\n  const handleToggleFavorite = (event: MouseEvent<HTMLButtonElement>, report: Report): void => {\n    event.stopPropagation();\n    if (onFavoriteToggle) {\n      onFavoriteToggle(report);\n    }\n  };\n\n  // Sort label text\n  const getSortLabel = (): string => {\n    switch (sortBy) {\n      case 'name':\n        return 'Name (A-Z)';\n      case 'created':\n        return 'Newest';\n      case 'updated':\n        return 'Recently Updated';\n      case 'popular':\n        return 'Most Popular';\n      default:\n        return 'Sort By';\n    }\n  };\n\n  // Category label text\n  const getCategoryLabel = (): string => {\n    if (selectedCategory === 'all') return 'All Categories';\n    if (selectedCategory === 'favorites') return 'Favorites';\n\n    const category = categories.find(c => c.id === selectedCategory);\n    return category ? category.name : 'All Categories';\n  };\n\n  return (\n    <Box>\n      {/* Header with search and filters */}\n      <Box sx={{ mb: 3 }}>\n        <Grid container spacing={2} alignItems=\"center\">\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              fullWidth\n              placeholder=\"Search reports...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                ),\n              }}\n              size=\"small\"\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6} md={8}>\n            <Box sx={{ display: 'flex', gap: 2, justifyContent: { xs: 'flex-start', md: 'flex-end' } }}>\n              <Button\n                variant=\"outlined\"\n                startIcon={<FilterListIcon />}\n                onClick={handleFilterMenuOpen}\n                size=\"small\"\n              >\n                {getCategoryLabel()}\n              </Button>\n\n              <Button\n                variant=\"outlined\"\n                startIcon={<SortIcon />}\n                onClick={handleSortMenuOpen}\n                size=\"small\"\n              >\n                {getSortLabel()}\n              </Button>\n\n              {showActions && onCreateReport && (\n                <Button\n                  variant=\"contained\"\n                  startIcon={<AddIcon />}\n                  onClick={onCreateReport}\n                  size=\"small\"\n                >\n                  Create Report\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n\n      {/* Error message */}\n      {error && (\n        <Box sx={{ mb: 3 }}>\n          <Typography color=\"error\">{error}</Typography>\n        </Box>\n      )}\n\n      {/* Reports grid */}\n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 10 }}>\n          <CircularProgress />\n        </Box>\n      ) : reports.length === 0 ? (\n        <Paper\n          variant=\"outlined\"\n          sx={{ p: 4, textAlign: 'center', borderStyle: 'dashed' }}\n        >\n          <FolderIcon sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />\n          <Typography variant=\"h6\" gutterBottom>\n            No reports found\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n            {searchTerm || selectedCategory !== 'all'\n              ? 'Try adjusting your search or filters'\n              : 'Get started by creating your first report'}\n          </Typography>\n          {showActions && onCreateReport && (\n            <Button\n              variant=\"contained\"\n              startIcon={<AddIcon />}\n              onClick={onCreateReport}\n            >\n              Create New Report\n            </Button>\n          )}\n        </Paper>\n      ) : (\n        <Grid container spacing={3}>\n          {reports.map((report) => (\n            <Grid item xs={12} sm={6} md={4} lg={3} key={report.id}>\n              <Card\n                variant=\"outlined\"\n                sx={{\n                  height: '100%',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  cursor: 'pointer',\n                  '&:hover': {\n                    boxShadow: 2,\n                    borderColor: 'primary.main',\n                  },\n                }}\n                onClick={() => handleViewReport(report)}\n              >\n                <CardContent sx={{ flexGrow: 1 }}>\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                    <Typography variant=\"subtitle1\" component=\"h3\" noWrap sx={{ fontWeight: 'medium' }}>\n                      {report.name}\n                    </Typography>\n\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      <Tooltip title={report.isFavorite ? 'Remove from favorites' : 'Add to favorites'}>\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => handleToggleFavorite(e, report)}\n                          color={report.isFavorite ? 'primary' : 'default'}\n                        >\n                          {report.isFavorite ? <StarIcon fontSize=\"small\" /> : <StarBorderIcon fontSize=\"small\" />}\n                        </IconButton>\n                      </Tooltip>\n\n                      {showActions && (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => handleMenuOpen(e, report)}\n                        >\n                          <MoreVertIcon fontSize=\"small\" />\n                        </IconButton>\n                      )}\n                    </Box>\n                  </Box>\n\n                  {report.category && (\n                    <Chip\n                      label={report.category}\n                      size=\"small\"\n                      sx={{ mt: 1, mb: 2 }}\n                    />\n                  )}\n\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1, mb: 2 }}>\n                    {report.description && report.description.length > 100\n                      ? `${report.description.substring(0, 100)}...`\n                      : report.description}\n                  </Typography>\n\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 'auto' }}>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Updated {formatDistanceToNow(new Date(report.updatedAt), { addSuffix: true })}\n                    </Typography>\n\n                    {report.viewCount !== undefined && (\n                      <Tooltip title=\"Number of views\">\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <VisibilityIcon fontSize=\"small\" sx={{ fontSize: 14, mr: 0.5, color: 'text.secondary' }} />\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {report.viewCount}\n                          </Typography>\n                        </Box>\n                      </Tooltip>\n                    )}\n                  </Box>\n                </CardContent>\n\n                <Divider />\n\n                <CardActions>\n                  <Button\n                    size=\"small\"\n                    startIcon={<VisibilityIcon />}\n                    onClick={() => handleViewReport(report)}\n                  >\n                    View\n                  </Button>\n\n                  {showActions && onEditReport && (\n                    <Button\n                      size=\"small\"\n                      startIcon={<EditIcon />}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setActiveReport(report);\n                        handleEditReport();\n                      }}\n                    >\n                      Edit\n                    </Button>\n                  )}\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n\n      {/* Pagination */}\n      {!loading && reports.length > 0 && (\n        <Box sx={{ mt: 4 }}>\n          <Pagination\n            count={totalCount}\n            page={page}\n            pageSize={pageSize}\n            onPageChange={handlePageChange}\n            onPageSizeChange={handlePageSizeChange}\n          />\n        </Box>\n      )}\n\n      {/* Report Actions Menu */}\n      <Menu\n        anchorEl={menuAnchorEl}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={handleEditReport}>\n          <ListItemIcon>\n            <EditIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Edit\n        </MenuItem>\n        <MenuItem onClick={handleDuplicateReport}>\n          <ListItemIcon>\n            <FileCopyIcon fontSize=\"small\" />\n          </ListItemIcon>\n          Duplicate\n        </MenuItem>\n        <MenuItem onClick={handleDeleteReport} sx={{ color: 'error.main' }}>\n          <ListItemIcon>\n            <DeleteIcon fontSize=\"small\" color=\"error\" />\n          </ListItemIcon>\n          Delete\n        </MenuItem>\n      </Menu>\n\n      {/* Sort Menu */}\n      <Menu\n        anchorEl={sortMenuAnchorEl}\n        open={Boolean(sortMenuAnchorEl)}\n        onClose={handleSortMenuClose}\n      >\n        <MenuItem\n          selected={sortBy === 'updated'}\n          onClick={() => handleSortChange('updated')}\n        >\n          Recently Updated\n        </MenuItem>\n        <MenuItem\n          selected={sortBy === 'created'}\n          onClick={() => handleSortChange('created')}\n        >\n          Newest\n        </MenuItem>\n        <MenuItem\n          selected={sortBy === 'name'}\n          onClick={() => handleSortChange('name')}\n        >\n          Name (A-Z)\n        </MenuItem>\n        <MenuItem\n          selected={sortBy === 'popular'}\n          onClick={() => handleSortChange('popular')}\n        >\n          Most Popular\n        </MenuItem>\n      </Menu>\n\n      {/* Filter Menu */}\n      <Menu\n        anchorEl={filterMenuAnchorEl}\n        open={Boolean(filterMenuAnchorEl)}\n        onClose={handleFilterMenuClose}\n      >\n        <MenuItem\n          selected={selectedCategory === 'all'}\n          onClick={() => handleCategoryChange('all')}\n        >\n          All Categories\n        </MenuItem>\n        <MenuItem\n          selected={selectedCategory === 'favorites'}\n          onClick={() => handleCategoryChange('favorites')}\n        >\n          Favorites\n        </MenuItem>\n        <Divider />\n        {categories.map((category) => (\n          <MenuItem\n            key={category.id}\n            selected={selectedCategory === category.id}\n            onClick={() => handleCategoryChange(category.id)}\n          >\n            {category.name}\n          </MenuItem>\n        ))}\n      </Menu>\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog\n        open={deleteDialogOpen}\n        onClose={handleCancelDelete}\n      >\n        <DialogTitle>Delete Report</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete \"{activeReport?.name}\"? This action cannot be undone.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCancelDelete}>Cancel</Button>\n          <Button onClick={handleConfirmDelete} color=\"error\">Delete</Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n};\n\nexport default ReportList;","import React, { useState, useEffect, ChangeEvent, MouseEvent } from 'react';\nimport {\n  Box,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Typography,\n  Tab,\n  Tabs,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  Switch,\n  FormControlLabel,\n  Divider,\n  Chip,\n  InputAdornment,\n  Tooltip,\n  Snackbar,\n  Alert,\n  CircularProgress,\n  Paper,\n  RadioGroup,\n  Radio,\n  FormControl,\n  FormLabel,\n  SelectChangeEvent\n} from '@mui/material';\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SearchIcon from '@mui/icons-material/Search';\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\nimport LinkIcon from '@mui/icons-material/Link';\nimport LockIcon from '@mui/icons-material/Lock';\nimport PublicIcon from '@mui/icons-material/Public';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport {\n  ReportShareDialogProps,\n  User,\n  SharedUser,\n  Permission,\n  SnackbarState\n} from '../../types/sharing';\n\n/**\n * ReportShareDialog component for sharing reports with users or generating public links\n */\nconst ReportShareDialog: React.FC<ReportShareDialogProps> = ({\n  open,\n  onClose,\n  report = {},\n  sharedUsers = [],\n  availableUsers = [],\n  isPublic = false,\n  publicUrl = '',\n  expirationDate = null,\n  onAddUser,\n  onRemoveUser,\n  onPermissionChange,\n  onPublicToggle,\n  onExpirationChange,\n  loading = false,\n  error = null\n}) => {\n  const [activeTab, setActiveTab] = useState<number>(0);\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const [selectedUsers, setSelectedUsers] = useState<User[]>([]);\n  const [newPermission, setNewPermission] = useState<Permission>('view');\n  const [snackbar, setSnackbar] = useState<SnackbarState>({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const [tempPublicState, setTempPublicState] = useState<boolean>(isPublic);\n  const [tempExpirationDate, setTempExpirationDate] = useState<Date | null>(expirationDate);\n\n  // Update state when props change\n  useEffect(() => {\n    setTempPublicState(isPublic);\n  }, [isPublic]);\n\n  useEffect(() => {\n    setTempExpirationDate(expirationDate);\n  }, [expirationDate]);\n\n  const handleTabChange = (_event: React.SyntheticEvent, newValue: number): void => {\n    setActiveTab(newValue);\n  };\n\n  const handleSearchChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleSelectUser = (user: User): void => {\n    setSelectedUsers((prev) => {\n      const isSelected = prev.some(u => u.id === user.id);\n      if (isSelected) {\n        return prev.filter(u => u.id !== user.id);\n      } else {\n        return [...prev, user];\n      }\n    });\n  };\n\n  const handlePermissionChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    setNewPermission(event.target.value as Permission);\n  };\n\n  const handleAddUsers = (): void => {\n    if (selectedUsers.length > 0 && onAddUser) {\n      onAddUser(selectedUsers, newPermission);\n      setSelectedUsers([]);\n      setSnackbar({\n        open: true,\n        message: `${selectedUsers.length} user(s) added successfully`,\n        severity: 'success'\n      });\n    }\n  };\n\n  const handleRemoveUser = (user: SharedUser): void => {\n    if (onRemoveUser) {\n      onRemoveUser(user);\n    }\n  };\n\n  const handleUserPermissionChange = (user: SharedUser, permission: Permission): void => {\n    if (onPermissionChange) {\n      onPermissionChange(user, permission);\n    }\n  };\n\n  const handlePublicToggle = (): void => {\n    setTempPublicState(!tempPublicState);\n  };\n\n  const handleExpirationDateChange = (date: Date | null): void => {\n    setTempExpirationDate(date);\n  };\n\n  const handleSavePublicSettings = (): void => {\n    if (onPublicToggle) {\n      onPublicToggle(tempPublicState);\n    }\n\n    if (onExpirationChange && tempPublicState) {\n      onExpirationChange(tempExpirationDate);\n    }\n  };\n\n  const copyToClipboard = (text: string): void => {\n    navigator.clipboard.writeText(text);\n    setSnackbar({\n      open: true,\n      message: 'Link copied to clipboard',\n      severity: 'success'\n    });\n  };\n\n  const handleCloseSnackbar = (): void => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n\n  const filteredAvailableUsers = availableUsers.filter(user => {\n    // Exclude users that are already shared with\n    const isAlreadyShared = sharedUsers.some(sharedUser => sharedUser.id === user.id);\n    if (isAlreadyShared) return false;\n\n    // Filter by search term\n    if (!searchTerm) return true;\n\n    return (\n      user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  });\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      maxWidth=\"md\"\n      fullWidth\n      PaperProps={{ sx: { borderRadius: 2 } }}\n    >\n      <DialogTitle sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Typography variant=\"h6\">Share Report</Typography>\n          <IconButton edge=\"end\" onClick={onClose} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n\n      <DialogContent sx={{ p: 0 }}>\n        <Box sx={{ p: 2, bgcolor: 'background.paper' }}>\n          <Typography variant=\"subtitle1\" sx={{ fontWeight: 'medium' }}>\n            {report.title || report.name || 'Report'}\n          </Typography>\n          {report.description && (\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {report.description}\n            </Typography>\n          )}\n        </Box>\n\n        <Tabs\n          value={activeTab}\n          onChange={handleTabChange}\n          variant=\"fullWidth\"\n          sx={{ borderBottom: 1, borderColor: 'divider' }}\n        >\n          <Tab label=\"Share with People\" />\n          <Tab label=\"Public Access\" />\n        </Tabs>\n\n        {/* Share with People Tab */}\n        {activeTab === 0 && (\n          <Box sx={{ p: 3 }}>\n            {error && (\n              <Alert severity=\"error\" sx={{ mb: 3 }}>\n                {error}\n              </Alert>\n            )}\n\n            <Typography variant=\"subtitle1\" gutterBottom>\n              Add people\n            </Typography>\n\n            <Box sx={{ display: 'flex', gap: 2, mb: 3 }}>\n              <TextField\n                placeholder=\"Search users...\"\n                size=\"small\"\n                fullWidth\n                value={searchTerm}\n                onChange={handleSearchChange}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon fontSize=\"small\" />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n              <FormControl component=\"fieldset\">\n                <RadioGroup\n                  row\n                  value={newPermission}\n                  onChange={handlePermissionChange}\n                >\n                  <FormControlLabel value=\"view\" control={<Radio size=\"small\" />} label=\"View\" />\n                  <FormControlLabel value=\"edit\" control={<Radio size=\"small\" />} label=\"Edit\" />\n                  <FormControlLabel value=\"manage\" control={<Radio size=\"small\" />} label=\"Manage\" />\n                </RadioGroup>\n              </FormControl>\n              <Button\n                variant=\"contained\"\n                startIcon={<PersonAddIcon />}\n                onClick={handleAddUsers}\n                disabled={selectedUsers.length === 0 || loading}\n              >\n                Add\n              </Button>\n            </Box>\n\n            <Paper variant=\"outlined\" sx={{ maxHeight: 200, overflow: 'auto', mb: 3 }}>\n              {loading ? (\n                <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n                  <CircularProgress size={24} />\n                </Box>\n              ) : filteredAvailableUsers.length === 0 ? (\n                <Box sx={{ p: 2, textAlign: 'center' }}>\n                  <Typography color=\"text.secondary\">\n                    {searchTerm ? 'No users found matching your search' : 'No users available to add'}\n                  </Typography>\n                </Box>\n              ) : (\n                <List disablePadding>\n                  {filteredAvailableUsers.map((user) => {\n                    const isSelected = selectedUsers.some(u => u.id === user.id);\n                    return (\n                      <ListItem\n                        key={user.id}\n                        divider\n                        dense\n                        button\n                        selected={isSelected}\n                        onClick={() => handleSelectUser(user)}\n                      >\n                        <ListItemText\n                          primary={user.name}\n                          secondary={user.email}\n                        />\n                        <Switch\n                          edge=\"end\"\n                          checked={isSelected}\n                          onChange={() => handleSelectUser(user)}\n                          size=\"small\"\n                        />\n                      </ListItem>\n                    );\n                  })}\n                </List>\n              )}\n            </Paper>\n\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle1\" gutterBottom>\n                People with access\n              </Typography>\n              <Paper variant=\"outlined\">\n                <List disablePadding>\n                  {sharedUsers.length === 0 ? (\n                    <ListItem divider dense>\n                      <ListItemText\n                        primary=\"No users have access to this report yet\"\n                        primaryTypographyProps={{ color: 'text.secondary', align: 'center' }}\n                      />\n                    </ListItem>\n                  ) : (\n                    sharedUsers.map((user) => (\n                      <ListItem key={user.id} divider dense>\n                        <ListItemText\n                          primary={user.name}\n                          secondary={user.email}\n                        />\n                        <FormControl size=\"small\" sx={{ minWidth: 100, mr: 1 }}>\n                          <select\n                            value={user.permission}\n                            onChange={(e) => handleUserPermissionChange(user, e.target.value as Permission)}\n                            style={{\n                              padding: '5px 10px',\n                              borderRadius: '4px',\n                              border: '1px solid #ccc'\n                            }}\n                          >\n                            <option value=\"view\">View</option>\n                            <option value=\"edit\">Edit</option>\n                            <option value=\"manage\">Manage</option>\n                          </select>\n                        </FormControl>\n                        <IconButton\n                          edge=\"end\"\n                          onClick={() => handleRemoveUser(user)}\n                          size=\"small\"\n                        >\n                          <DeleteIcon fontSize=\"small\" />\n                        </IconButton>\n                      </ListItem>\n                    ))\n                  )}\n                </List>\n              </Paper>\n            </Box>\n          </Box>\n        )}\n\n        {/* Public Access Tab */}\n        {activeTab === 1 && (\n          <Box sx={{ p: 3 }}>\n            {error && (\n              <Alert severity=\"error\" sx={{ mb: 3 }}>\n                {error}\n              </Alert>\n            )}\n\n            <Box sx={{ mb: 3 }}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={tempPublicState}\n                    onChange={handlePublicToggle}\n                    disabled={loading}\n                  />\n                }\n                label={\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                    {tempPublicState ? (\n                      <PublicIcon color=\"primary\" sx={{ mr: 1 }} />\n                    ) : (\n                      <LockIcon sx={{ mr: 1 }} />\n                    )}\n                    <Typography>\n                      {tempPublicState ? 'Public access enabled' : 'Private report'}\n                    </Typography>\n                  </Box>\n                }\n              />\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 4, mt: 0.5 }}>\n                {tempPublicState\n                  ? 'Anyone with the link can view this report without logging in'\n                  : 'Only users with explicit access can view this report'}\n              </Typography>\n            </Box>\n\n            {tempPublicState && (\n              <>\n                <Box sx={{ mb: 3 }}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    Public link\n                  </Typography>\n                  <TextField\n                    fullWidth\n                    value={publicUrl || 'Link will be generated when you save'}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    InputProps={{\n                      readOnly: true,\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          <LinkIcon />\n                        </InputAdornment>\n                      ),\n                      endAdornment: publicUrl && (\n                        <InputAdornment position=\"end\">\n                          <Tooltip title=\"Copy link\">\n                            <IconButton\n                              edge=\"end\"\n                              onClick={() => copyToClipboard(publicUrl)}\n                              size=\"small\"\n                            >\n                              <ContentCopyIcon fontSize=\"small\" />\n                            </IconButton>\n                          </Tooltip>\n                        </InputAdornment>\n                      ),\n                    }}\n                  />\n                </Box>\n\n                <Box>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    Link expiration\n                  </Typography>\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                      <FormControlLabel\n                        control={\n                          <Switch\n                            checked={!!tempExpirationDate}\n                            onChange={() => setTempExpirationDate(tempExpirationDate ? null : new Date(Date.now() + 7 * 24 * 60 * 60 * 1000))}\n                          />\n                        }\n                        label=\"Set expiration date\"\n                      />\n\n                      {tempExpirationDate && (\n                        <DatePicker\n                          label=\"Expiration date\"\n                          value={tempExpirationDate}\n                          onChange={handleExpirationDateChange}\n                          slotProps={{ textField: { size: 'small' } }}\n                          minDate={new Date()}\n                          disabled={loading}\n                        />\n                      )}\n                    </Box>\n                  </LocalizationProvider>\n\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                    {tempExpirationDate\n                      ? `The link will expire on ${tempExpirationDate.toLocaleDateString()}`\n                      : 'The link will not expire'}\n                  </Typography>\n                </Box>\n              </>\n            )}\n          </Box>\n        )}\n      </DialogContent>\n\n      <DialogActions sx={{ p: 2, borderTop: 1, borderColor: 'divider' }}>\n        <Button onClick={onClose}>\n          Cancel\n        </Button>\n        {activeTab === 0 ? (\n          <Button onClick={onClose} variant=\"contained\">\n            Done\n          </Button>\n        ) : (\n          <Button\n            onClick={handleSavePublicSettings}\n            variant=\"contained\"\n            disabled={loading}\n          >\n            {loading ? <CircularProgress size={24} /> : 'Save Settings'}\n          </Button>\n        )}\n      </DialogActions>\n\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity || 'info'}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Dialog>\n  );\n};\n\nexport default ReportShareDialog;\n","import React, { useState, ChangeEvent } from 'react';\nimport {\n  Box,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  FormControlLabel,\n  Switch,\n  TextField,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControl,\n  FormHelperText,\n  Divider,\n  IconButton,\n  Grid,\n  Chip,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  Tooltip,\n  Alert,\n  CircularProgress,\n  SelectChangeEvent\n} from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ScheduleIcon from '@mui/icons-material/Schedule';\nimport EmailIcon from '@mui/icons-material/Email';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddIcon from '@mui/icons-material/Add';\nimport EventIcon from '@mui/icons-material/Event';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { TimePicker } from '@mui/x-date-pickers/TimePicker';\nimport {\n  ReportScheduleDialogProps,\n  Schedule,\n  ScheduleFormErrors\n} from '../../types/scheduling';\n\n/**\n * ReportScheduleDialog component for scheduling automated report generation and delivery\n */\nconst ReportScheduleDialog: React.FC<ReportScheduleDialogProps> = ({\n  open,\n  onClose,\n  report = {},\n  schedules = [],\n  exportFormats = [\n    { id: 'pdf', name: 'PDF' },\n    { id: 'excel', name: 'Excel' },\n    { id: 'csv', name: 'CSV' }\n  ],\n  recipients = [],\n  onAddSchedule,\n  onUpdateSchedule,\n  onDeleteSchedule,\n  loading = false,\n  error = null\n}) => {\n  const [newSchedule, setNewSchedule] = useState<Schedule>({\n    frequency: 'daily',\n    weekday: 1, // Monday\n    monthDay: 1,\n    time: new Date(new Date().setHours(8, 0, 0, 0)), // 8:00 AM\n    exportFormat: 'pdf',\n    recipientIds: [],\n    includeEmail: false,\n    includeNotification: true,\n    active: true\n  });\n\n  const [errors, setErrors] = useState<ScheduleFormErrors>({});\n  const [isEditing, setIsEditing] = useState<boolean>(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  const resetForm = (): void => {\n    setNewSchedule({\n      frequency: 'daily',\n      weekday: 1,\n      monthDay: 1,\n      time: new Date(new Date().setHours(8, 0, 0, 0)),\n      exportFormat: 'pdf',\n      recipientIds: [],\n      includeEmail: false,\n      includeNotification: true,\n      active: true\n    });\n    setErrors({});\n    setIsEditing(false);\n    setEditingId(null);\n  };\n\n  const handleClose = (): void => {\n    resetForm();\n    onClose();\n  };\n\n  const handleInputChange = (event: ChangeEvent<HTMLInputElement> | SelectChangeEvent): void => {\n    const { name, value, checked, type } = event.target as HTMLInputElement;\n    setNewSchedule(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: undefined }));\n    }\n  };\n\n  const handleTimeChange = (time: Date | null): void => {\n    if (time) {\n      setNewSchedule(prev => ({\n        ...prev,\n        time\n      }));\n    }\n  };\n\n  const handleRecipientToggle = (recipientId: string): void => {\n    setNewSchedule(prev => {\n      const isSelected = prev.recipientIds.includes(recipientId);\n      let updatedRecipients: string[];\n\n      if (isSelected) {\n        updatedRecipients = prev.recipientIds.filter(id => id !== recipientId);\n      } else {\n        updatedRecipients = [...prev.recipientIds, recipientId];\n      }\n\n      return {\n        ...prev,\n        recipientIds: updatedRecipients\n      };\n    });\n\n    if (errors.recipientIds) {\n      setErrors(prev => ({ ...prev, recipientIds: undefined }));\n    }\n  };\n\n  const validateForm = (): boolean => {\n    const newErrors: ScheduleFormErrors = {};\n\n    if (!newSchedule.includeEmail && !newSchedule.includeNotification) {\n      newErrors.deliveryMethod = 'At least one delivery method must be selected';\n    }\n\n    if (newSchedule.includeEmail && newSchedule.recipientIds.length === 0) {\n      newErrors.recipientIds = 'At least one recipient must be selected for email delivery';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSaveSchedule = (): void => {\n    if (!validateForm()) return;\n\n    const scheduleData: Schedule = {\n      ...newSchedule,\n      id: isEditing ? editingId || undefined : undefined\n    };\n\n    if (isEditing && onUpdateSchedule) {\n      onUpdateSchedule(scheduleData);\n    } else if (onAddSchedule) {\n      onAddSchedule(scheduleData);\n    }\n\n    resetForm();\n  };\n\n  const handleEditSchedule = (schedule: Schedule): void => {\n    setNewSchedule({\n      frequency: schedule.frequency,\n      weekday: schedule.weekday,\n      monthDay: schedule.monthDay,\n      time: new Date(schedule.time),\n      exportFormat: schedule.exportFormat,\n      recipientIds: [...schedule.recipientIds],\n      includeEmail: schedule.includeEmail,\n      includeNotification: schedule.includeNotification,\n      active: schedule.active\n    });\n    setIsEditing(true);\n    setEditingId(schedule.id || null);\n  };\n\n  const handleDeleteSchedule = (scheduleId: string): void => {\n    if (onDeleteSchedule) {\n      onDeleteSchedule(scheduleId);\n    }\n  };\n\n  const getFrequencyText = (schedule: Schedule): string => {\n    switch (schedule.frequency) {\n      case 'daily':\n        return 'Every day';\n      case 'weekly':\n        const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n        return `Every ${weekdays[schedule.weekday]}`;\n      case 'monthly':\n        return `Every month on day ${schedule.monthDay}`;\n      case 'quarterly':\n        return 'Every quarter';\n      case 'yearly':\n        return 'Every year';\n      default:\n        return 'Custom schedule';\n    }\n  };\n\n  const getTimeText = (time: Date | string): string => {\n    if (!time) return '';\n    const date = new Date(time);\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  const getDeliveryMethodText = (schedule: Schedule): string => {\n    const methods: string[] = [];\n    if (schedule.includeEmail) methods.push('Email');\n    if (schedule.includeNotification) methods.push('Notification');\n    return methods.join(' & ');\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      maxWidth=\"md\"\n      fullWidth\n      PaperProps={{ sx: { borderRadius: 2 } }}\n    >\n      <DialogTitle sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <ScheduleIcon sx={{ mr: 1 }} />\n            <Typography variant=\"h6\">\n              {isEditing ? 'Edit Schedule' : 'Schedule Report'}\n            </Typography>\n          </Box>\n          <IconButton edge=\"end\" onClick={handleClose} aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n        </Box>\n      </DialogTitle>\n\n      <DialogContent dividers>\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            {error}\n          </Alert>\n        )}\n\n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"subtitle1\" sx={{ fontWeight: 'medium', mb: 1 }}>\n            {report.title || 'Report'}\n          </Typography>\n          {report.description && (\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {report.description}\n            </Typography>\n          )}\n        </Box>\n\n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Schedule Configuration\n          </Typography>\n\n          <Paper variant=\"outlined\" sx={{ p: 2 }}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"frequency-label\">Frequency</InputLabel>\n                  <Select\n                    labelId=\"frequency-label\"\n                    name=\"frequency\"\n                    value={newSchedule.frequency}\n                    onChange={handleInputChange}\n                    label=\"Frequency\"\n                    disabled={loading}\n                  >\n                    <MenuItem value=\"daily\">Daily</MenuItem>\n                    <MenuItem value=\"weekly\">Weekly</MenuItem>\n                    <MenuItem value=\"monthly\">Monthly</MenuItem>\n                    <MenuItem value=\"quarterly\">Quarterly</MenuItem>\n                    <MenuItem value=\"yearly\">Yearly</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {newSchedule.frequency === 'weekly' && (\n                <Grid item xs={12} sm={6}>\n                  <FormControl fullWidth>\n                    <InputLabel id=\"weekday-label\">Day of Week</InputLabel>\n                    <Select<number>\n                      labelId=\"weekday-label\"\n                      name=\"weekday\"\n                      value={newSchedule.weekday}\n                      onChange={(e) => {\n                        const event = {\n                          target: {\n                            name: 'weekday',\n                            value: Number(e.target.value),\n                            type: 'select'\n                          }\n                        } as unknown as React.ChangeEvent<HTMLInputElement>;\n                        handleInputChange(event);\n                      }}\n                      label=\"Day of Week\"\n                      disabled={loading}\n                    >\n                      <MenuItem value={1}>Monday</MenuItem>\n                      <MenuItem value={2}>Tuesday</MenuItem>\n                      <MenuItem value={3}>Wednesday</MenuItem>\n                      <MenuItem value={4}>Thursday</MenuItem>\n                      <MenuItem value={5}>Friday</MenuItem>\n                      <MenuItem value={6}>Saturday</MenuItem>\n                      <MenuItem value={0}>Sunday</MenuItem>\n                    </Select>\n                  </FormControl>\n                </Grid>\n              )}\n\n              {newSchedule.frequency === 'monthly' && (\n                <Grid item xs={12} sm={6}>\n                  <FormControl fullWidth>\n                    <InputLabel id=\"monthday-label\">Day of Month</InputLabel>\n                    <Select<number>\n                      labelId=\"monthday-label\"\n                      name=\"monthDay\"\n                      value={newSchedule.monthDay}\n                      onChange={(e) => {\n                        const event = {\n                          target: {\n                            name: 'monthDay',\n                            value: Number(e.target.value),\n                            type: 'select'\n                          }\n                        } as unknown as React.ChangeEvent<HTMLInputElement>;\n                        handleInputChange(event);\n                      }}\n                      label=\"Day of Month\"\n                      disabled={loading}\n                    >\n                      {Array.from({ length: 31 }, (_, i) => i + 1).map(day => (\n                        <MenuItem key={day} value={day}>{day}</MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </Grid>\n              )}\n\n              <Grid item xs={12} sm={6}>\n                <LocalizationProvider dateAdapter={AdapterDateFns}>\n                  <TimePicker\n                    label=\"Time\"\n                    value={newSchedule.time}\n                    onChange={handleTimeChange}\n                    slotProps={{ textField: { fullWidth: true } }}\n                    disabled={loading}\n                  />\n                </LocalizationProvider>\n              </Grid>\n\n              <Grid item xs={12} sm={6}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"export-format-label\">Export Format</InputLabel>\n                  <Select\n                    labelId=\"export-format-label\"\n                    name=\"exportFormat\"\n                    value={newSchedule.exportFormat}\n                    onChange={handleInputChange}\n                    label=\"Export Format\"\n                    disabled={loading}\n                  >\n                    {exportFormats.map(format => (\n                      <MenuItem key={format.id} value={format.id}>\n                        {format.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle2\" gutterBottom>\n                  Delivery Methods\n                </Typography>\n                <Box sx={{ display: 'flex', gap: 2 }}>\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        checked={newSchedule.includeEmail}\n                        onChange={handleInputChange}\n                        name=\"includeEmail\"\n                        disabled={loading}\n                      />\n                    }\n                    label={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        <EmailIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n                        <Typography variant=\"body2\">Email</Typography>\n                      </Box>\n                    }\n                  />\n\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        checked={newSchedule.includeNotification}\n                        onChange={handleInputChange}\n                        name=\"includeNotification\"\n                        disabled={loading}\n                      />\n                    }\n                    label={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        <NotificationsIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n                        <Typography variant=\"body2\">In-app Notification</Typography>\n                      </Box>\n                    }\n                  />\n                </Box>\n                {errors.deliveryMethod && (\n                  <FormHelperText error>{errors.deliveryMethod}</FormHelperText>\n                )}\n              </Grid>\n\n              {newSchedule.includeEmail && (\n                <Grid item xs={12}>\n                  <Typography variant=\"subtitle2\" gutterBottom>\n                    Recipients\n                  </Typography>\n                  <Paper variant=\"outlined\" sx={{ p: 1, maxHeight: 200, overflow: 'auto' }}>\n                    <List dense>\n                      {recipients.length === 0 ? (\n                        <ListItem>\n                          <ListItemText primary=\"No recipients available\" primaryTypographyProps={{ color: 'text.secondary' }} />\n                        </ListItem>\n                      ) : (\n                        recipients.map(recipient => {\n                          const isSelected = newSchedule.recipientIds.includes(recipient.id);\n                          return (\n                            <ListItem\n                              key={recipient.id}\n                              button\n                              onClick={() => handleRecipientToggle(recipient.id)}\n                              selected={isSelected}\n                            >\n                              <ListItemText\n                                primary={recipient.name}\n                                secondary={recipient.email}\n                              />\n                              <Switch\n                                edge=\"end\"\n                                checked={isSelected}\n                                onChange={() => handleRecipientToggle(recipient.id)}\n                                disabled={loading}\n                              />\n                            </ListItem>\n                          );\n                        })\n                      )}\n                    </List>\n                  </Paper>\n                  {errors.recipientIds && (\n                    <FormHelperText error>{errors.recipientIds}</FormHelperText>\n                  )}\n                </Grid>\n              )}\n            </Grid>\n          </Paper>\n        </Box>\n\n        <Divider sx={{ my: 3 }} />\n\n        <Box>\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Existing Schedules\n          </Typography>\n\n          {schedules.length === 0 ? (\n            <Paper variant=\"outlined\" sx={{ p: 2, textAlign: 'center' }}>\n              <Typography color=\"text.secondary\">\n                No schedules configured yet\n              </Typography>\n            </Paper>\n          ) : (\n            <Paper variant=\"outlined\">\n              <List>\n                {schedules.map((schedule) => (\n                  <ListItem key={schedule.id} divider>\n                    <ListItemIcon>\n                      <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                        <EventIcon color={schedule.active ? 'primary' : 'disabled'} />\n                        <Typography variant=\"caption\" color={schedule.active ? 'primary' : 'text.disabled'}>\n                          {getTimeText(schedule.time)}\n                        </Typography>\n                      </Box>\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={getFrequencyText(schedule)}\n                      secondary={\n                        <Box sx={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: 1, mt: 0.5 }}>\n                          <Chip\n                            size=\"small\"\n                            label={getDeliveryMethodText(schedule)}\n                            icon={schedule.includeEmail ? <EmailIcon fontSize=\"small\" /> : <NotificationsIcon fontSize=\"small\" />}\n                          />\n                          <Chip\n                            size=\"small\"\n                            label={exportFormats.find(f => f.id === schedule.exportFormat)?.name || schedule.exportFormat}\n                            icon={<CloudDownloadIcon fontSize=\"small\" />}\n                          />\n                          {schedule.includeEmail && (\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {schedule.recipientIds.length} recipient{schedule.recipientIds.length !== 1 ? 's' : ''}\n                            </Typography>\n                          )}\n                        </Box>\n                      }\n                    />\n                    <ListItemSecondaryAction>\n                      <Tooltip title=\"Edit\">\n                        <IconButton\n                          edge=\"end\"\n                          onClick={() => handleEditSchedule(schedule)}\n                          disabled={loading}\n                          sx={{ mr: 1 }}\n                        >\n                          <EditIcon />\n                        </IconButton>\n                      </Tooltip>\n                      <Tooltip title=\"Delete\">\n                        <IconButton\n                          edge=\"end\"\n                          onClick={() => handleDeleteSchedule(schedule.id as string)}\n                          disabled={loading}\n                          color=\"error\"\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      </Tooltip>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                ))}\n              </List>\n            </Paper>\n          )}\n        </Box>\n      </DialogContent>\n\n      <DialogActions sx={{ px: 3, py: 2 }}>\n        <Button onClick={handleClose} disabled={loading}>\n          Cancel\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleSaveSchedule}\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={20} /> : isEditing ? <EditIcon /> : <AddIcon />}\n        >\n          {isEditing ? 'Update Schedule' : 'Add Schedule'}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ReportScheduleDialog;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Paper,\n  Typography,\n  Button,\n  TextField,\n  IconButton,\n  Divider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  FormControlLabel,\n  Switch,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Grid,\n  SelectChangeEvent\n} from '@mui/material';\nimport SimpleBox from '../common/SimpleBox';\nimport { createSx } from '../../utils/styleUtils';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport EditIcon from '@mui/icons-material/Edit';\nimport FileCopyIcon from '@mui/icons-material/FileCopy';\nimport SaveIcon from '@mui/icons-material/Save';\nimport ViewListIcon from '@mui/icons-material/ViewList';\n// @ts-ignore\nimport { DragDropContext, Droppable, Draggable, DropResult } from 'react-beautiful-dnd';\nimport DragDropWrapper from '../common/DragDropWrapper';\nimport {\n  ReportTemplateProps,\n  Template,\n  Section,\n  Visualization,\n  VisualizationType\n} from '../../types/reportTemplate';\n\n/**\n * ReportTemplate component for creating and customizing report templates\n */\nconst ReportTemplate: React.FC<ReportTemplateProps> = ({\n  template = {\n    id: '',\n    name: '',\n    description: '',\n    sections: [],\n    dataSource: null,\n    filters: [],\n    isPublic: false,\n    createdBy: '',\n    createdAt: null,\n    updatedAt: null\n  },\n  onSave,\n  onCancel,\n  availableVisualizations = [],\n  availableDataSources = []\n}) => {\n  const [currentTemplate, setCurrentTemplate] = useState<Template>({ ...template });\n  const [currentSection, setCurrentSection] = useState<Section | null>(null);\n  const [sectionDialogOpen, setSectionDialogOpen] = useState<boolean>(false);\n  const [visualizationDialogOpen, setVisualizationDialogOpen] = useState<boolean>(false);\n\n  // Handle template field changes\n  const handleTemplateChange = (field: keyof Template, value: any): void => {\n    setCurrentTemplate({\n      ...currentTemplate,\n      [field]: value\n    });\n  };\n\n  // Handle opening the add/edit section dialog\n  const handleOpenSectionDialog = (section: Section | null = null): void => {\n    setCurrentSection(section || {\n      id: `section_${Date.now()}`,\n      title: '',\n      description: '',\n      visualizations: [],\n      expanded: true\n    });\n    setSectionDialogOpen(true);\n  };\n\n  // Handle closing the section dialog\n  const handleCloseSectionDialog = (): void => {\n    setSectionDialogOpen(false);\n    setCurrentSection(null);\n  };\n\n  // Handle saving a section\n  const handleSaveSection = (): void => {\n    if (!currentSection) return;\n\n    const sections = [...currentTemplate.sections];\n\n    // Find if we're updating an existing section\n    const existingIndex = sections.findIndex(s => s.id === currentSection.id);\n\n    if (existingIndex >= 0) {\n      // Update existing section\n      sections[existingIndex] = { ...currentSection };\n    } else {\n      // Add new section\n      sections.push({ ...currentSection });\n    }\n\n    setCurrentTemplate({\n      ...currentTemplate,\n      sections\n    });\n\n    handleCloseSectionDialog();\n  };\n\n  // Handle deleting a section\n  const handleDeleteSection = (sectionId: string): void => {\n    setCurrentTemplate({\n      ...currentTemplate,\n      sections: currentTemplate.sections.filter(s => s.id !== sectionId)\n    });\n  };\n\n  // Handle opening visualization dialog\n  const handleOpenVisualizationDialog = (): void => {\n    setVisualizationDialogOpen(true);\n  };\n\n  // Handle closing visualization dialog\n  const handleCloseVisualizationDialog = (): void => {\n    setVisualizationDialogOpen(false);\n  };\n\n  // Handle adding a visualization to a section\n  const handleAddVisualization = (visualization: VisualizationType): void => {\n    if (!currentSection) return;\n\n    setCurrentSection({\n      ...currentSection,\n      visualizations: [\n        ...currentSection.visualizations,\n        {\n          id: `viz_${Date.now()}`,\n          type: visualization.type,\n          title: visualization.title,\n          config: { ...visualization.defaultConfig },\n          dataField: '',\n          width: 12 // Default to full width (12 columns in Grid)\n        }\n      ]\n    });\n    setVisualizationDialogOpen(false);\n  };\n\n  // Handle removing a visualization from a section\n  const handleRemoveVisualization = (vizId: string): void => {\n    if (!currentSection) return;\n\n    setCurrentSection({\n      ...currentSection,\n      visualizations: currentSection.visualizations.filter(v => v.id !== vizId)\n    });\n  };\n\n  // Handle visualization config change\n  const handleVisualizationChange = (vizId: string, field: keyof Visualization, value: any): void => {\n    if (!currentSection) return;\n\n    setCurrentSection({\n      ...currentSection,\n      visualizations: currentSection.visualizations.map(v =>\n        v.id === vizId ? { ...v, [field]: value } : v\n      )\n    });\n  };\n\n  // Handle on drag end for reordering sections\n  const handleDragEnd = (result: DropResult): void => {\n    if (!result.destination) return;\n\n    const items = Array.from(currentTemplate.sections);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n\n    setCurrentTemplate({\n      ...currentTemplate,\n      sections: items\n    });\n  };\n\n  // Handle saving the entire template\n  const handleSaveTemplate = (): void => {\n    if (onSave) {\n      onSave({\n        ...currentTemplate,\n        updatedAt: new Date()\n      });\n    }\n  };\n\n  return (\n    <SimpleBox>\n      <Paper elevation={0} variant=\"outlined\" sx={{ p: 3, mb: 3 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          {currentTemplate.id ? 'Edit Report Template' : 'Create New Report Template'}\n        </Typography>\n\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              label=\"Template Name\"\n              value={currentTemplate.name}\n              onChange={(e) => handleTemplateChange('name', e.target.value)}\n              fullWidth\n              required\n              margin=\"normal\"\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <FormControl fullWidth margin=\"normal\">\n              <InputLabel>Data Source</InputLabel>\n              <Select\n                value={currentTemplate.dataSource || ''}\n                onChange={(e: SelectChangeEvent) => handleTemplateChange('dataSource', e.target.value)}\n                label=\"Data Source\"\n                required\n              >\n                <MenuItem value=\"\"><em>Select a data source</em></MenuItem>\n                {availableDataSources.map((source) => (\n                  <MenuItem key={source.id} value={source.id}>\n                    {source.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n\n          <Grid item xs={12}>\n            <TextField\n              label=\"Description\"\n              value={currentTemplate.description}\n              onChange={(e) => handleTemplateChange('description', e.target.value)}\n              fullWidth\n              multiline\n              rows={2}\n              margin=\"normal\"\n            />\n          </Grid>\n\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={currentTemplate.isPublic}\n                  onChange={(e) => handleTemplateChange('isPublic', e.target.checked)}\n                  color=\"primary\"\n                />\n              }\n              label=\"Make this report template available to all users\"\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n\n      <Paper elevation={0} variant=\"outlined\" sx={{ p: 3, mb: 3 }}>\n        <SimpleBox sx={createSx({ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 })}>\n          <Typography variant=\"h6\">\n            Report Sections\n          </Typography>\n\n          <Button\n            variant=\"outlined\"\n            startIcon={<AddIcon />}\n            onClick={() => handleOpenSectionDialog()}\n          >\n            Add Section\n          </Button>\n        </SimpleBox>\n\n        <Divider sx={{ mb: 2 }} />\n\n        {currentTemplate.sections.length === 0 ? (\n          <SimpleBox sx={createSx({ textAlign: 'center', py: 4 })}>\n            <ViewListIcon sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />\n            <Typography color=\"text.secondary\">\n              No sections added yet. Add a section to start building your report.\n            </Typography>\n          </SimpleBox>\n        ) : (\n          <DragDropContext onDragEnd={handleDragEnd}>\n            <Droppable droppableId=\"sections\">\n              {(provided: any) => (\n                <DragDropWrapper {...provided.droppableProps} ref={provided.innerRef} component={List}>\n                  {currentTemplate.sections.map((section, index) => (\n                    <Draggable key={section.id} draggableId={section.id} index={index}>\n                      {(provided: any) => (\n                        <DragDropWrapper\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          component={ListItem}\n                          divider\n                          sx={{\n                            bgcolor: 'background.paper',\n                            borderRadius: 1,\n                            mb: 1,\n                            border: '1px solid',\n                            borderColor: 'divider'\n                          }}\n                        >\n                          <SimpleBox {...provided.dragHandleProps} sx={createSx({ mr: 1 })}>\n                            <DragIndicatorIcon color=\"action\" />\n                          </SimpleBox>\n\n                          <ListItemText\n                            primary={section.title}\n                            secondary={\n                              <>\n                                {section.description && (\n                                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                                    {section.description}\n                                  </Typography>\n                                )}\n                                <Typography variant=\"caption\" color=\"text.secondary\">\n                                  {section.visualizations.length} visualization{section.visualizations.length !== 1 ? 's' : ''}\n                                </Typography>\n                              </>\n                            }\n                          />\n\n                          <ListItemSecondaryAction>\n                            <IconButton edge=\"end\" onClick={() => handleOpenSectionDialog(section)}>\n                              <EditIcon />\n                            </IconButton>\n                            <IconButton edge=\"end\" onClick={() => handleDeleteSection(section.id)}>\n                              <DeleteIcon />\n                            </IconButton>\n                          </ListItemSecondaryAction>\n                        </DragDropWrapper>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </DragDropWrapper>\n              )}\n            </Droppable>\n          </DragDropContext>\n        )}\n      </Paper>\n\n      <SimpleBox sx={createSx({ display: 'flex', justifyContent: 'flex-end', gap: 2, mt: 2 })}>\n        <Button variant=\"outlined\" onClick={onCancel}>\n          Cancel\n        </Button>\n        <Button\n          variant=\"contained\"\n          startIcon={<SaveIcon />}\n          onClick={handleSaveTemplate}\n          disabled={!currentTemplate.name || !currentTemplate.dataSource}\n        >\n          Save Template\n        </Button>\n      </SimpleBox>\n\n      {/* Section Dialog */}\n      <Dialog\n        open={sectionDialogOpen}\n        onClose={handleCloseSectionDialog}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>\n          {currentSection && currentSection.title ? `Edit Section: ${currentSection.title}` : 'Add New Section'}\n        </DialogTitle>\n\n        <DialogContent dividers>\n          <TextField\n            label=\"Section Title\"\n            value={currentSection?.title || ''}\n            onChange={(e) => setCurrentSection(currentSection ? { ...currentSection, title: e.target.value } : null)}\n            fullWidth\n            required\n            margin=\"normal\"\n          />\n\n          <TextField\n            label=\"Section Description\"\n            value={currentSection?.description || ''}\n            onChange={(e) => setCurrentSection(currentSection ? { ...currentSection, description: e.target.value } : null)}\n            fullWidth\n            multiline\n            rows={2}\n            margin=\"normal\"\n          />\n\n          <SimpleBox sx={createSx({ mt: 3, mb: 2 })}>\n            <Typography variant=\"subtitle1\" gutterBottom>\n              Visualizations\n            </Typography>\n\n            <List>\n              {currentSection?.visualizations.map((viz, index) => (\n                <ListItem\n                  key={viz.id}\n                  divider={index < (currentSection?.visualizations.length || 0) - 1}\n                  sx={{ bgcolor: 'action.hover', borderRadius: 1, mb: 1 }}\n                >\n                  <ListItemText\n                    primary={viz.title}\n                    secondary={`Type: ${viz.type}`}\n                  />\n                  <ListItemSecondaryAction>\n                    <IconButton edge=\"end\" onClick={() => handleRemoveVisualization(viz.id)}>\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n\n            <Button\n              variant=\"outlined\"\n              startIcon={<AddIcon />}\n              onClick={handleOpenVisualizationDialog}\n              sx={{ mt: 2 }}\n            >\n              Add Visualization\n            </Button>\n          </SimpleBox>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={handleCloseSectionDialog}>Cancel</Button>\n          <Button\n            onClick={handleSaveSection}\n            variant=\"contained\"\n            disabled={!currentSection?.title}\n          >\n            Save Section\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Visualization Selection Dialog */}\n      <Dialog\n        open={visualizationDialogOpen}\n        onClose={handleCloseVisualizationDialog}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <DialogTitle>\n          Select Visualization\n        </DialogTitle>\n\n        <DialogContent dividers>\n          <Grid container spacing={2}>\n            {availableVisualizations.map((viz) => (\n              <Grid item xs={12} sm={6} md={4} key={viz.type}>\n                <Paper\n                  elevation={0}\n                  variant=\"outlined\"\n                  sx={{\n                    p: 2,\n                    height: '100%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    cursor: 'pointer',\n                    '&:hover': { borderColor: 'primary.main' }\n                  }}\n                  onClick={() => handleAddVisualization(viz)}\n                >\n                  <SimpleBox sx={createSx({ display: 'flex', justifyContent: 'center', mb: 2 })}>\n                    {viz.icon}\n                  </SimpleBox>\n                  <Typography variant=\"subtitle1\" align=\"center\" gutterBottom>\n                    {viz.title}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n                    {viz.description}\n                  </Typography>\n                </Paper>\n              </Grid>\n            ))}\n          </Grid>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={handleCloseVisualizationDialog}>Cancel</Button>\n        </DialogActions>\n      </Dialog>\n    </SimpleBox>\n  );\n};\n\nexport default ReportTemplate;","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  IconButton,\n  Divider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Switch,\n  FormControlLabel,\n  Tooltip,\n  Alert,\n  Chip,\n  TextField,\n  SelectChangeEvent\n} from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport SortIcon from '@mui/icons-material/Sort';\nimport GroupWorkIcon from '@mui/icons-material/GroupWork';\nimport ViewColumnIcon from '@mui/icons-material/ViewColumn';\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { CommonProps } from '../../types/common';\n\n// Type definitions\nexport interface ColumnInfo {\n  id: string;\n  name: string;\n  type: string;\n  description?: string;\n  isSortable?: boolean;\n  isGroupable?: boolean;\n  isAggregatable?: boolean;\n  aggregationFunctions?: string[];\n}\n\nexport interface SelectedColumn {\n  id: string;\n  name: string;\n  type: string;\n  width: string;\n  visible: boolean;\n  aggregation: string | null;\n}\n\nexport interface SortConfig {\n  columnId: string;\n  direction: 'asc' | 'desc';\n}\n\nexport interface GroupConfig {\n  columnId: string;\n}\n\nexport interface DataSource {\n  schema?: ColumnInfo[];\n  [key: string]: any;\n}\n\nexport interface ReportColumnSelectorProps extends CommonProps {\n  dataSource?: DataSource;\n  selectedColumns?: SelectedColumn[];\n  onChange?: (columns: SelectedColumn[]) => void;\n  sortBy?: SortConfig | null;\n  onSortChange?: (sortConfig: SortConfig | null) => void;\n  groupBy?: GroupConfig | null;\n  onGroupChange?: (groupConfig: GroupConfig | null) => void;\n}\n\n/**\n * Component for selecting columns to include in a report and configuring sorting and grouping\n */\nconst ReportColumnSelector: React.FC<ReportColumnSelectorProps> = ({\n  dataSource,\n  selectedColumns = [],\n  onChange,\n  sortBy,\n  onSortChange,\n  groupBy,\n  onGroupChange\n}) => {\n  // State for available columns from the data source\n  const [availableColumns, setAvailableColumns] = useState<ColumnInfo[]>([]);\n\n  // Load available columns from data source\n  useEffect(() => {\n    if (dataSource?.schema) {\n      // Convert schema to available columns\n      const columns = dataSource.schema.map(field => ({\n        id: field.id,\n        name: field.name,\n        type: field.type,\n        description: field.description,\n        isSortable: (field as any).sortable !== false,\n        isGroupable: (field as any).groupable !== false,\n        isAggregatable: (field as any).aggregatable === true,\n        aggregationFunctions: (field as any).aggregationFunctions || []\n      }));\n\n      setAvailableColumns(columns);\n\n      // If no columns are selected and we have available columns, select the first few by default\n      if (selectedColumns.length === 0 && columns.length > 0 && onChange) {\n        const defaultColumns = columns.slice(0, Math.min(5, columns.length)).map(col => ({\n          id: col.id,\n          name: col.name,\n          type: col.type,\n          width: 'auto',\n          visible: true,\n          aggregation: null\n        }));\n\n        onChange(defaultColumns);\n      }\n    }\n  }, [dataSource, onChange, selectedColumns.length]);\n\n  // Add a column to the selection\n  const handleAddColumn = (column: ColumnInfo): void => {\n    // Check if column is already selected\n    if (selectedColumns.some(col => col.id === column.id) || !onChange) {\n      return;\n    }\n\n    const newColumn: SelectedColumn = {\n      id: column.id,\n      name: column.name,\n      type: column.type,\n      width: 'auto',\n      visible: true,\n      aggregation: null\n    };\n\n    onChange([...selectedColumns, newColumn]);\n  };\n\n  // Remove a column from the selection\n  const handleRemoveColumn = (columnId: string): void => {\n    if (!onChange) return;\n\n    const updatedColumns = selectedColumns.filter(col => col.id !== columnId);\n    onChange(updatedColumns);\n\n    // If the removed column was used for sorting, clear sorting\n    if (sortBy?.columnId === columnId && onSortChange) {\n      onSortChange(null);\n    }\n\n    // If the removed column was used for grouping, clear grouping\n    if (groupBy?.columnId === columnId && onGroupChange) {\n      onGroupChange(null);\n    }\n  };\n\n  // Move a column up in the order\n  const handleMoveUp = (index: number): void => {\n    if (index <= 0 || !onChange) return;\n\n    const updatedColumns = [...selectedColumns];\n    [updatedColumns[index], updatedColumns[index - 1]] = [updatedColumns[index - 1], updatedColumns[index]];\n\n    onChange(updatedColumns);\n  };\n\n  // Move a column down in the order\n  const handleMoveDown = (index: number): void => {\n    if (index >= selectedColumns.length - 1 || !onChange) return;\n\n    const updatedColumns = [...selectedColumns];\n    [updatedColumns[index], updatedColumns[index + 1]] = [updatedColumns[index + 1], updatedColumns[index]];\n\n    onChange(updatedColumns);\n  };\n\n  // Update column width\n  const handleWidthChange = (columnId: string, width: string): void => {\n    if (!onChange) return;\n\n    const updatedColumns = selectedColumns.map(col => {\n      if (col.id === columnId) {\n        return { ...col, width };\n      }\n      return col;\n    });\n\n    onChange(updatedColumns);\n  };\n\n  // Update column visibility\n  const handleVisibilityChange = (columnId: string, visible: boolean): void => {\n    if (!onChange) return;\n\n    const updatedColumns = selectedColumns.map(col => {\n      if (col.id === columnId) {\n        return { ...col, visible };\n      }\n      return col;\n    });\n\n    onChange(updatedColumns);\n  };\n\n  // Update column aggregation\n  const handleAggregationChange = (columnId: string, aggregation: string | null): void => {\n    if (!onChange) return;\n\n    const updatedColumns = selectedColumns.map(col => {\n      if (col.id === columnId) {\n        return { ...col, aggregation };\n      }\n      return col;\n    });\n\n    onChange(updatedColumns);\n  };\n\n  // Handle sort configuration change\n  const handleSortChange = (columnId: string, direction: 'asc' | 'desc'): void => {\n    if (!onSortChange) return;\n\n    if (!columnId) {\n      onSortChange(null);\n      return;\n    }\n\n    onSortChange({\n      columnId,\n      direction\n    });\n  };\n\n  // Handle group by configuration change\n  const handleGroupChange = (columnId: string): void => {\n    if (!onGroupChange) return;\n\n    if (!columnId) {\n      onGroupChange(null);\n      return;\n    }\n\n    onGroupChange({\n      columnId\n    });\n  };\n\n  // Get column info from available columns\n  const getColumnInfo = (columnId: string): ColumnInfo => {\n    return availableColumns.find(col => col.id === columnId) || { id: '', name: '', type: '' };\n  };\n\n  // Get sortable columns\n  const getSortableColumns = (): SelectedColumn[] => {\n    return selectedColumns.filter(col => {\n      const columnInfo = getColumnInfo(col.id);\n      return columnInfo.isSortable;\n    });\n  };\n\n  // Get groupable columns\n  const getGroupableColumns = (): SelectedColumn[] => {\n    return selectedColumns.filter(col => {\n      const columnInfo = getColumnInfo(col.id);\n      return columnInfo.isGroupable;\n    });\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h6\" gutterBottom>\n        Select Columns\n      </Typography>\n\n      {!dataSource && (\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\n          Please select a data source first.\n        </Alert>\n      )}\n\n      <Grid container spacing={3}>\n        {/* Available columns */}\n        <Grid item xs={12} md={4}>\n          <Paper variant=\"outlined\" sx={{ height: '100%' }}>\n            <Box sx={{ p: 2 }}>\n              <Typography variant=\"subtitle1\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n                <ViewColumnIcon sx={{ mr: 1 }} />\n                Available Columns\n              </Typography>\n            </Box>\n            <Divider />\n\n            {availableColumns.length === 0 ? (\n              <Box sx={{ p: 2, textAlign: 'center' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No columns available in the selected data source.\n                </Typography>\n              </Box>\n            ) : (\n              <List dense sx={{ maxHeight: 400, overflow: 'auto' }}>\n                {availableColumns.map((column) => (\n                  <ListItem\n                    key={column.id}\n                    secondaryAction={\n                      selectedColumns.some(col => col.id === column.id) ? (\n                        <Chip size=\"small\" label=\"Added\" color=\"primary\" variant=\"outlined\" />\n                      ) : (\n                        <IconButton\n                          edge=\"end\"\n                          size=\"small\"\n                          onClick={() => handleAddColumn(column)}\n                          disabled={selectedColumns.some(col => col.id === column.id)}\n                        >\n                          <AddIcon />\n                        </IconButton>\n                      )\n                    }\n                  >\n                    <ListItemText\n                      primary={\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          {column.name}\n                          {column.description && (\n                            <Tooltip title={column.description} arrow>\n                              <InfoOutlinedIcon fontSize=\"small\" color=\"action\" sx={{ ml: 1 }} />\n                            </Tooltip>\n                          )}\n                        </Box>\n                      }\n                      secondary={column.type}\n                    />\n                  </ListItem>\n                ))}\n              </List>\n            )}\n          </Paper>\n        </Grid>\n\n        {/* Selected columns */}\n        <Grid item xs={12} md={8}>\n          <Paper variant=\"outlined\">\n            <Box sx={{ p: 2 }}>\n              <Typography variant=\"subtitle1\" gutterBottom>\n                Selected Columns ({selectedColumns.length})\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                Drag to reorder columns. Configure visibility, width, and aggregation functions.\n              </Typography>\n            </Box>\n            <Divider />\n\n            {selectedColumns.length === 0 ? (\n              <Box sx={{ p: 3, textAlign: 'center' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No columns selected yet. Add columns from the available list.\n                </Typography>\n              </Box>\n            ) : (\n              <List sx={{ maxHeight: 400, overflow: 'auto' }}>\n                {selectedColumns.map((column, index) => {\n                  const columnInfo = getColumnInfo(column.id);\n\n                  return (\n                    <React.Fragment key={column.id}>\n                      <ListItem>\n                        <ListItemIcon>\n                          <DragIndicatorIcon color=\"action\" />\n                        </ListItemIcon>\n\n                        <ListItemText\n                          primary={\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              {column.name}\n                              {column.aggregation && (\n                                <Chip\n                                  label={column.aggregation}\n                                  size=\"small\"\n                                  color=\"secondary\"\n                                  sx={{ ml: 1 }}\n                                />\n                              )}\n                            </Box>\n                          }\n                          secondary={\n                            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mt: 1 }}>\n                              <FormControlLabel\n                                control={\n                                  <Switch\n                                    checked={column.visible}\n                                    onChange={(e) => handleVisibilityChange(column.id, e.target.checked)}\n                                    size=\"small\"\n                                  />\n                                }\n                                label=\"Visible\"\n                              />\n\n                              <FormControl size=\"small\" sx={{ minWidth: 100 }}>\n                                <InputLabel id={`width-label-${column.id}`}>Width</InputLabel>\n                                <Select\n                                  labelId={`width-label-${column.id}`}\n                                  value={column.width}\n                                  label=\"Width\"\n                                  onChange={(e) => handleWidthChange(column.id, e.target.value as string)}\n                                >\n                                  <MenuItem value=\"auto\">Auto</MenuItem>\n                                  <MenuItem value=\"small\">Small</MenuItem>\n                                  <MenuItem value=\"medium\">Medium</MenuItem>\n                                  <MenuItem value=\"large\">Large</MenuItem>\n                                </Select>\n                              </FormControl>\n\n                              {columnInfo.isAggregatable && (\n                                <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n                                  <InputLabel id={`aggregation-label-${column.id}`}>Aggregation</InputLabel>\n                                  <Select\n                                    labelId={`aggregation-label-${column.id}`}\n                                    value={column.aggregation || ''}\n                                    label=\"Aggregation\"\n                                    onChange={(e) => handleAggregationChange(column.id, e.target.value as string || null)}\n                                  >\n                                    <MenuItem value=\"\">None</MenuItem>\n                                    {columnInfo.aggregationFunctions && columnInfo.aggregationFunctions.length > 0 ? (\n                                      columnInfo.aggregationFunctions.map(func => (\n                                        <MenuItem key={func} value={func}>\n                                          {func}\n                                        </MenuItem>\n                                      ))\n                                    ) : (\n                                      <>\n                                        <MenuItem value=\"sum\">Sum</MenuItem>\n                                        <MenuItem value=\"avg\">Average</MenuItem>\n                                        <MenuItem value=\"min\">Minimum</MenuItem>\n                                        <MenuItem value=\"max\">Maximum</MenuItem>\n                                        <MenuItem value=\"count\">Count</MenuItem>\n                                      </>\n                                    )}\n                                  </Select>\n                                </FormControl>\n                              )}\n                            </Box>\n                          }\n                        />\n\n                        <ListItemSecondaryAction>\n                          <IconButton\n                            edge=\"end\"\n                            size=\"small\"\n                            onClick={() => handleMoveUp(index)}\n                            disabled={index === 0}\n                            sx={{ mr: 1 }}\n                          >\n                            <ArrowUpwardIcon fontSize=\"small\" />\n                          </IconButton>\n                          <IconButton\n                            edge=\"end\"\n                            size=\"small\"\n                            onClick={() => handleMoveDown(index)}\n                            disabled={index === selectedColumns.length - 1}\n                            sx={{ mr: 1 }}\n                          >\n                            <ArrowDownwardIcon fontSize=\"small\" />\n                          </IconButton>\n                          <IconButton\n                            edge=\"end\"\n                            size=\"small\"\n                            onClick={() => handleRemoveColumn(column.id)}\n                            color=\"error\"\n                          >\n                            <DeleteIcon fontSize=\"small\" />\n                          </IconButton>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                      <Divider variant=\"inset\" component=\"li\" />\n                    </React.Fragment>\n                  );\n                })}\n              </List>\n            )}\n          </Paper>\n\n          {/* Sorting and Grouping */}\n          <Grid container spacing={2} sx={{ mt: 2 }}>\n            <Grid item xs={12} md={6}>\n              <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n                  <SortIcon sx={{ mr: 1 }} />\n                  Sort By\n                </Typography>\n\n                <Box sx={{ mt: 2 }}>\n                  <Grid container spacing={2}>\n                    <Grid item xs={8}>\n                      <FormControl fullWidth size=\"small\">\n                        <InputLabel id=\"sort-column-label\">Column</InputLabel>\n                        <Select\n                          labelId=\"sort-column-label\"\n                          value={sortBy?.columnId || ''}\n                          label=\"Column\"\n                          onChange={(e) => handleSortChange(e.target.value as string, sortBy?.direction || 'asc')}\n                        >\n                          <MenuItem value=\"\">None</MenuItem>\n                          {getSortableColumns().map((column) => (\n                            <MenuItem key={column.id} value={column.id}>\n                              {column.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </Grid>\n\n                    <Grid item xs={4}>\n                      <FormControl fullWidth size=\"small\" disabled={!sortBy?.columnId}>\n                        <InputLabel id=\"sort-direction-label\">Direction</InputLabel>\n                        <Select\n                          labelId=\"sort-direction-label\"\n                          value={sortBy?.direction || 'asc'}\n                          label=\"Direction\"\n                          onChange={(e) => handleSortChange(sortBy?.columnId || '', e.target.value as 'asc' | 'desc')}\n                        >\n                          <MenuItem value=\"asc\">Ascending</MenuItem>\n                          <MenuItem value=\"desc\">Descending</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </Grid>\n                  </Grid>\n                </Box>\n              </Paper>\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n              <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n                  <GroupWorkIcon sx={{ mr: 1 }} />\n                  Group By\n                </Typography>\n\n                <Box sx={{ mt: 2 }}>\n                  <FormControl fullWidth size=\"small\">\n                    <InputLabel id=\"group-column-label\">Column</InputLabel>\n                    <Select\n                      labelId=\"group-column-label\"\n                      value={groupBy?.columnId || ''}\n                      label=\"Column\"\n                      onChange={(e) => handleGroupChange(e.target.value as string)}\n                    >\n                      <MenuItem value=\"\">None</MenuItem>\n                      {getGroupableColumns().map((column) => (\n                        <MenuItem key={column.id} value={column.id}>\n                          {column.name}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                </Box>\n              </Paper>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ReportColumnSelector;\n","import React from 'react';\nimport {\n  Box,\n  TextField,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardActionArea,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  Chip,\n  Avatar,\n  Divider\n} from '@mui/material';\nimport TableChartIcon from '@mui/icons-material/TableChart';\nimport StorageIcon from '@mui/icons-material/Storage';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport { CommonProps } from '../../types/common';\n\n// Type definitions\nexport interface DataSource {\n  id: string;\n  name: string;\n  type: string;\n  description?: string;\n  tags?: string[];\n  schema?: any[];\n}\n\nexport interface ReportDataSourceSelectorProps extends CommonProps {\n  selected?: DataSource | null;\n  availableDataSources?: DataSource[];\n  onChange?: (source: DataSource) => void;\n  name?: string;\n  description?: string;\n  onNameChange?: (name: string) => void;\n  onDescriptionChange?: (description: string) => void;\n}\n\n/**\n * Component for selecting a data source for a report and configuring basic report information\n */\nconst ReportDataSourceSelector: React.FC<ReportDataSourceSelectorProps> = ({\n  selected,\n  availableDataSources = [],\n  onChange,\n  name = '',\n  description = '',\n  onNameChange,\n  onDescriptionChange\n}) => {\n  // Function to get icon based on source type\n  const getSourceIcon = (type?: string): React.ReactNode => {\n    switch (type?.toLowerCase()) {\n      case 'database':\n        return <StorageIcon fontSize=\"large\" />;\n      case 'api':\n        return <TableChartIcon fontSize=\"large\" />;\n      case 'analytics':\n        return <BarChartIcon fontSize=\"large\" />;\n      default:\n        return <TableChartIcon fontSize=\"large\" />;\n    }\n  };\n\n  // Handle data source selection\n  const handleSourceSelect = (source: DataSource): void => {\n    if (onChange) {\n      onChange(source);\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h6\" gutterBottom>\n        Report Information\n      </Typography>\n      \n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} md={6}>\n          <TextField\n            label=\"Report Name\"\n            fullWidth\n            value={name}\n            onChange={(e) => onNameChange && onNameChange(e.target.value)}\n            required\n            placeholder=\"Enter a name for your report\"\n            helperText=\"This name will be displayed in the reports list\"\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <TextField\n            label=\"Description\"\n            fullWidth\n            value={description}\n            onChange={(e) => onDescriptionChange && onDescriptionChange(e.target.value)}\n            multiline\n            rows={1}\n            placeholder=\"Describe the purpose of this report\"\n            helperText=\"Optional brief description\"\n          />\n        </Grid>\n      </Grid>\n      \n      <Divider sx={{ my: 3 }} />\n      \n      <Typography variant=\"h6\" gutterBottom>\n        Select Data Source\n      </Typography>\n      \n      <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n        Choose the data source that contains the information you want to include in your report.\n      </Typography>\n      \n      <Grid container spacing={2} sx={{ mt: 2 }}>\n        {availableDataSources.map((source) => (\n          <Grid item xs={12} sm={6} md={4} key={source.id}>\n            <Card \n              variant={selected?.id === source.id ? 'elevation' : 'outlined'} \n              elevation={selected?.id === source.id ? 3 : 0}\n              sx={{\n                borderColor: selected?.id === source.id ? 'primary.main' : 'divider',\n                height: '100%',\n                transition: 'all 0.2s ease-in-out',\n                '&:hover': {\n                  borderColor: 'primary.main',\n                  boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\n                }\n              }}\n            >\n              <CardActionArea \n                onClick={() => handleSourceSelect(source)}\n                sx={{ height: '100%' }}\n              >\n                <CardContent sx={{ height: '100%' }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                    <Avatar\n                      sx={{\n                        bgcolor: selected?.id === source.id ? 'primary.main' : 'action.selected',\n                        mr: 2\n                      }}\n                    >\n                      {getSourceIcon(source.type)}\n                    </Avatar>\n                    <Typography variant=\"h6\" component=\"div\">\n                      {source.name}\n                    </Typography>\n                  </Box>\n                  \n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                    {source.description}\n                  </Typography>\n                  \n                  <Box sx={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: 1 }}>\n                    <Chip \n                      label={source.type} \n                      size=\"small\" \n                      color={selected?.id === source.id ? 'primary' : 'default'}\n                    />\n                    {source.tags?.map((tag) => (\n                      <Chip \n                        key={tag} \n                        label={tag} \n                        size=\"small\"\n                        variant=\"outlined\"\n                      />\n                    ))}\n                  </Box>\n                </CardContent>\n              </CardActionArea>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n      \n      {availableDataSources.length === 0 && (\n        <Box sx={{ textAlign: 'center', py: 4 }}>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            No data sources available. Please contact your administrator.\n          </Typography>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default ReportDataSourceSelector;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Button,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n  TextField,\n  IconButton,\n  Chip,\n  Divider,\n  Alert,\n  Stack,\n  Card,\n  CardContent,\n  Tooltip,\n  SelectChangeEvent\n} from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { CommonProps } from '../../types/common';\n\n// Type definitions\nexport interface Operator {\n  id: string;\n  label: string;\n}\n\nexport interface FilterField {\n  id: string;\n  name: string;\n  type: string;\n  operators: Operator[];\n  description?: string;\n}\n\nexport interface FilterValue {\n  from?: Date | string | number | null;\n  to?: Date | string | number | null;\n  [key: string]: any;\n}\n\nexport interface Filter {\n  id: string;\n  field: string;\n  operator: string;\n  value: string | FilterValue | null;\n  displayValue: string;\n}\n\nexport interface DataSource {\n  schema?: any[];\n  [key: string]: any;\n}\n\nexport interface ReportFilterSelectorProps extends CommonProps {\n  dataSource?: DataSource | null;\n  filters?: Filter[];\n  onChange?: (filters: Filter[]) => void;\n}\n\n/**\n * Component for defining report filters\n */\nconst ReportFilterSelector: React.FC<ReportFilterSelectorProps> = ({\n  dataSource,\n  filters = [],\n  onChange\n}) => {\n  const [filterFields, setFilterFields] = useState<FilterField[]>([]);\n  const [activeFilter, setActiveFilter] = useState<string | null>(null);\n\n  // Load available filter fields from data source\n  useEffect(() => {\n    if (dataSource?.schema) {\n      // Convert schema to filter fields\n      const availableFields = dataSource.schema\n        .filter(field => field.filterable !== false)\n        .map(field => ({\n          id: field.id,\n          name: field.name,\n          type: field.type,\n          operators: getOperatorsForType(field.type),\n          description: field.description\n        }));\n\n      setFilterFields(availableFields);\n    }\n  }, [dataSource]);\n\n  // Get appropriate operators based on field type\n  const getOperatorsForType = (type: string): Operator[] => {\n    switch (type) {\n      case 'string':\n        return [\n          { id: 'equals', label: 'Equals' },\n          { id: 'contains', label: 'Contains' },\n          { id: 'startsWith', label: 'Starts with' },\n          { id: 'endsWith', label: 'Ends with' },\n          { id: 'isNull', label: 'Is empty' },\n          { id: 'isNotNull', label: 'Is not empty' }\n        ];\n      case 'number':\n        return [\n          { id: 'equals', label: 'Equals' },\n          { id: 'notEquals', label: 'Not equals' },\n          { id: 'greaterThan', label: 'Greater than' },\n          { id: 'lessThan', label: 'Less than' },\n          { id: 'between', label: 'Between' },\n          { id: 'isNull', label: 'Is empty' },\n          { id: 'isNotNull', label: 'Is not empty' }\n        ];\n      case 'date':\n      case 'datetime':\n        return [\n          { id: 'equals', label: 'On' },\n          { id: 'before', label: 'Before' },\n          { id: 'after', label: 'After' },\n          { id: 'between', label: 'Between' },\n          { id: 'isNull', label: 'Is empty' },\n          { id: 'isNotNull', label: 'Is not empty' }\n        ];\n      case 'boolean':\n        return [\n          { id: 'equals', label: 'Is' },\n          { id: 'isNull', label: 'Is empty' },\n          { id: 'isNotNull', label: 'Is not empty' }\n        ];\n      default:\n        return [\n          { id: 'equals', label: 'Equals' },\n          { id: 'notEquals', label: 'Not equals' },\n          { id: 'isNull', label: 'Is empty' },\n          { id: 'isNotNull', label: 'Is not empty' }\n        ];\n    }\n  };\n\n  // Create a new filter\n  const handleAddFilter = (): void => {\n    if (!onChange) return;\n\n    const newFilter: Filter = {\n      id: `filter_${Date.now()}`,\n      field: filterFields[0]?.id || '',\n      operator: '',\n      value: '',\n      displayValue: ''\n    };\n\n    onChange([...filters, newFilter]);\n    setActiveFilter(newFilter.id);\n  };\n\n  // Remove a filter\n  const handleRemoveFilter = (filterId: string): void => {\n    if (!onChange) return;\n\n    const updatedFilters = filters.filter(filter => filter.id !== filterId);\n    onChange(updatedFilters);\n\n    if (activeFilter === filterId) {\n      setActiveFilter(null);\n    }\n  };\n\n  // Update a filter\n  const handleUpdateFilter = (filterId: string, field: keyof Filter, value: any): void => {\n    if (!onChange) return;\n\n    const updatedFilters = filters.map(filter => {\n      if (filter.id === filterId) {\n        const updatedFilter = { ...filter, [field]: value };\n\n        // If field changed, reset operator and value\n        if (field === 'field') {\n          const fieldInfo = filterFields.find(f => f.id === value);\n          updatedFilter.operator = fieldInfo?.operators[0]?.id || '';\n          updatedFilter.value = '';\n          updatedFilter.displayValue = '';\n        }\n\n        return updatedFilter;\n      }\n      return filter;\n    });\n\n    onChange(updatedFilters);\n  };\n\n  // Get field info by id\n  const getFieldInfo = (fieldId: string): FilterField => {\n    return filterFields.find(field => field.id === fieldId) || { id: '', name: '', type: '', operators: [] };\n  };\n\n  // Get operators for a field\n  const getOperatorsForField = (fieldId: string): Operator[] => {\n    const field = getFieldInfo(fieldId);\n    return field.operators || [];\n  };\n\n  // Render value input based on field type and operator\n  const renderValueInput = (filter: Filter): React.ReactNode => {\n    const field = getFieldInfo(filter.field);\n    const operator = filter.operator;\n\n    // Some operators don't need value input\n    if (operator === 'isNull' || operator === 'isNotNull') {\n      return null;\n    }\n\n    // Render different inputs based on field type\n    switch (field.type) {\n      case 'date':\n      case 'datetime':\n        return (\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            {operator === 'between' ? (\n              <Stack direction=\"row\" spacing={2} sx={{ mt: 2 }}>\n                <DatePicker\n                  label=\"From\"\n                  value={(filter.value as FilterValue)?.from || null}\n                  onChange={(date) => {\n                    const newValue = { ...((filter.value as FilterValue) || {}), from: date };\n                    handleUpdateFilter(filter.id, 'value', newValue);\n                    handleUpdateFilter(filter.id, 'displayValue', `From ${(date as Date)?.toLocaleDateString() || 'any'} to ${((filter.value as FilterValue)?.to as Date)?.toLocaleDateString() || 'any'}`);\n                  }}\n                  slotProps={{ textField: { fullWidth: true, size: \"small\" } }}\n                />\n                <DatePicker\n                  label=\"To\"\n                  value={(filter.value as FilterValue)?.to || null}\n                  onChange={(date) => {\n                    const newValue = { ...((filter.value as FilterValue) || {}), to: date };\n                    handleUpdateFilter(filter.id, 'value', newValue);\n                    handleUpdateFilter(filter.id, 'displayValue', `From ${((filter.value as FilterValue)?.from as Date)?.toLocaleDateString() || 'any'} to ${(date as Date)?.toLocaleDateString() || 'any'}`);\n                  }}\n                  slotProps={{ textField: { fullWidth: true, size: \"small\" } }}\n                />\n              </Stack>\n            ) : (\n              <Box sx={{ mt: 2 }}>\n                <DatePicker\n                  label=\"Value\"\n                  value={filter.value as Date | null}\n                  onChange={(date) => {\n                    handleUpdateFilter(filter.id, 'value', date);\n                    handleUpdateFilter(filter.id, 'displayValue', (date as Date)?.toLocaleDateString() || '');\n                  }}\n                  slotProps={{ textField: { fullWidth: true, size: \"small\" } }}\n                />\n              </Box>\n            )}\n          </LocalizationProvider>\n        );\n\n      case 'number':\n        return (\n          operator === 'between' ? (\n            <Stack direction=\"row\" spacing={2} sx={{ mt: 2 }}>\n              <TextField\n                label=\"From\"\n                type=\"number\"\n                value={(filter.value as FilterValue)?.from || ''}\n                onChange={(e) => {\n                  const newValue = { ...((filter.value as FilterValue) || {}), from: e.target.value };\n                  handleUpdateFilter(filter.id, 'value', newValue);\n                  handleUpdateFilter(filter.id, 'displayValue', `From ${e.target.value || 'any'} to ${(filter.value as FilterValue)?.to || 'any'}`);\n                }}\n                fullWidth\n                size=\"small\"\n              />\n              <TextField\n                label=\"To\"\n                type=\"number\"\n                value={(filter.value as FilterValue)?.to || ''}\n                onChange={(e) => {\n                  const newValue = { ...((filter.value as FilterValue) || {}), to: e.target.value };\n                  handleUpdateFilter(filter.id, 'value', newValue);\n                  handleUpdateFilter(filter.id, 'displayValue', `From ${(filter.value as FilterValue)?.from || 'any'} to ${e.target.value || 'any'}`);\n                }}\n                fullWidth\n                size=\"small\"\n              />\n            </Stack>\n          ) : (\n            <TextField\n              label=\"Value\"\n              type=\"number\"\n              value={filter.value || ''}\n              onChange={(e) => {\n                handleUpdateFilter(filter.id, 'value', e.target.value);\n                handleUpdateFilter(filter.id, 'displayValue', e.target.value);\n              }}\n              fullWidth\n              size=\"small\"\n              sx={{ mt: 2 }}\n            />\n          )\n        );\n\n      case 'boolean':\n        return (\n          <FormControl fullWidth size=\"small\" sx={{ mt: 2 }}>\n            <InputLabel id={`filter-value-${filter.id}-label`}>Value</InputLabel>\n            <Select\n              labelId={`filter-value-${filter.id}-label`}\n              value={filter.value as string || ''}\n              onChange={(e) => {\n                handleUpdateFilter(filter.id, 'value', e.target.value);\n                handleUpdateFilter(filter.id, 'displayValue', e.target.value === 'true' ? 'Yes' : 'No');\n              }}\n              label=\"Value\"\n            >\n              <MenuItem value=\"true\">Yes</MenuItem>\n              <MenuItem value=\"false\">No</MenuItem>\n            </Select>\n          </FormControl>\n        );\n\n      default:\n        return (\n          <TextField\n            label=\"Value\"\n            value={filter.value || ''}\n            onChange={(e) => {\n              handleUpdateFilter(filter.id, 'value', e.target.value);\n              handleUpdateFilter(filter.id, 'displayValue', e.target.value);\n            }}\n            fullWidth\n            size=\"small\"\n            sx={{ mt: 2 }}\n          />\n        );\n    }\n  };\n\n  // Format filter for display\n  const formatFilterDisplay = (filter: Filter): string => {\n    const field = getFieldInfo(filter.field);\n    const operator = getOperatorsForField(filter.field).find(op => op.id === filter.operator)?.label || filter.operator;\n\n    if (filter.operator === 'isNull') {\n      return `${field.name} is empty`;\n    }\n\n    if (filter.operator === 'isNotNull') {\n      return `${field.name} is not empty`;\n    }\n\n    return `${field.name} ${operator} ${filter.displayValue}`;\n  };\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 3 }}>\n        <Typography variant=\"h6\">\n          Define Filters\n        </Typography>\n\n        <Button\n          variant=\"contained\"\n          startIcon={<AddIcon />}\n          onClick={handleAddFilter}\n          disabled={!dataSource || filterFields.length === 0}\n        >\n          Add Filter\n        </Button>\n      </Box>\n\n      {!dataSource && (\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\n          Please select a data source first.\n        </Alert>\n      )}\n\n      {dataSource && filterFields.length === 0 && (\n        <Alert severity=\"info\" sx={{ mb: 3 }}>\n          The selected data source does not have any filterable fields.\n        </Alert>\n      )}\n\n      <Grid container spacing={3}>\n        {/* Filter list */}\n        <Grid item xs={12} md={4}>\n          <Paper variant=\"outlined\" sx={{ p: 2, height: '100%' }}>\n            <Typography variant=\"subtitle1\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n              <FilterListIcon sx={{ mr: 1 }} />\n              Applied Filters ({filters.length})\n            </Typography>\n\n            <Divider sx={{ my: 1 }} />\n\n            {filters.length === 0 ? (\n              <Box sx={{ py: 2, textAlign: 'center' }}>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  No filters applied yet.\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Click \"Add Filter\" to create your first filter.\n                </Typography>\n              </Box>\n            ) : (\n              <Stack spacing={1} sx={{ mt: 2 }}>\n                {filters.map((filter) => (\n                  <Card\n                    key={filter.id}\n                    variant=\"outlined\"\n                    sx={{\n                      borderColor: activeFilter === filter.id ? 'primary.main' : 'divider',\n                      cursor: 'pointer',\n                      '&:hover': {\n                        borderColor: 'primary.main'\n                      }\n                    }}\n                    onClick={() => setActiveFilter(filter.id)}\n                  >\n                    <CardContent sx={{ p: 1, '&:last-child': { pb: 1 } }}>\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                        <Typography variant=\"body2\">\n                          {formatFilterDisplay(filter)}\n                        </Typography>\n                        <IconButton\n                          size=\"small\"\n                          color=\"error\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleRemoveFilter(filter.id);\n                          }}\n                          aria-label=\"remove filter\"\n                        >\n                          <DeleteIcon fontSize=\"small\" />\n                        </IconButton>\n                      </Box>\n                    </CardContent>\n                  </Card>\n                ))}\n              </Stack>\n            )}\n          </Paper>\n        </Grid>\n\n        {/* Filter editor */}\n        <Grid item xs={12} md={8}>\n          <Paper variant=\"outlined\" sx={{ p: 3 }}>\n            {activeFilter ? (\n              <Box>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  Edit Filter\n                </Typography>\n\n                <Grid container spacing={2}>\n                  {/* Field */}\n                  <Grid item xs={12} sm={6}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel id={`filter-field-${activeFilter}-label`}>Field</InputLabel>\n                      <Select\n                        labelId={`filter-field-${activeFilter}-label`}\n                        value={filters.find(f => f.id === activeFilter)?.field || ''}\n                        onChange={(e) => handleUpdateFilter(activeFilter, 'field', e.target.value)}\n                        label=\"Field\"\n                      >\n                        {filterFields.map((field) => (\n                          <MenuItem key={field.id} value={field.id}>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              {field.name}\n                              {field.description && (\n                                <Tooltip title={field.description} arrow>\n                                  <InfoOutlinedIcon fontSize=\"small\" color=\"action\" sx={{ ml: 1 }} />\n                                </Tooltip>\n                              )}\n                            </Box>\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  {/* Operator */}\n                  <Grid item xs={12} sm={6}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel id={`filter-operator-${activeFilter}-label`}>Operator</InputLabel>\n                      <Select\n                        labelId={`filter-operator-${activeFilter}-label`}\n                        value={filters.find(f => f.id === activeFilter)?.operator || ''}\n                        onChange={(e) => handleUpdateFilter(activeFilter, 'operator', e.target.value)}\n                        label=\"Operator\"\n                      >\n                        {getOperatorsForField(filters.find(f => f.id === activeFilter)?.field || '').map((operator) => (\n                          <MenuItem key={operator.id} value={operator.id}>\n                            {operator.label}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  {/* Value */}\n                  {filters.find(f => f.id === activeFilter)?.operator && (\n                    <Grid item xs={12}>\n                      {renderValueInput(filters.find(f => f.id === activeFilter) as Filter)}\n                    </Grid>\n                  )}\n                </Grid>\n              </Box>\n            ) : (\n              <Box sx={{ py: 4, textAlign: 'center' }}>\n                <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 1 }}>\n                  Select a filter to edit or create a new one.\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  startIcon={<AddIcon />}\n                  onClick={handleAddFilter}\n                  disabled={!dataSource || filterFields.length === 0}\n                >\n                  Add Filter\n                </Button>\n              </Box>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default ReportFilterSelector;\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  CircularProgress,\n  Alert,\n  IconButton,\n  Divider,\n  Chip,\n  Stack,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n  Button,\n  SelectChangeEvent\n} from '@mui/material';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport TableChartIcon from '@mui/icons-material/TableChart';\nimport ViewColumnIcon from '@mui/icons-material/ViewColumn';\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport { CommonProps } from '../../types/common';\n\n// Type definitions\nexport interface ColumnConfig {\n  id: string;\n  name: string;\n  type: string;\n  width: string;\n  visible: boolean;\n  aggregation: string | null;\n  renderer?: (value: any) => React.ReactNode;\n}\n\nexport interface FilterConfig {\n  column: string;\n  operator: string;\n  value: string;\n}\n\nexport interface SortConfig {\n  columnId: string;\n  direction: 'asc' | 'desc';\n}\n\nexport interface GroupConfig {\n  columnId: string;\n}\n\nexport interface DataSource {\n  id: string;\n  name: string;\n  [key: string]: any;\n}\n\nexport interface ReportConfig {\n  name: string;\n  description: string;\n  dataSource: DataSource | null;\n  filters: FilterConfig[];\n  columns: ColumnConfig[];\n  sortBy: SortConfig | null;\n  groupBy: GroupConfig | null;\n  [key: string]: any;\n}\n\nexport interface ReportPreviewProps extends CommonProps {\n  config: ReportConfig;\n  data?: any[];\n  loading?: boolean;\n  error?: string | null;\n  onRefresh?: () => void;\n  onDownload?: () => void;\n  onConfigChange?: (config: ReportConfig) => void;\n}\n\n/**\n * Component for previewing a report with the configured settings\n */\nconst ReportPreview: React.FC<ReportPreviewProps> = ({\n  config,\n  data = [],\n  loading = false,\n  error = null,\n  onRefresh,\n  onDownload,\n  onConfigChange\n}) => {\n  const [previewLimit, setPreviewLimit] = useState<number>(10);\n\n  // Handle preview limit change\n  const handleLimitChange = (event: SelectChangeEvent<number>): void => {\n    setPreviewLimit(event.target.value as number);\n  };\n\n  // Filter columns to only show visible ones and in the correct order\n  const getVisibleColumns = (): ColumnConfig[] => {\n    return config.columns.filter(column => column.visible);\n  };\n\n  // Format cell value based on column type\n  const formatCellValue = (value: any, column: ColumnConfig): React.ReactNode => {\n    if (value === null || value === undefined) {\n      return '-';\n    }\n\n    // If the column has a renderer function, use it\n    if (column.renderer) {\n      return column.renderer(value);\n    }\n\n    switch (column.type) {\n      case 'date':\n        return new Date(value).toLocaleDateString();\n      case 'datetime':\n        return new Date(value).toLocaleString();\n      case 'number':\n        return typeof value === 'number' ? value.toLocaleString() : value;\n      case 'boolean':\n        return value ? 'Yes' : 'No';\n      case 'currency':\n        return typeof value === 'number'\n          ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value)\n          : value;\n      case 'percentage':\n        return typeof value === 'number'\n          ? `${value.toFixed(2)}%`\n          : value;\n      default:\n        return value;\n    }\n  };\n\n  // Get cell alignment based on column type\n  const getCellAlignment = (column: ColumnConfig): 'left' | 'right' | 'center' => {\n    switch (column.type) {\n      case 'number':\n      case 'currency':\n      case 'percentage':\n        return 'right';\n      default:\n        return 'left';\n    }\n  };\n\n  // Get column width based on configuration\n  const getColumnWidth = (width: string): React.CSSProperties => {\n    switch (width) {\n      case 'small':\n        return { width: 100, maxWidth: 100 };\n      case 'medium':\n        return { width: 150, maxWidth: 150 };\n      case 'large':\n        return { width: 200, maxWidth: 200 };\n      default:\n        return {};\n    }\n  };\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h6\">\n          Report Preview\n        </Typography>\n\n        <Box sx={{ display: 'flex', gap: 2 }}>\n          <FormControl variant=\"outlined\" size=\"small\" sx={{ minWidth: 120 }}>\n            <InputLabel id=\"preview-limit-label\">Preview Rows</InputLabel>\n            <Select<number>\n              labelId=\"preview-limit-label\"\n              value={previewLimit}\n              onChange={handleLimitChange}\n              label=\"Preview Rows\"\n            >\n              <MenuItem value={5}>5 rows</MenuItem>\n              <MenuItem value={10}>10 rows</MenuItem>\n              <MenuItem value={20}>20 rows</MenuItem>\n              <MenuItem value={50}>50 rows</MenuItem>\n            </Select>\n          </FormControl>\n\n          {onRefresh && (\n            <Button\n              variant=\"outlined\"\n              startIcon={<RefreshIcon />}\n              onClick={onRefresh}\n              disabled={loading}\n            >\n              Refresh\n            </Button>\n          )}\n\n          {onDownload && (\n            <Button\n              variant=\"outlined\"\n              startIcon={<DownloadIcon />}\n              onClick={onDownload}\n              disabled={loading || !!error || data.length === 0}\n            >\n              Download\n            </Button>\n          )}\n        </Box>\n      </Box>\n\n      {/* Report configuration summary */}\n      <Paper variant=\"outlined\" sx={{ p: 2, mb: 3 }}>\n        <Typography variant=\"subtitle2\" gutterBottom>\n          Report Configuration\n        </Typography>\n\n        <Stack direction=\"row\" spacing={2} sx={{ flexWrap: 'wrap', gap: 1 }}>\n          <Chip\n            icon={<TableChartIcon />}\n            label={config.dataSource?.name || 'No data source selected'}\n            color={config.dataSource ? 'primary' : 'default'}\n            variant=\"outlined\"\n          />\n          <Chip\n            icon={<ViewColumnIcon />}\n            label={`${getVisibleColumns().length} columns`}\n            variant=\"outlined\"\n          />\n          <Chip\n            icon={<FilterListIcon />}\n            label={`${config.filters.length} filters`}\n            variant=\"outlined\"\n          />\n          {config.sortBy && (\n            <Chip\n              label={`Sorted by ${config.columns.find(col => col.id === config.sortBy?.columnId)?.name || ''} (${config.sortBy?.direction === 'asc' ? 'Ascending' : 'Descending'})`}\n              variant=\"outlined\"\n            />\n          )}\n          {config.groupBy && (\n            <Chip\n              label={`Grouped by ${config.columns.find(col => col.id === config.groupBy?.columnId)?.name || ''}`}\n              variant=\"outlined\"\n            />\n          )}\n        </Stack>\n      </Paper>\n\n      {/* Data preview */}\n      <Paper variant=\"outlined\">\n        {loading ? (\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', p: 5 }}>\n            <CircularProgress />\n          </Box>\n        ) : error ? (\n          <Alert severity=\"error\" sx={{ m: 2 }}>\n            {error}\n          </Alert>\n        ) : data.length === 0 ? (\n          <Box sx={{ p: 3, textAlign: 'center' }}>\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              No data available for preview with the current configuration.\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n              Try adjusting your filters or data source selection.\n            </Typography>\n          </Box>\n        ) : (\n          <TableContainer sx={{ maxHeight: 500 }}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  {getVisibleColumns().map((column) => (\n                    <TableCell\n                      key={column.id}\n                      align={getCellAlignment(column)}\n                      style={getColumnWidth(column.width)}\n                      sx={{ fontWeight: 'bold' }}\n                    >\n                      {column.name}\n                      {column.aggregation && (\n                        <Chip\n                          label={column.aggregation}\n                          size=\"small\"\n                          color=\"secondary\"\n                          sx={{ ml: 1 }}\n                        />\n                      )}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {data.slice(0, previewLimit).map((row, rowIndex) => (\n                  <TableRow key={`row-${rowIndex}`} hover>\n                    {getVisibleColumns().map((column) => (\n                      <TableCell\n                        key={`${rowIndex}-${column.id}`}\n                        align={getCellAlignment(column)}\n                      >\n                        {formatCellValue(row[column.id], column)}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        )}\n\n        {data.length > previewLimit && (\n          <Box sx={{ p: 2, textAlign: 'center', borderTop: 1, borderColor: 'divider' }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Showing {previewLimit} of {data.length} rows. Download the full report to see all data.\n            </Typography>\n          </Box>\n        )}\n      </Paper>\n    </Box>\n  );\n};\n\nexport default ReportPreview;\n","import React, { useState } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Divider,\n  Button,\n  IconButton,\n  Menu,\n  MenuItem,\n  Chip,\n  LinearProgress,\n  Alert,\n  Collapse,\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Tooltip\n} from '@mui/material';\nimport { CommonProps } from '../../types/common';\nimport { ReportSection, ReportExportFormat } from '../../types/report';\n\n// Icons\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport SaveIcon from '@mui/icons-material/Save';\nimport ShareIcon from '@mui/icons-material/Share';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport FullscreenIcon from '@mui/icons-material/Fullscreen';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\nimport PrintIcon from '@mui/icons-material/Print';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport CodeIcon from '@mui/icons-material/Code';\n\n// Type definitions\nexport interface FilterDefinition {\n  id: string;\n  label: string;\n  type: string;\n  options?: Array<{ value: string | number; label: string }>;\n  defaultValue?: any;\n  [key: string]: any;\n}\n\n// Use ReportExportFormat from report.ts\nexport type ExportFormat = ReportExportFormat;\n\nexport interface ReportViewerProps extends CommonProps {\n  /**\n   * Report title\n   */\n  title?: string;\n\n  /**\n   * Report description\n   */\n  description?: string;\n\n  /**\n   * Loading state\n   */\n  loading?: boolean;\n\n  /**\n   * Error state\n   */\n  error?: Error | string | null;\n\n  /**\n   * Report sections\n   */\n  sections?: ReportSection[];\n\n  /**\n   * Report data\n   */\n  data?: any;\n\n  /**\n   * Filter definitions\n   */\n  filters?: FilterDefinition[];\n\n  /**\n   * Filter values\n   */\n  filterValues?: Record<string, any>;\n\n  /**\n   * Filter change handler\n   */\n  onFilterChange?: (id: string, value: any) => void;\n\n  /**\n   * Filter apply handler\n   */\n  onFilterApply?: () => void;\n\n  /**\n   * Refresh handler\n   */\n  onRefresh?: () => void;\n\n  /**\n   * Export handler\n   */\n  onExport?: (format: ExportFormat, data?: any) => void;\n\n  /**\n   * Save handler\n   */\n  onSave?: (data?: any) => void;\n\n  /**\n   * Share handler\n   */\n  onShare?: (data?: any) => void;\n\n  /**\n   * Whether to show export options\n   */\n  showExport?: boolean;\n\n  /**\n   * Additional header actions\n   */\n  headerActions?: React.ReactNode;\n}\n\n/**\n * ReportViewer - Generic component for displaying report data and sections\n */\nconst ReportViewer: React.FC<ReportViewerProps> = ({\n  title = 'Report',\n  description = 'Report description',\n  loading = false,\n  error = null,\n  sections = [],\n  data = {},\n  filters,\n  filterValues,\n  onFilterChange,\n  onFilterApply,\n  onRefresh,\n  onExport,\n  onSave,\n  onShare,\n  showExport = true,\n  headerActions,\n  sx\n}) => {\n  const [expandedSections, setExpandedSections] = useState<string[]>(sections.map(section => section.id));\n  const [exportMenuAnchorEl, setExportMenuAnchorEl] = useState<HTMLElement | null>(null);\n  const [moreMenuAnchorEl, setMoreMenuAnchorEl] = useState<HTMLElement | null>(null);\n\n  // Handle export menu open/close\n  const handleExportMenuOpen = (event: React.MouseEvent<HTMLElement>): void => {\n    setExportMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleExportMenuClose = (): void => {\n    setExportMenuAnchorEl(null);\n  };\n\n  // Handle more menu open/close\n  const handleMoreMenuOpen = (event: React.MouseEvent<HTMLElement>): void => {\n    setMoreMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleMoreMenuClose = (): void => {\n    setMoreMenuAnchorEl(null);\n  };\n\n  // Toggle section visibility\n  const handleToggleSection = (sectionId: string): void => {\n    setExpandedSections(prevState => {\n      if (prevState.includes(sectionId)) {\n        return prevState.filter(id => id !== sectionId);\n      } else {\n        return [...prevState, sectionId];\n      }\n    });\n  };\n\n  // Handle section actions\n  const handleCollapseAll = (): void => {\n    setExpandedSections([]);\n  };\n\n  const handleExpandAll = (): void => {\n    setExpandedSections(sections.map(section => section.id));\n  };\n\n  // Handle export actions\n  const handleExport = (format: ExportFormat): void => {\n    if (onExport) {\n      onExport(format, data);\n    }\n    handleExportMenuClose();\n  };\n\n  // Handle print\n  const handlePrint = (): void => {\n    window.print();\n    handleMoreMenuClose();\n  };\n\n  // Format error message\n  const getErrorMessage = (): string => {\n    if (!error) return '';\n    if (typeof error === 'string') return error;\n    return error.message || 'An error occurred';\n  };\n\n  return (\n    <Box sx={{ width: '100%', ...sx }}>\n      {/* Report Header */}\n      <Paper sx={{ p: 3, mb: 3, borderRadius: 1 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n          <Box>\n            <Typography variant=\"h5\" gutterBottom>\n              {title}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              {description}\n            </Typography>\n          </Box>\n\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            {/* Refresh Button */}\n            {onRefresh && (\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                startIcon={<RefreshIcon />}\n                onClick={onRefresh}\n                disabled={loading}\n              >\n                Refresh\n              </Button>\n            )}\n\n            {/* Export Button/Menu */}\n            {showExport && (\n              <>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  startIcon={<DownloadIcon />}\n                  onClick={handleExportMenuOpen}\n                  disabled={loading}\n                >\n                  Export\n                </Button>\n                <Menu\n                  anchorEl={exportMenuAnchorEl}\n                  open={Boolean(exportMenuAnchorEl)}\n                  onClose={handleExportMenuClose}\n                >\n                  <MenuItem onClick={() => handleExport('pdf')}>PDF Document</MenuItem>\n                  <MenuItem onClick={() => handleExport('excel')}>Excel Spreadsheet</MenuItem>\n                  <MenuItem onClick={() => handleExport('csv')}>CSV File</MenuItem>\n                  <MenuItem onClick={() => handleExport('image')}>Image (PNG)</MenuItem>\n                  <MenuItem onClick={() => handleExport('json')}>Raw Data (JSON)</MenuItem>\n                </Menu>\n              </>\n            )}\n\n            {/* Save Button */}\n            {onSave && (\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                startIcon={<SaveIcon />}\n                onClick={() => onSave(data)}\n                disabled={loading}\n              >\n                Save\n              </Button>\n            )}\n\n            {/* Share Button */}\n            {onShare && (\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                startIcon={<ShareIcon />}\n                onClick={() => onShare(data)}\n                disabled={loading}\n              >\n                Share\n              </Button>\n            )}\n\n            {/* Additional header actions */}\n            {headerActions}\n\n            {/* More Options */}\n            <IconButton\n              size=\"small\"\n              onClick={handleMoreMenuOpen}\n              disabled={loading}\n            >\n              <MoreVertIcon />\n            </IconButton>\n            <Menu\n              anchorEl={moreMenuAnchorEl}\n              open={Boolean(moreMenuAnchorEl)}\n              onClose={handleMoreMenuClose}\n            >\n              <MenuItem onClick={handlePrint}>\n                <PrintIcon fontSize=\"small\" sx={{ mr: 1 }} />\n                Print Report\n              </MenuItem>\n              <MenuItem onClick={handleExpandAll}>\n                <VisibilityIcon fontSize=\"small\" sx={{ mr: 1 }} />\n                Expand All Sections\n              </MenuItem>\n              <MenuItem onClick={handleCollapseAll}>\n                <VisibilityOffIcon fontSize=\"small\" sx={{ mr: 1 }} />\n                Collapse All Sections\n              </MenuItem>\n              <MenuItem onClick={handleMoreMenuClose}>\n                <FullscreenIcon fontSize=\"small\" sx={{ mr: 1 }} />\n                Fullscreen Mode\n              </MenuItem>\n              <MenuItem onClick={handleMoreMenuClose}>\n                <CodeIcon fontSize=\"small\" sx={{ mr: 1 }} />\n                View Raw Data\n              </MenuItem>\n            </Menu>\n          </Box>\n        </Box>\n\n        {/* Loading Indicator */}\n        {loading && (\n          <Box sx={{ width: '100%', mt: 2 }}>\n            <LinearProgress />\n          </Box>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <Alert severity=\"error\" sx={{ mt: 2 }}>\n            {getErrorMessage()}\n          </Alert>\n        )}\n\n        {/* Report Metadata/Filters Summary */}\n        {!loading && !error && data && (\n          <Box sx={{ mt: 2, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n            <Chip\n              label={`Generated: ${new Date().toLocaleString()}`}\n              size=\"small\"\n              color=\"default\"\n              icon={<InfoOutlinedIcon />}\n            />\n            {data.summary && (\n              <Tooltip title=\"Total records in this report\">\n                <Chip\n                  label={`Records: ${data.byDimension?.length || 0}`}\n                  size=\"small\"\n                  color=\"primary\"\n                  variant=\"outlined\"\n                />\n              </Tooltip>\n            )}\n          </Box>\n        )}\n      </Paper>\n\n      {/* Report Sections */}\n      {sections.map((section) => (\n        <Card\n          key={section.id}\n          sx={{ mb: 3, borderRadius: 1 }}\n          variant=\"outlined\"\n        >\n          <CardHeader\n            title={section.title}\n            subheader={section.description}\n            action={\n              <IconButton\n                onClick={() => handleToggleSection(section.id)}\n                size=\"small\"\n              >\n                {expandedSections.includes(section.id) ? <VisibilityOffIcon /> : <VisibilityIcon />}\n              </IconButton>\n            }\n          />\n          <Collapse in={expandedSections.includes(section.id)}>\n            <Divider />\n            <CardContent>\n              {section.content}\n            </CardContent>\n            {section.actions && (\n              <CardActions>\n                {section.actions}\n              </CardActions>\n            )}\n          </Collapse>\n        </Card>\n      ))}\n\n      {/* No Sections Placeholder */}\n      {sections.length === 0 && !loading && (\n        <Paper sx={{ p: 4, textAlign: 'center' }}>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            No report sections available.\n          </Typography>\n        </Paper>\n      )}\n    </Box>\n  );\n};\n\nexport default ReportViewer;\n","// filepath: c:\\dev\\PPrePorter\\Frontend\\ppreporter-client\\src\\components\\reports\\DailyActionsReport.tsx\nimport React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Box,\n  Grid,\n  Paper,\n  Typography,\n  Tabs,\n  Tab,\n  Divider,\n  TextField,\n  MenuItem,\n  FormControlLabel,\n  Switch,\n  Button,\n  Chip,\n  IconButton,\n  Badge,\n  Tooltip,\n  CircularProgress,\n  Alert,\n  Select,\n  FormControl,\n  InputLabel,\n  Autocomplete,\n  Checkbox,\n  ListItemText,\n  OutlinedInput,\n  ListSubheader,\n  InputAdornment,\n  SelectChangeEvent,\n  Collapse\n} from '@mui/material';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { CommonProps } from '../../types/common';\nimport { ReportSection, ReportExportFormat } from '../../types/report';\n\n// Icons\nimport FilterListIcon from '@mui/icons-material/FilterList';\nimport TuneIcon from '@mui/icons-material/Tune';\nimport GroupIcon from '@mui/icons-material/Group';\nimport PublicIcon from '@mui/icons-material/Public';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport CalendarViewMonthIcon from '@mui/icons-material/CalendarViewMonth';\nimport EventIcon from '@mui/icons-material/Event';\nimport BarChartIcon from '@mui/icons-material/BarChart';\nimport PieChartIcon from '@mui/icons-material/PieChart';\nimport TableChartIcon from '@mui/icons-material/TableChart';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport MapIcon from '@mui/icons-material/Map';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport TrendingDownIcon from '@mui/icons-material/TrendingDown';\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport SportsEsportsIcon from '@mui/icons-material/SportsEsports';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport SaveIcon from '@mui/icons-material/Save';\nimport ShareIcon from '@mui/icons-material/Share';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport SearchIcon from '@mui/icons-material/Search';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport CompareArrowsIcon from '@mui/icons-material/CompareArrows';\nimport RefreshIcon from '@mui/icons-material/Refresh';\n\n// Import components\nimport ReportViewer from './ReportViewer';\nimport NaturalLanguageQueryPanel from './NaturalLanguageQueryPanel';\nimport Card from '../common/Card';\n\n// Type definitions\nexport type GroupDimension = 'player' | 'whitelabel' | 'country' | 'gametype' | 'tier' | 'device' | 'playerStatus' | 'registrationSource';\nexport type TimeGrouping = 'day' | 'week' | 'month' | 'quarter' | 'year' | 'all';\nexport type VisualizationType = 'table' | 'bar' | 'line' | 'pie' | 'map' | 'mixed';\nexport type AggregationFunction = 'sum' | 'avg' | 'min' | 'max' | 'count' | 'countDistinct';\nexport type ReportMode = 'standard' | 'advanced' | 'expert';\nexport type ReportTab = 'overview' | 'trends' | 'players' | 'geography' | 'whitelabels' | 'games';\nexport type SortDirection = 'asc' | 'desc';\n\nexport interface DimensionOption {\n  value: GroupDimension;\n  label: string;\n  icon: React.ReactNode;\n}\n\nexport interface TimeGroupingOption {\n  value: TimeGrouping;\n  label: string;\n  icon: React.ReactNode;\n}\n\nexport interface VisualizationOption {\n  value: VisualizationType;\n  label: string;\n  icon: React.ReactNode;\n}\n\nexport interface MetricOption {\n  value: string;\n  label: string;\n  category: 'Financial' | 'Activity' | 'User' | 'Performance';\n  type: 'currency' | 'count' | 'time' | 'ratio' | 'percentage';\n}\n\nexport interface AggregationOption {\n  value: AggregationFunction;\n  label: string;\n}\n\nexport interface ReportModeOption {\n  value: ReportMode;\n  label: string;\n  description: string;\n}\n\nexport interface SelectedItem {\n  id: string;\n  name: string;\n}\n\nexport interface DrilldownLevel {\n  dimension: GroupDimension;\n  timeGrouping: TimeGrouping;\n  filters: {\n    dateRange: [Date | null, Date | null];\n    whitelabels: SelectedItem[];\n    countries: SelectedItem[];\n    playerTiers: SelectedItem[];\n    gameTypes: SelectedItem[];\n  };\n}\n\nexport interface ReportFilters {\n  dimension?: GroupDimension;\n  timeGrouping?: TimeGrouping;\n  dateRange?: [Date | null, Date | null];\n  metrics?: string[];\n  whitelabels?: SelectedItem[];\n  countries?: SelectedItem[];\n  playerTiers?: SelectedItem[];\n  gameTypes?: SelectedItem[];\n  aggregation?: AggregationFunction;\n  sortBy?: string;\n  sortDirection?: SortDirection;\n  limit?: number;\n  primary?: {\n    dateRange: [Date | null, Date | null];\n    whitelabels: SelectedItem[];\n    countries: SelectedItem[];\n    playerTiers: SelectedItem[];\n    gameTypes: SelectedItem[];\n  };\n  comparison?: {\n    dateRange: [Date | null, Date | null];\n    whitelabels: SelectedItem[];\n    countries: SelectedItem[];\n    playerTiers: SelectedItem[];\n    gameTypes: SelectedItem[];\n  };\n}\n\nexport interface SavedReportConfig {\n  id: string;\n  name: string;\n  timestamp: string;\n  configuration: {\n    dimension: GroupDimension;\n    timeGrouping: TimeGrouping;\n    visualizationType: VisualizationType;\n    metrics: string[];\n    filters: {\n      dateRange: [Date | null, Date | null];\n      whitelabels: SelectedItem[];\n      countries: SelectedItem[];\n      playerTiers: SelectedItem[];\n      gameTypes: SelectedItem[];\n    };\n    aggregation: AggregationFunction;\n    sortBy: string;\n    sortDirection: SortDirection;\n    limit: number;\n  };\n}\n\nexport interface DailyActionsReportProps extends CommonProps {\n  initialFilters?: ReportFilters;\n  loading?: boolean;\n  error?: Error | string | null;\n  data?: any;\n  onFilterChange?: (filters: ReportFilters) => void;\n  onRefresh?: (filters: ReportFilters) => void;\n  onExport?: (format: string, data?: any) => void;\n  onSave?: (config: any) => void;\n  onShare?: (data?: any) => void;\n  onExecuteQuery?: (query: string) => Promise<any>;\n  onDrillDown?: (filters: ReportFilters, item: any) => void;\n  savedConfigurations?: SavedReportConfig[];\n}\n\n/**\n * DailyActionsReport - Advanced comprehensive player analytics reporting\n *\n * Features:\n * - Multi-dimensional analysis (by player, whitelabel, country, etc.)\n * - Flexible time grouping (day, week, month, year, custom)\n * - Multiple visualization types (tables, charts, maps, etc.)\n * - Advanced filtering and comparison capabilities\n * - Drill-down analysis from macro to micro level\n * - Export in multiple formats\n * - Save and share report configurations\n */\nconst DailyActionsReport: React.FC<DailyActionsReportProps> = ({\n  initialFilters = {},\n  loading = false,\n  error = null,\n  data = {},\n  onFilterChange,\n  onRefresh,\n  onExport,\n  onSave,\n  onShare,\n  onExecuteQuery,\n  onDrillDown,\n  savedConfigurations = [],\n  sx\n}) => {\n  // ===== State Management =====\n  const [activeTab, setActiveTab] = useState<ReportTab>('overview');\n  const [visualizationType, setVisualizationType] = useState<VisualizationType>('table');\n  const [groupDimension, setGroupDimension] = useState<GroupDimension>('player');\n  const [timeGrouping, setTimeGrouping] = useState<TimeGrouping>('day');\n  const [showQueryPanel, setShowQueryPanel] = useState<boolean>(true);\n  const [customReportName, setCustomReportName] = useState<string>('');\n  const [advancedFiltersOpen, setAdvancedFiltersOpen] = useState<boolean>(false);\n  const [comparisonMode, setComparisonMode] = useState<boolean>(false);\n  const [comparisonFilters, setComparisonFilters] = useState<{\n    dateRange?: [Date | null, Date | null];\n    whitelabels?: SelectedItem[];\n    countries?: SelectedItem[];\n    playerTiers?: SelectedItem[];\n    gameTypes?: SelectedItem[];\n  }>({});\n  const [metricToSortBy, setMetricToSortBy] = useState<string>('totalRevenue');\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc');\n  const [rowLimit, setRowLimit] = useState<number>(20);\n  const [selectedDateRange, setSelectedDateRange] = useState<[Date | null, Date | null]>([null, null]);\n  const [aggregationFunction, setAggregationFunction] = useState<AggregationFunction>('sum');\n  const [selectedWhitelabels, setSelectedWhitelabels] = useState<SelectedItem[]>([]);\n  const [selectedCountries, setSelectedCountries] = useState<SelectedItem[]>([]);\n  const [selectedPlayerTiers, setSelectedPlayerTiers] = useState<SelectedItem[]>([]);\n  const [selectedGameTypes, setSelectedGameTypes] = useState<SelectedItem[]>([]);\n  const [selectedMetrics, setSelectedMetrics] = useState<string[]>([\n    'deposits', 'withdrawals', 'bets', 'wins', 'netGaming', 'uniquePlayers'\n  ]);\n  const [drilldownPath, setDrilldownPath] = useState<DrilldownLevel[]>([]);\n  const [reportMode, setReportMode] = useState<ReportMode>('standard'); // standard, advanced, expert\n  const [isQueryExecuting, setIsQueryExecuting] = useState<boolean>(false);\n  const [queryError, setQueryError] = useState<string | null>(null);\n  const [nlQueryResults, setNlQueryResults] = useState<any>(null);\n\n  // ===== Constants & Options =====\n\n  // Group Dimension Options\n  const dimensions: DimensionOption[] = [\n    { value: 'player', label: 'Player', icon: <GroupIcon fontSize=\"small\" /> },\n    { value: 'whitelabel', label: 'White Label', icon: <BusinessIcon fontSize=\"small\" /> },\n    { value: 'country', label: 'Country', icon: <PublicIcon fontSize=\"small\" /> },\n    { value: 'gametype', label: 'Game Type', icon: <SportsEsportsIcon fontSize=\"small\" /> },\n    { value: 'tier', label: 'Player Tier', icon: <AccountBalanceWalletIcon fontSize=\"small\" /> },\n    { value: 'device', label: 'Device Type', icon: <VisibilityIcon fontSize=\"small\" /> },\n    { value: 'playerStatus', label: 'Player Status', icon: <TrendingUpIcon fontSize=\"small\" /> },\n    { value: 'registrationSource', label: 'Registration Source', icon: <SearchIcon fontSize=\"small\" /> }\n  ];\n\n  // Time Grouping Options\n  const timeGroupings: TimeGroupingOption[] = [\n    { value: 'day', label: 'Daily', icon: <EventIcon fontSize=\"small\" /> },\n    { value: 'week', label: 'Weekly', icon: <CalendarViewMonthIcon fontSize=\"small\" /> },\n    { value: 'month', label: 'Monthly', icon: <CalendarViewMonthIcon fontSize=\"small\" /> },\n    { value: 'quarter', label: 'Quarterly', icon: <CalendarViewMonthIcon fontSize=\"small\" /> },\n    { value: 'year', label: 'Yearly', icon: <CalendarViewMonthIcon fontSize=\"small\" /> },\n    { value: 'all', label: 'All Time', icon: <CalendarViewMonthIcon fontSize=\"small\" /> }\n  ];\n\n  // Visualization Type Options\n  const visualizationTypes: VisualizationOption[] = [\n    { value: 'table', label: 'Table', icon: <TableChartIcon fontSize=\"small\" /> },\n    { value: 'bar', label: 'Bar Chart', icon: <BarChartIcon fontSize=\"small\" /> },\n    { value: 'line', label: 'Line Chart', icon: <TimelineIcon fontSize=\"small\" /> },\n    { value: 'pie', label: 'Pie Chart', icon: <PieChartIcon fontSize=\"small\" /> },\n    { value: 'map', label: 'Map View', icon: <MapIcon fontSize=\"small\" /> },\n    { value: 'mixed', label: 'Mixed View', icon: <TuneIcon fontSize=\"small\" /> }\n  ];\n\n  // Metric Options\n  const availableMetrics: MetricOption[] = [\n    { value: 'deposits', label: 'Deposits', category: 'Financial', type: 'currency' },\n    { value: 'withdrawals', label: 'Withdrawals', category: 'Financial', type: 'currency' },\n    { value: 'bets', label: 'Total Bets', category: 'Activity', type: 'currency' },\n    { value: 'wins', label: 'Total Wins', category: 'Activity', type: 'currency' },\n    { value: 'netGaming', label: 'Net Gaming Revenue', category: 'Financial', type: 'currency' },\n    { value: 'uniquePlayers', label: 'Unique Players', category: 'User', type: 'count' },\n    { value: 'activeUsers', label: 'Active Users', category: 'User', type: 'count' },\n    { value: 'newRegistrations', label: 'New Registrations', category: 'User', type: 'count' },\n    { value: 'sessions', label: 'Total Sessions', category: 'Activity', type: 'count' },\n    { value: 'avgSessionDuration', label: 'Avg. Session Duration', category: 'Activity', type: 'time' },\n    { value: 'gamesPlayed', label: 'Games Played', category: 'Activity', type: 'count' },\n    { value: 'betsPerPlayer', label: 'Bets per Player', category: 'Activity', type: 'ratio' },\n    { value: 'avgBetSize', label: 'Average Bet Size', category: 'Activity', type: 'currency' },\n    { value: 'conversionRate', label: 'Conversion Rate', category: 'Performance', type: 'percentage' },\n    { value: 'retentionRate', label: 'Retention Rate', category: 'Performance', type: 'percentage' },\n    { value: 'churnRate', label: 'Churn Rate', category: 'Performance', type: 'percentage' },\n    { value: 'depositConversion', label: 'Deposit Conversion', category: 'Performance', type: 'percentage' },\n    { value: 'arpu', label: 'ARPU', category: 'Financial', type: 'currency' },\n    { value: 'arppu', label: 'ARPPU', category: 'Financial', type: 'currency' },\n    { value: 'ltv', label: 'Lifetime Value', category: 'Financial', type: 'currency' }\n  ];\n\n  // Aggregation Function Options\n  const aggregationFunctions: AggregationOption[] = [\n    { value: 'sum', label: 'Sum' },\n    { value: 'avg', label: 'Average' },\n    { value: 'min', label: 'Minimum' },\n    { value: 'max', label: 'Maximum' },\n    { value: 'count', label: 'Count' },\n    { value: 'countDistinct', label: 'Count Distinct' }\n  ];\n\n  // Report Mode Options\n  const reportModes: ReportModeOption[] = [\n    { value: 'standard', label: 'Standard', description: 'Easy to use interface with common options' },\n    { value: 'advanced', label: 'Advanced', description: 'More options and customization capabilities' },\n    { value: 'expert', label: 'Expert', description: 'Full control over all report parameters' }\n  ];\n\n  // Natural language query suggestions specific to daily actions\n  const queryExamples: string[] = [\n    \"Show me top 10 players by total deposits for last month\",\n    \"Compare revenue by country for Q2 vs Q1\",\n    \"Which white labels have the highest player retention rate?\",\n    \"Show daily bets and wins trend for VIP players\",\n    \"What's the average session duration by device type?\",\n    \"Which games generate the most revenue by country?\",\n    \"Show me players with declining activity in the last 3 months\"\n  ];\n\n  // ===== Handlers =====\n\n  // Handle tab change\n  const handleTabChange = (event: React.SyntheticEvent, newValue: ReportTab): void => {\n    setActiveTab(newValue);\n  };\n\n  // Handle dimension change\n  const handleDimensionChange = (event: SelectChangeEvent): void => {\n    setGroupDimension(event.target.value as GroupDimension);\n  };\n\n  // Handle time grouping change\n  const handleTimeGroupingChange = (event: SelectChangeEvent): void => {\n    setTimeGrouping(event.target.value as TimeGrouping);\n  };\n\n  // Handle visualization type change\n  const handleVisualizationTypeChange = (event: SelectChangeEvent): void => {\n    setVisualizationType(event.target.value as VisualizationType);\n  };\n\n  // Handle metric selection change\n  const handleMetricChange = (event: SelectChangeEvent<string[]>): void => {\n    const {\n      target: { value },\n    } = event;\n    setSelectedMetrics(typeof value === 'string' ? value.split(',') : value);\n  };\n\n  // Handle natural language query submission\n  const handleQuerySubmit = async (query: string): Promise<void> => {\n    if (!onExecuteQuery) return;\n\n    setIsQueryExecuting(true);\n    setQueryError(null);\n\n    try {\n      const results = await onExecuteQuery(query);\n      setNlQueryResults(results);\n    } catch (err) {\n      const error = err as Error;\n      setQueryError(error.message || 'Failed to execute query');\n    } finally {\n      setIsQueryExecuting(false);\n    }\n  };\n\n  // Handle filter change and trigger data refresh\n  const handleApplyFilters = (): void => {\n    const filters: ReportFilters = {\n      dimension: groupDimension,\n      timeGrouping,\n      dateRange: selectedDateRange,\n      metrics: selectedMetrics,\n      whitelabels: selectedWhitelabels,\n      countries: selectedCountries,\n      playerTiers: selectedPlayerTiers,\n      gameTypes: selectedGameTypes,\n      aggregation: aggregationFunction,\n      sortBy: metricToSortBy,\n      sortDirection,\n      limit: rowLimit\n    };\n\n    if (onFilterChange) {\n      onFilterChange(filters);\n    }\n\n    if (onRefresh) {\n      onRefresh(filters);\n    }\n  };\n\n  // Handle drill down\n  const handleDrillDown = (item: any): void => {\n    // Add current view to drill down path\n    const newDrilldownPath = [...drilldownPath, {\n      dimension: groupDimension,\n      timeGrouping,\n      filters: {\n        dateRange: selectedDateRange,\n        whitelabels: selectedWhitelabels,\n        countries: selectedCountries,\n        playerTiers: selectedPlayerTiers,\n        gameTypes: selectedGameTypes\n      }\n    }];\n\n    setDrilldownPath(newDrilldownPath);\n\n    // Determine next dimension based on current\n    let nextDimension: GroupDimension = 'player';\n    if (groupDimension === 'whitelabel') nextDimension = 'player';\n    else if (groupDimension === 'country') nextDimension = 'whitelabel';\n    else if (groupDimension === 'gametype') nextDimension = 'player';\n\n    setGroupDimension(nextDimension);\n\n    // Apply drill down filters\n    const drillDownFilters: ReportFilters = {\n      dimension: nextDimension,\n      timeGrouping,\n      dateRange: selectedDateRange,\n      metrics: selectedMetrics,\n      whitelabels: groupDimension === 'whitelabel' ? [item.id] : selectedWhitelabels,\n      countries: groupDimension === 'country' ? [item.id] : selectedCountries,\n      playerTiers: groupDimension === 'tier' ? [item.id] : selectedPlayerTiers,\n      gameTypes: groupDimension === 'gametype' ? [item.id] : selectedGameTypes,\n      aggregation: aggregationFunction,\n      sortBy: metricToSortBy,\n      sortDirection,\n      limit: rowLimit\n    };\n\n    if (onDrillDown) {\n      onDrillDown(drillDownFilters, item);\n    }\n  };\n\n  // Handle drill up (go back in drill down path)\n  const handleDrillUp = (index: number): void => {\n    // Go back to the specific level in the drill path\n    if (index >= 0 && index < drilldownPath.length) {\n      const targetLevel = drilldownPath[index];\n      const newDrilldownPath = drilldownPath.slice(0, index);\n\n      setDrilldownPath(newDrilldownPath);\n      setGroupDimension(targetLevel.dimension);\n      setTimeGrouping(targetLevel.timeGrouping);\n      setSelectedDateRange(targetLevel.filters.dateRange);\n      setSelectedWhitelabels(targetLevel.filters.whitelabels);\n      setSelectedCountries(targetLevel.filters.countries);\n      setSelectedPlayerTiers(targetLevel.filters.playerTiers);\n      setSelectedGameTypes(targetLevel.filters.gameTypes);\n\n      // Apply the filters\n      handleApplyFilters();\n    }\n  };\n\n  // Toggle comparison mode\n  const handleToggleComparison = (): void => {\n    setComparisonMode(!comparisonMode);\n    if (!comparisonMode) {\n      // Save current filters for comparison\n      setComparisonFilters({\n        dateRange: selectedDateRange,\n        whitelabels: selectedWhitelabels,\n        countries: selectedCountries,\n        playerTiers: selectedPlayerTiers,\n        gameTypes: selectedGameTypes\n      });\n    }\n  };\n\n  // Apply comparison\n  const handleApplyComparison = (): void => {\n    // Create filters object with both primary and comparison filters\n    const filters: ReportFilters = {\n      dimension: groupDimension,\n      timeGrouping,\n      metrics: selectedMetrics,\n      aggregation: aggregationFunction,\n      sortBy: metricToSortBy,\n      sortDirection,\n      limit: rowLimit,\n      primary: {\n        dateRange: selectedDateRange,\n        whitelabels: selectedWhitelabels,\n        countries: selectedCountries,\n        playerTiers: selectedPlayerTiers,\n        gameTypes: selectedGameTypes\n      },\n      comparison: comparisonFilters as {\n        dateRange: [Date | null, Date | null];\n        whitelabels: SelectedItem[];\n        countries: SelectedItem[];\n        playerTiers: SelectedItem[];\n        gameTypes: SelectedItem[];\n      }\n    };\n\n    if (onFilterChange) {\n      onFilterChange(filters);\n    }\n\n    if (onRefresh) {\n      onRefresh(filters);\n    }\n  };\n\n  // Save current report configuration\n  const handleSaveReport = (): void => {\n    if (!customReportName.trim()) return;\n\n    const reportConfig = {\n      name: customReportName,\n      timestamp: new Date().toISOString(),\n      configuration: {\n        dimension: groupDimension,\n        timeGrouping,\n        visualizationType,\n        metrics: selectedMetrics,\n        filters: {\n          dateRange: selectedDateRange,\n          whitelabels: selectedWhitelabels,\n          countries: selectedCountries,\n          playerTiers: selectedPlayerTiers,\n          gameTypes: selectedGameTypes\n        },\n        aggregation: aggregationFunction,\n        sortBy: metricToSortBy,\n        sortDirection,\n        limit: rowLimit\n      }\n    };\n\n    if (onSave) {\n      onSave(reportConfig);\n    }\n\n    setCustomReportName('');\n  };\n\n  // Load a saved report configuration\n  const handleLoadConfiguration = (config: SavedReportConfig): void => {\n    if (!config || !config.configuration) return;\n\n    const { configuration } = config;\n\n    setGroupDimension(configuration.dimension);\n    setTimeGrouping(configuration.timeGrouping);\n    setVisualizationType(configuration.visualizationType);\n    setSelectedMetrics(configuration.metrics);\n    setSelectedDateRange(configuration.filters.dateRange);\n    setSelectedWhitelabels(configuration.filters.whitelabels);\n    setSelectedCountries(configuration.filters.countries);\n    setSelectedPlayerTiers(configuration.filters.playerTiers);\n    setSelectedGameTypes(configuration.filters.gameTypes);\n    setAggregationFunction(configuration.aggregation);\n    setMetricToSortBy(configuration.sortBy);\n    setSortDirection(configuration.sortDirection);\n    setRowLimit(configuration.limit);\n\n    // Apply loaded configuration\n    handleApplyFilters();\n  };\n\n  // Generate the report sections for ReportViewer\n  const generateReportSections = () => {\n    const sections = [];\n\n    // Main data visualization section\n    sections.push({\n      id: 'data-visualization',\n      title: `${dimensions.find(d => d.value === groupDimension)?.label || 'Data'} Analysis by ${timeGroupings.find(t => t.value === timeGrouping)?.label || 'Time'}`,\n      description: `${visualizationTypes.find(v => v.value === visualizationType)?.label || 'Visualization'} of selected metrics`,\n      content: (\n        <Box p={2}>\n          {loading ? (\n            <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n              <CircularProgress />\n            </Box>\n          ) : (\n            <Typography variant=\"body1\">\n              {/* In a real implementation, this would be dynamic based on visualizationType */}\n              Visualization of player daily actions data would be displayed here.\n              {comparisonMode && 'Comparison view is enabled.'}\n            </Typography>\n          )}\n        </Box>\n      )\n    });\n\n    // If we have NL query results, add that section\n    if (nlQueryResults) {\n      sections.push({\n        id: 'query-results',\n        title: 'Query Results',\n        description: 'Results from your natural language query',\n        content: (\n          <Box p={2}>\n            <Typography variant=\"body1\">\n              Query results would be displayed here.\n            </Typography>\n          </Box>\n        )\n      });\n    }\n\n    // Add summary section if in overview tab\n    if (activeTab === 'overview') {\n      sections.push({\n        id: 'summary-metrics',\n        title: 'Summary Metrics',\n        description: 'Key performance indicators and summary statistics',\n        content: (\n          <Box p={2}>\n            <Grid container spacing={3}>\n              {selectedMetrics.slice(0, 4).map((metric) => {\n                const metricInfo = availableMetrics.find(m => m.value === metric);\n                return (\n                  <Grid item xs={12} sm={6} md={3} key={metric}>\n                    <Paper sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                        {metricInfo?.label || metric}\n                      </Typography>\n                      <Typography variant=\"h4\" sx={{ mt: 1 }}>\n                        {loading ? (\n                          <CircularProgress size={24} />\n                        ) : (\n                          /* Mock data - would be replaced with actual data */\n                          metric === 'deposits' ? '$1,245,678' :\n                          metric === 'bets' ? '$3,456,789' :\n                          metric === 'wins' ? '$2,987,654' :\n                          metric === 'netGaming' ? '$469,135' :\n                          metric === 'uniquePlayers' ? '12,345' :\n                          '87.5%'\n                        )}\n                      </Typography>\n                      <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                        <Chip\n                          size=\"small\"\n                          color=\"success\"\n                          label=\"+8.2%\"\n                          icon={<TrendingUpIcon />}\n                          sx={{ height: 20, '& .MuiChip-label': { px: 1 }, '& .MuiChip-icon': { ml: 0.5 } }}\n                        />\n                        <Typography variant=\"caption\" color=\"text.secondary\" sx={{ ml: 1 }}>\n                          vs previous period\n                        </Typography>\n                      </Box>\n                    </Paper>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </Box>\n        )\n      });\n    }\n\n    // Add trend analysis section\n    sections.push({\n      id: 'trend-analysis',\n      title: 'Trend Analysis',\n      description: 'Trends and patterns over time',\n      content: (\n        <Box p={2}>\n          <Typography variant=\"body1\">\n            Time series analysis and trend visualization would be displayed here.\n          </Typography>\n        </Box>\n      )\n    });\n\n    return sections;\n  };\n\n  // ===== Main Render =====\n  return (\n    <Box sx={{ width: '100%', ...sx }}>\n      {/* Natural Language Query Panel */}\n      {showQueryPanel && (\n        <NaturalLanguageQueryPanel\n          onSearch={handleQuerySubmit}\n          onSaveQuery={(query: string) => {\n            // Save query logic would go here\n            console.log('Saving query:', query);\n          }}\n          loading={isQueryExecuting}\n          error={queryError}\n          showSuggestions={true}\n          suggestions={queryExamples}\n        />\n      )}\n\n      {/* Report Configuration and Control Panel */}\n      <Paper variant=\"outlined\" sx={{ p: 3, mb: 3, borderRadius: 1 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n          <Typography variant=\"h5\" sx={{ display: 'flex', alignItems: 'center' }}>\n            <TableChartIcon sx={{ mr: 1 }} />\n            Daily Actions Report\n          </Typography>\n\n          <Box sx={{ display: 'flex', gap: 2 }}>\n            {/* Save Report Config */}\n            <TextField\n              size=\"small\"\n              placeholder=\"Name this report\"\n              value={customReportName}\n              onChange={(e) => setCustomReportName(e.target.value)}\n              sx={{ width: 180 }}\n            />\n            <Button\n              variant=\"outlined\"\n              startIcon={<SaveIcon />}\n              disabled={!customReportName.trim()}\n              onClick={handleSaveReport}\n            >\n              Save\n            </Button>\n\n            {/* Load Saved Config */}\n            {savedConfigurations.length > 0 && (\n              <FormControl size=\"small\" sx={{ minWidth: 180 }}>\n                <InputLabel>Load Configuration</InputLabel>\n                <Select\n                  value=\"\"\n                  onChange={(e) => {\n                    const selectedConfig = savedConfigurations.find(config => config.id === e.target.value);\n                    if (selectedConfig) handleLoadConfiguration(selectedConfig);\n                  }}\n                  label=\"Load Configuration\"\n                >\n                  <MenuItem value=\"\" disabled>\n                    <em>Select saved report</em>\n                  </MenuItem>\n                  {savedConfigurations.map((config) => (\n                    <MenuItem key={config.id} value={config.id}>\n                      {config.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            )}\n\n            {/* Mode Selector */}\n            <FormControl size=\"small\" sx={{ minWidth: 130 }}>\n              <InputLabel>Report Mode</InputLabel>\n              <Select\n                value={reportMode}\n                onChange={(e) => setReportMode(e.target.value as ReportMode)}\n                label=\"Report Mode\"\n              >\n                {reportModes.map((mode) => (\n                  <MenuItem key={mode.value} value={mode.value}>\n                    {mode.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Toggle NL Query Panel */}\n            <Button\n              variant={showQueryPanel ? \"contained\" : \"outlined\"}\n              color=\"primary\"\n              onClick={() => setShowQueryPanel(!showQueryPanel)}\n            >\n              {showQueryPanel ? \"Hide Query\" : \"Show Query\"}\n            </Button>\n          </Box>\n        </Box>\n\n        <Divider sx={{ my: 2 }} />\n\n        {/* Main Filter Controls */}\n        <Grid container spacing={3}>\n          {/* Group Dimension */}\n          <Grid item xs={12} sm={6} md={3}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel>Group By</InputLabel>\n              <Select\n                value={groupDimension}\n                onChange={handleDimensionChange}\n                label=\"Group By\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    {dimensions.find(d => d.value === groupDimension)?.icon || <GroupIcon fontSize=\"small\" />}\n                  </InputAdornment>\n                }\n              >\n                {dimensions.map((dimension) => (\n                  <MenuItem key={dimension.value} value={dimension.value}>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      {dimension.icon}\n                      <Typography sx={{ ml: 1 }}>{dimension.label}</Typography>\n                    </Box>\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n\n          {/* Time Grouping */}\n          <Grid item xs={12} sm={6} md={3}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel>Time Grouping</InputLabel>\n              <Select\n                value={timeGrouping}\n                onChange={handleTimeGroupingChange}\n                label=\"Time Grouping\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    {timeGroupings.find(t => t.value === timeGrouping)?.icon || <EventIcon fontSize=\"small\" />}\n                  </InputAdornment>\n                }\n              >\n                {timeGroupings.map((time) => (\n                  <MenuItem key={time.value} value={time.value}>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      {time.icon}\n                      <Typography sx={{ ml: 1 }}>{time.label}</Typography>\n                    </Box>\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n\n          {/* Visualization Type */}\n          <Grid item xs={12} sm={6} md={3}>\n            <FormControl fullWidth size=\"small\">\n              <InputLabel>Visualization</InputLabel>\n              <Select\n                value={visualizationType}\n                onChange={handleVisualizationTypeChange}\n                label=\"Visualization\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    {visualizationTypes.find(v => v.value === visualizationType)?.icon || <TableChartIcon fontSize=\"small\" />}\n                  </InputAdornment>\n                }\n              >\n                {visualizationTypes.map((viz) => (\n                  <MenuItem key={viz.value} value={viz.value}>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      {viz.icon}\n                      <Typography sx={{ ml: 1 }}>{viz.label}</Typography>\n                    </Box>\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n\n          {/* Date Range */}\n          <Grid item xs={12} sm={6} md={3}>\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\n              <Box sx={{ display: 'flex', gap: 1 }}>\n                <DatePicker\n                  label=\"From\"\n                  value={selectedDateRange[0]}\n                  onChange={(newValue) => {\n                    setSelectedDateRange([newValue, selectedDateRange[1]]);\n                  }}\n                  slotProps={{ textField: { size: 'small', fullWidth: true } }}\n                />\n                <DatePicker\n                  label=\"To\"\n                  value={selectedDateRange[1]}\n                  onChange={(newValue) => {\n                    setSelectedDateRange([selectedDateRange[0], newValue]);\n                  }}\n                  slotProps={{ textField: { size: 'small', fullWidth: true } }}\n                />\n              </Box>\n            </LocalizationProvider>\n          </Grid>\n        </Grid>\n\n        {/* Advanced Filters Toggle */}\n        <Box sx={{ mt: 2, display: 'flex', justifyContent: 'space-between' }}>\n          <Button\n            startIcon={<FilterListIcon />}\n            onClick={() => setAdvancedFiltersOpen(!advancedFiltersOpen)}\n            sx={{ borderBottom: advancedFiltersOpen ? '2px solid' : 'none', borderRadius: 0, pb: 0.5 }}\n            color=\"primary\"\n          >\n            {advancedFiltersOpen ? 'Hide Advanced Filters' : 'Show Advanced Filters'}\n          </Button>\n\n          <Box sx={{ display: 'flex', gap: 1 }}>\n            <Button\n              variant=\"outlined\"\n              startIcon={<RefreshIcon />}\n              onClick={handleApplyFilters}\n              disabled={loading}\n            >\n              Refresh Data\n            </Button>\n\n            <Button\n              variant={comparisonMode ? 'contained' : 'outlined'}\n              startIcon={<CompareArrowsIcon />}\n              onClick={handleToggleComparison}\n              disabled={loading}\n              color={comparisonMode ? 'primary' : 'inherit'}\n            >\n              {comparisonMode ? 'Comparison Mode' : 'Enable Comparison'}\n            </Button>\n          </Box>\n        </Box>\n\n        {/* Advanced Filters Panel */}\n        <Collapse in={advancedFiltersOpen}>\n          <Box sx={{ mt: 3, p: 2, bgcolor: 'background.paper', borderRadius: 1 }}>\n            <Grid container spacing={3}>\n              {/* Metrics Selection */}\n              <Grid item xs={12} md={6}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>Metrics</InputLabel>\n                  <Select\n                    multiple\n                    value={selectedMetrics}\n                    onChange={handleMetricChange}\n                    input={<OutlinedInput label=\"Metrics\" />}\n                    renderValue={(selected) => (\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\n                        {selected.map((value) => (\n                          <Chip\n                            key={value}\n                            label={availableMetrics.find(m => m.value === value)?.label || value}\n                            size=\"small\"\n                          />\n                        ))}\n                      </Box>\n                    )}\n                    MenuProps={{\n                      PaperProps: {\n                        style: {\n                          maxHeight: 300,\n                        },\n                      },\n                    }}\n                  >\n                    <ListSubheader>Financial</ListSubheader>\n                    {availableMetrics.filter(m => m.category === 'Financial').map((metric) => (\n                      <MenuItem key={metric.value} value={metric.value}>\n                        <Checkbox checked={selectedMetrics.indexOf(metric.value) > -1} />\n                        <ListItemText primary={metric.label} />\n                      </MenuItem>\n                    ))}\n\n                    <ListSubheader>Activity</ListSubheader>\n                    {availableMetrics.filter(m => m.category === 'Activity').map((metric) => (\n                      <MenuItem key={metric.value} value={metric.value}>\n                        <Checkbox checked={selectedMetrics.indexOf(metric.value) > -1} />\n                        <ListItemText primary={metric.label} />\n                      </MenuItem>\n                    ))}\n\n                    <ListSubheader>User</ListSubheader>\n                    {availableMetrics.filter(m => m.category === 'User').map((metric) => (\n                      <MenuItem key={metric.value} value={metric.value}>\n                        <Checkbox checked={selectedMetrics.indexOf(metric.value) > -1} />\n                        <ListItemText primary={metric.label} />\n                      </MenuItem>\n                    ))}\n\n                    <ListSubheader>Performance</ListSubheader>\n                    {availableMetrics.filter(m => m.category === 'Performance').map((metric) => (\n                      <MenuItem key={metric.value} value={metric.value}>\n                        <Checkbox checked={selectedMetrics.indexOf(metric.value) > -1} />\n                        <ListItemText primary={metric.label} />\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Aggregation and Sorting */}\n              <Grid item xs={12} md={6}>\n                <Grid container spacing={2}>\n                  {/* Aggregation Function */}\n                  <Grid item xs={12} sm={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Aggregation</InputLabel>\n                      <Select\n                        value={aggregationFunction}\n                        onChange={(e) => setAggregationFunction(e.target.value as AggregationFunction)}\n                        label=\"Aggregation\"\n                      >\n                        {aggregationFunctions.map((agg) => (\n                          <MenuItem key={agg.value} value={agg.value}>\n                            {agg.label}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  {/* Sort By */}\n                  <Grid item xs={12} sm={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Sort By</InputLabel>\n                      <Select\n                        value={metricToSortBy}\n                        onChange={(e) => setMetricToSortBy(e.target.value)}\n                        label=\"Sort By\"\n                      >\n                        {selectedMetrics.map((metric) => (\n                          <MenuItem key={metric} value={metric}>\n                            {availableMetrics.find(m => m.value === metric)?.label || metric}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  {/* Sort Direction */}\n                  <Grid item xs={12} sm={4}>\n                    <FormControl fullWidth size=\"small\">\n                      <InputLabel>Direction</InputLabel>\n                      <Select\n                        value={sortDirection}\n                        onChange={(e) => setSortDirection(e.target.value as SortDirection)}\n                        label=\"Direction\"\n                      >\n                        <MenuItem value=\"asc\">Ascending</MenuItem>\n                        <MenuItem value=\"desc\">Descending</MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n\n                  {/* Row Limit */}\n                  <Grid item xs={12}>\n                    <TextField\n                      fullWidth\n                      label=\"Row Limit\"\n                      type=\"number\"\n                      size=\"small\"\n                      value={rowLimit}\n                      onChange={(e) => setRowLimit(parseInt(e.target.value) || 20)}\n                      InputProps={{\n                        inputProps: {\n                          min: 1,\n                          max: 1000\n                        }\n                      }}\n                    />\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Box>\n        </Collapse>\n\n        {/* Comparison Mode Settings */}\n        {comparisonMode && (\n          <Box sx={{ mt: 3, p: 2, bgcolor: 'background.paper', borderRadius: 1, border: '1px dashed', borderColor: 'primary.main' }}>\n            <Typography variant=\"subtitle1\" gutterBottom sx={{ display: 'flex', alignItems: 'center' }}>\n              <CompareArrowsIcon sx={{ mr: 1 }} />\n              Comparison Settings\n            </Typography>\n\n            <Grid container spacing={2}>\n              {/* Comparison Date Range */}\n              <Grid item xs={12} md={4}>\n                <LocalizationProvider dateAdapter={AdapterDateFns}>\n                  <Box sx={{ display: 'flex', gap: 1 }}>\n                    <DatePicker\n                      label=\"Compare From\"\n                      value={comparisonFilters.dateRange ? comparisonFilters.dateRange[0] : null}\n                      onChange={(newValue) => {\n                        setComparisonFilters({\n                          ...comparisonFilters,\n                          dateRange: [newValue, comparisonFilters.dateRange ? comparisonFilters.dateRange[1] : null]\n                        });\n                      }}\n                      slotProps={{ textField: { size: 'small', fullWidth: true } }}\n                    />\n                    <DatePicker\n                      label=\"Compare To\"\n                      value={comparisonFilters.dateRange ? comparisonFilters.dateRange[1] : null}\n                      onChange={(newValue) => {\n                        setComparisonFilters({\n                          ...comparisonFilters,\n                          dateRange: [comparisonFilters.dateRange ? comparisonFilters.dateRange[0] : null, newValue]\n                        });\n                      }}\n                      slotProps={{ textField: { size: 'small', fullWidth: true } }}\n                    />\n                  </Box>\n                </LocalizationProvider>\n              </Grid>\n\n              {/* Quick Date Comparison Presets */}\n              <Grid item xs={12} md={4}>\n                <FormControl fullWidth size=\"small\">\n                  <InputLabel>Quick Compare</InputLabel>\n                  <Select\n                    value=\"\"\n                    onChange={(e) => {\n                      // Logic to set comparison date range based on preset\n                      const now = new Date();\n                      const primaryStart = selectedDateRange[0] || now;\n                      const primaryEnd = selectedDateRange[1] || now;\n                      const primaryRange = primaryEnd.getTime() - primaryStart.getTime();\n\n                      let comparisonStart, comparisonEnd;\n\n                      switch(e.target.value) {\n                        case 'previous_period':\n                          comparisonStart = new Date(primaryStart.getTime() - primaryRange);\n                          comparisonEnd = new Date(primaryEnd.getTime() - primaryRange);\n                          break;\n                        case 'previous_year':\n                          comparisonStart = new Date(primaryStart);\n                          comparisonStart.setFullYear(comparisonStart.getFullYear() - 1);\n                          comparisonEnd = new Date(primaryEnd);\n                          comparisonEnd.setFullYear(comparisonEnd.getFullYear() - 1);\n                          break;\n                        case 'ytd':\n                          comparisonStart = new Date(now.getFullYear() - 1, 0, 1);\n                          comparisonEnd = new Date(now.getFullYear() - 1, now.getMonth(), now.getDate());\n                          break;\n                        default:\n                          return;\n                      }\n\n                      setComparisonFilters({\n                        ...comparisonFilters,\n                        dateRange: [comparisonStart, comparisonEnd]\n                      });\n                    }}\n                    label=\"Quick Compare\"\n                  >\n                    <MenuItem value=\"\" disabled>\n                      <em>Select comparison period</em>\n                    </MenuItem>\n                    <MenuItem value=\"previous_period\">Previous Period</MenuItem>\n                    <MenuItem value=\"previous_year\">Previous Year</MenuItem>\n                    <MenuItem value=\"ytd\">Year-to-Date</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Apply Comparison Button */}\n              <Grid item xs={12} md={4} sx={{ display: 'flex', alignItems: 'center' }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleApplyComparison}\n                  fullWidth\n                  disabled={!comparisonFilters.dateRange || !comparisonFilters.dateRange[0] || !comparisonFilters.dateRange[1]}\n                >\n                  Apply Comparison\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        )}\n\n        {/* Drill Down Path Breadcrumbs */}\n        {drilldownPath.length > 0 && (\n          <Box sx={{ mt: 2, display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: 1 }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Drill Path:\n            </Typography>\n            {drilldownPath.map((level, index) => (\n              <React.Fragment key={index}>\n                <Chip\n                  label={`${dimensions.find(d => d.value === level.dimension)?.label || level.dimension}`}\n                  size=\"small\"\n                  onClick={() => handleDrillUp(index)}\n                  clickable\n                />\n                {index < drilldownPath.length - 1 && (\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mx: 0.5 }}>\n                    &gt;\n                  </Typography>\n                )}\n              </React.Fragment>\n            ))}\n            <Chip\n              label={dimensions.find(d => d.value === groupDimension)?.label || groupDimension}\n              size=\"small\"\n              color=\"primary\"\n              variant=\"outlined\"\n            />\n          </Box>\n        )}\n      </Paper>\n\n      {/* Tabs for report views */}\n      <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 3 }}>\n        <Tabs\n          value={activeTab}\n          onChange={handleTabChange}\n          variant=\"scrollable\"\n          scrollButtons=\"auto\"\n        >\n          <Tab label=\"Overview\" value=\"overview\" icon={<TableChartIcon />} iconPosition=\"start\" />\n          <Tab label=\"Trends\" value=\"trends\" icon={<TimelineIcon />} iconPosition=\"start\" />\n          <Tab label=\"Players\" value=\"players\" icon={<GroupIcon />} iconPosition=\"start\" />\n          <Tab label=\"Geography\" value=\"geography\" icon={<PublicIcon />} iconPosition=\"start\" />\n          <Tab label=\"White Labels\" value=\"whitelabels\" icon={<BusinessIcon />} iconPosition=\"start\" />\n          <Tab label=\"Games\" value=\"games\" icon={<SportsEsportsIcon />} iconPosition=\"start\" />\n        </Tabs>\n      </Box>\n\n      {/* Main Report Content using ReportViewer */}\n      <ReportViewer\n        title={`Daily Actions - ${dimensions.find(d => d.value === groupDimension)?.label || 'Report'}`}\n        description={`Analysis of player metrics grouped by ${dimensions.find(d => d.value === groupDimension)?.label.toLowerCase() || 'dimension'} with ${timeGroupings.find(t => t.value === timeGrouping)?.label.toLowerCase() || 'time'} grouping.`}\n        loading={loading}\n        error={error}\n        sections={generateReportSections()}\n        data={data}\n        onRefresh={handleApplyFilters}\n        onExport={onExport}\n        onSave={handleSaveReport}\n        onShare={onShare}\n        showExport={true}\n      />\n\n      {/* Table View for Tabular Data (shown only when in table visualization) */}\n      {visualizationType === 'table' && data && (\n        <Card\n          title=\"Data Table\"\n          subheader=\"Detailed tabular view of the data\"\n          sx={{ mt: 3 }}\n        >\n          <Box p={2}>\n            <Typography variant=\"body1\">\n              Detailed data table would be displayed here.\n              {comparisonMode && ' Comparison data would be shown side by side.'}\n            </Typography>\n          </Box>\n        </Card>\n      )}\n    </Box>\n  );\n};\n\nexport default DailyActionsReport;\n","/**\n * Mock data for component showcase\n */\n\n// Mock data for filter components\nexport const mockFilterData = {\n  dataSource: {\n    schema: [\n      { id: 'date', name: 'Date', type: 'date', filterable: true, description: 'Transaction date' },\n      { id: 'amount', name: 'Amount', type: 'number', filterable: true, description: 'Transaction amount' },\n      { id: 'status', name: 'Status', type: 'string', filterable: true, description: 'Transaction status' },\n      { id: 'customer', name: 'Customer', type: 'string', filterable: true, description: 'Customer name' },\n      { id: 'country', name: 'Country', type: 'string', filterable: true, description: 'Country' },\n      { id: 'isActive', name: 'Is Active', type: 'boolean', filterable: true, description: 'Active status' }\n    ]\n  },\n  filters: [\n    {\n      id: 'filter_1',\n      field: 'date',\n      operator: 'between',\n      value: { from: new Date('2023-01-01'), to: new Date('2023-12-31') },\n      displayValue: 'From 01/01/2023 to 12/31/2023'\n    },\n    {\n      id: 'filter_2',\n      field: 'amount',\n      operator: 'greaterThan',\n      value: '1000',\n      displayValue: '1000'\n    }\n  ]\n};\n\n// Mock data for report components\nexport const mockReportData = {\n  sections: [\n    {\n      id: 'section-1',\n      title: 'Summary Metrics',\n      description: 'Key performance indicators',\n      content: 'This section would display summary metrics and KPIs.'\n    },\n    {\n      id: 'section-2',\n      title: 'Data Visualization',\n      description: 'Charts and graphs',\n      content: 'This section would display charts and data visualizations.'\n    },\n    {\n      id: 'section-3',\n      title: 'Detailed Data',\n      description: 'Tabular data display',\n      content: 'This section would display detailed tabular data.'\n    }\n  ],\n  data: {\n    summary: {\n      totalRevenue: 1245678,\n      totalOrders: 8765,\n      averageOrderValue: 142.12,\n      conversionRate: 3.45\n    },\n    byDimension: [\n      { id: 'dim-1', name: 'Category A', value: 450000 },\n      { id: 'dim-2', name: 'Category B', value: 325000 },\n      { id: 'dim-3', name: 'Category C', value: 275000 },\n      { id: 'dim-4', name: 'Category D', value: 195678 }\n    ]\n  }\n};\n\n// Mock data for natural language query\nexport const mockQuerySuggestions = [\n  \"Show me total revenue by month for last quarter\",\n  \"What are the top 5 performing products?\",\n  \"Compare conversion rates between desktop and mobile\",\n  \"Show user growth trend over the past year\",\n  \"Which countries have the highest average order value?\",\n  \"Show me daily active users for the past week\"\n];\n\n// Mock data for daily actions report\nexport const mockDailyActionsData = {\n  summary: {\n    totalRegistrations: 12345,\n    totalFTD: 5678,\n    totalDeposits: 98765,\n    totalCashouts: 76543,\n    totalGGR: 543210\n  },\n  dailyActions: [\n    {\n      id: 'day-1',\n      date: '2023-05-01',\n      whiteLabelName: 'Casino Royale',\n      whiteLabelId: 'casino-royale',\n      registrations: 45,\n      ftd: 22,\n      deposits: 156,\n      paidCashouts: 89,\n      ggrCasino: 3450,\n      ggrSport: 1250,\n      ggrLive: 980,\n      totalGGR: 5680\n    },\n    {\n      id: 'day-2',\n      date: '2023-05-02',\n      whiteLabelName: 'Casino Royale',\n      whiteLabelId: 'casino-royale',\n      registrations: 38,\n      ftd: 19,\n      deposits: 142,\n      paidCashouts: 76,\n      ggrCasino: 3120,\n      ggrSport: 1180,\n      ggrLive: 850,\n      totalGGR: 5150\n    },\n    {\n      id: 'day-3',\n      date: '2023-05-03',\n      whiteLabelName: 'Casino Royale',\n      whiteLabelId: 'casino-royale',\n      registrations: 52,\n      ftd: 26,\n      deposits: 178,\n      paidCashouts: 95,\n      ggrCasino: 3780,\n      ggrSport: 1320,\n      ggrLive: 1050,\n      totalGGR: 6150\n    },\n    {\n      id: 'day-4',\n      date: '2023-05-01',\n      whiteLabelName: 'Lucky Spin',\n      whiteLabelId: 'lucky-spin',\n      registrations: 35,\n      ftd: 17,\n      deposits: 128,\n      paidCashouts: 65,\n      ggrCasino: 2850,\n      ggrSport: 980,\n      ggrLive: 720,\n      totalGGR: 4550\n    }\n  ]\n};\n\nexport default {\n  mockFilterData,\n  mockReportData,\n  mockQuerySuggestions,\n  mockDailyActionsData\n};\n","import React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n  Box,\n  Container,\n  Typography,\n  Paper,\n  Grid,\n  Tabs,\n  Tab,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemButton,\n  Button,\n  Card as MuiCard,\n  CardContent,\n  CardHeader\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\n\n// Import report components\nimport {\n  ReportFilterSelector,\n  ReportColumnSelector,\n  ReportDataSourceSelector,\n  ReportFilterSelector as ReportFilter,\n  ReportList,\n  ReportPreview,\n  ReportScheduleDialog,\n  ReportShareDialog,\n  ReportTemplate\n} from '../../components/reports';\nimport NaturalLanguageQueryPanel from '../../components/reports/NaturalLanguageQueryPanel';\nimport ReportViewer from '../../components/reports/ReportViewer';\nimport DailyActionsReport from '../../components/reports/DailyActionsReport';\n\n// Import mock data\nimport {\n  mockFilterData,\n  mockReportData,\n  mockQuerySuggestions,\n  mockDailyActionsData\n} from '../../mockData/showcase';\n\n// Define component categories\ninterface ComponentCategory {\n  id: string;\n  name: string;\n  components: ComponentItem[];\n}\n\ninterface ComponentItem {\n  id: string;\n  name: string;\n  description: string;\n  component: React.ReactNode;\n}\n\n/**\n * Report Components Showcase Page\n * Displays report UI components with mock data for exploration\n */\nconst ReportComponentsShowcase: React.FC = () => {\n  const [selectedCategory, setSelectedCategory] = useState<string>('filters');\n  const [selectedComponent, setSelectedComponent] = useState<string>('reportFilterSelector');\n\n  // Prepare mock data for components\n  const mockReportSections = mockReportData.sections.map(section => ({\n    ...section,\n    content: (\n      <Box p={2}>\n        <Typography variant=\"body1\">\n          {section.content}\n        </Typography>\n      </Box>\n    )\n  }));\n\n  // Define component categories and their components\n  const componentCategories: ComponentCategory[] = [\n    {\n      id: 'filters',\n      name: 'Filters & Selectors',\n      components: [\n        {\n          id: 'reportFilterSelector',\n          name: 'Report Filter Selector',\n          description: 'Component for defining report filters',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportFilterSelector\n                dataSource={mockFilterData.dataSource}\n                filters={mockFilterData.filters}\n                onChange={(filters) => console.log('Filters changed:', filters)}\n              />\n            </Paper>\n          )\n        },\n\n        {\n          id: 'reportColumnSelector',\n          name: 'Report Column Selector',\n          description: 'Component for selecting columns to display in a report',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportColumnSelector\n                dataSource={{\n                  schema: [\n                    { id: 'date', name: 'Date', type: 'date' },\n                    { id: 'label', name: 'Label', type: 'string' },\n                    { id: 'country', name: 'Country', type: 'string' },\n                    { id: 'registrations', name: 'Registrations', type: 'number' },\n                    { id: 'deposits', name: 'Deposits', type: 'number' },\n                    { id: 'withdrawals', name: 'Withdrawals', type: 'number' }\n                  ]\n                }}\n                selectedColumns={[\n                  { id: 'date', name: 'Date', type: 'date', width: '150px', visible: true, aggregation: null },\n                  { id: 'label', name: 'Label', type: 'string', width: '150px', visible: true, aggregation: null },\n                  { id: 'registrations', name: 'Registrations', type: 'number', width: '150px', visible: true, aggregation: null },\n                  { id: 'deposits', name: 'Deposits', type: 'number', width: '150px', visible: true, aggregation: null },\n                  { id: 'withdrawals', name: 'Withdrawals', type: 'number', width: '150px', visible: false, aggregation: null }\n                ]}\n                onChange={(columns) => console.log('Columns changed:', columns)}\n              />\n            </Paper>\n          )\n        },\n        {\n          id: 'reportDataSourceSelector',\n          name: 'Report Data Source Selector',\n          description: 'Component for selecting the data source for a report',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportDataSourceSelector\n                availableDataSources={[\n                  { id: 'dailyActions', name: 'Daily Actions', type: 'database', description: 'Daily player activity data' },\n                  { id: 'transactions', name: 'Transactions', type: 'database', description: 'Financial transaction data' },\n                  { id: 'players', name: 'Players', type: 'database', description: 'Player profile data' }\n                ]}\n                selected={{ id: 'dailyActions', name: 'Daily Actions', type: 'database', description: 'Daily player activity data' }}\n                onChange={(dataSource) => console.log('Data source changed:', dataSource)}\n              />\n            </Paper>\n          )\n        }\n      ]\n    },\n    {\n      id: 'reports',\n      name: 'Report Components',\n      components: [\n        {\n          id: 'reportViewer',\n          name: 'Report Viewer',\n          description: 'Component for displaying report data and sections',\n          component: (\n            <ReportViewer\n              title=\"Sample Report\"\n              description=\"This is a sample report for demonstration purposes\"\n              sections={mockReportSections}\n              data={mockReportData.data}\n              onRefresh={() => console.log('Refresh report')}\n              onExport={(format) => console.log('Export report as', format)}\n              showExport={true}\n            />\n          )\n        },\n        {\n          id: 'dailyActionsReport',\n          name: 'Daily Actions Report',\n          description: 'Comprehensive daily actions reporting component',\n          component: (\n            <DailyActionsReport\n              data={mockDailyActionsData}\n              onFilterChange={(filters) => console.log('Filters changed:', filters)}\n              onRefresh={(filters) => console.log('Refresh with filters:', filters)}\n              onExport={(format) => console.log('Export as', format)}\n            />\n          )\n        },\n        {\n          id: 'reportPreview',\n          name: 'Report Preview',\n          description: 'Component for previewing a report before generating it',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportPreview\n                config={{\n                  name: 'Daily Actions Report',\n                  description: 'Summary of daily player actions',\n                  dataSource: { id: 'dailyActions', name: 'Daily Actions' },\n                  filters: [\n                    { column: 'dateRange', operator: 'equals', value: 'Last 7 days' },\n                    { column: 'labels', operator: 'equals', value: 'All' },\n                    { column: 'groupBy', operator: 'equals', value: 'Day' }\n                  ],\n                  columns: [\n                    { id: 'date', name: 'Date', type: 'date', width: '150px', visible: true, aggregation: null },\n                    { id: 'label', name: 'Label', type: 'string', width: '150px', visible: true, aggregation: null },\n                    { id: 'registrations', name: 'Registrations', type: 'number', width: '150px', visible: true, aggregation: null },\n                    { id: 'deposits', name: 'Deposits', type: 'number', width: '150px', visible: true, aggregation: null },\n                    { id: 'withdrawals', name: 'Withdrawals', type: 'number', width: '150px', visible: true, aggregation: null }\n                  ],\n                  sortBy: null,\n                  groupBy: null\n                }}\n                data={mockDailyActionsData.dailyActions}\n                onRefresh={() => console.log('Refresh report')}\n                onConfigChange={() => console.log('Edit report configuration')}\n              />\n            </Paper>\n          )\n        },\n        {\n          id: 'reportTemplate',\n          name: 'Report Template',\n          description: 'Component for creating and editing report templates',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportTemplate\n                template={{\n                  id: '1',\n                  name: 'Daily Activity Summary',\n                  description: 'Daily summary of player activities',\n                  dataSource: 'dailyActions',\n                  filters: [\n                    { id: 'dateRange', field: 'dateRange', operator: 'equals', value: 'last7Days' },\n                    { id: 'groupBy', field: 'groupBy', operator: 'equals', value: 'day' }\n                  ],\n                  sections: [],\n                  isPublic: false,\n                  createdBy: 'admin',\n                  createdAt: null,\n                  updatedAt: null\n                }}\n                onSave={(template) => console.log('Template saved:', template)}\n              />\n            </Paper>\n          )\n        }\n      ]\n    },\n    {\n      id: 'query',\n      name: 'Query Components',\n      components: [\n        {\n          id: 'naturalLanguageQuery',\n          name: 'Natural Language Query',\n          description: 'Component for querying data using natural language',\n          component: (\n            <NaturalLanguageQueryPanel\n              onSearch={(query) => console.log('Search query:', query)}\n              suggestions={mockQuerySuggestions}\n            />\n          )\n        },\n\n      ]\n    },\n    {\n      id: 'management',\n      name: 'Report Management',\n      components: [\n        {\n          id: 'reportList',\n          name: 'Report List',\n          description: 'Component for displaying a list of reports',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <ReportList\n                reports={[\n                  {\n                    id: '1',\n                    name: 'Daily Activity Report',\n                    type: 'daily',\n                    createdAt: '2023-01-01',\n                    updatedAt: '2023-05-01',\n                    createdBy: 'admin'\n                  },\n                  {\n                    id: '2',\n                    name: 'Monthly Revenue Report',\n                    type: 'revenue',\n                    createdAt: '2023-02-01',\n                    updatedAt: '2023-05-01',\n                    createdBy: 'admin'\n                  },\n                  {\n                    id: '3',\n                    name: 'Player Retention Analysis',\n                    type: 'player',\n                    createdAt: '2023-03-01',\n                    updatedAt: '2023-05-01',\n                    createdBy: 'admin'\n                  }\n                ]}\n                onViewReport={(report) => console.log('View report:', report.id)}\n                onEditReport={(report) => console.log('Edit report:', report.id)}\n                onDeleteReport={(report) => console.log('Delete report:', report.id)}\n                onDuplicateReport={(report) => console.log('Duplicate report:', report.id)}\n              />\n            </Paper>\n          )\n        },\n\n        {\n          id: 'reportScheduleDialog',\n          name: 'Report Schedule Dialog',\n          description: 'Dialog for scheduling reports',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                <Typography variant=\"body1\">\n                  Click the button below to open the schedule dialog:\n                </Typography>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => console.log('Open schedule dialog')}\n                >\n                  Schedule Report\n                </Button>\n                <ReportScheduleDialog\n                  open={false}\n                  onClose={() => console.log('Dialog closed')}\n                  onAddSchedule={(schedule) => console.log('Schedule added:', schedule)}\n                  report={{\n                    id: '1',\n                    title: 'Daily Activity Report',\n                    description: 'Daily summary of player activities',\n                    type: 'daily',\n                    createdAt: '2023-01-01',\n                    updatedAt: '2023-05-01',\n                    createdBy: 'admin'\n                  }}\n                  schedules={[\n                    {\n                      id: 'sched1',\n                      frequency: 'daily',\n                      weekday: 1,\n                      monthDay: 1,\n                      time: new Date('2023-01-01T08:00:00'),\n                      exportFormat: 'pdf',\n                      recipientIds: ['user1', 'user2'],\n                      includeEmail: true,\n                      includeNotification: true,\n                      active: true\n                    }\n                  ]}\n                />\n              </Box>\n            </Paper>\n          )\n        },\n        {\n          id: 'reportShareDialog',\n          name: 'Report Share Dialog',\n          description: 'Dialog for sharing reports',\n          component: (\n            <Paper sx={{ p: 3 }}>\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n                <Typography variant=\"body1\">\n                  Click the button below to open the share dialog:\n                </Typography>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => console.log('Open share dialog')}\n                >\n                  Share Report\n                </Button>\n                <ReportShareDialog\n                  open={false}\n                  onClose={() => console.log('Dialog closed')}\n                  onAddUser={(users, permission) => console.log('Users added:', users, 'with permission:', permission)}\n                  report={{\n                    id: '1',\n                    name: 'Daily Activity Report',\n                    type: 'daily',\n                    createdAt: '2023-01-01',\n                    updatedAt: '2023-05-01',\n                    createdBy: 'admin'\n                  }}\n                  availableUsers={[\n                    { id: 'user1', name: 'John Doe', email: 'john@example.com' },\n                    { id: 'user2', name: 'Jane Smith', email: 'jane@example.com' }\n                  ]}\n                />\n              </Box>\n            </Paper>\n          )\n        }\n      ]\n    }\n  ];\n\n  // Find the currently selected component\n  const getSelectedComponent = () => {\n    const category = componentCategories.find(cat => cat.id === selectedCategory);\n    if (!category) return null;\n\n    const component = category.components.find(comp => comp.id === selectedComponent);\n    return component;\n  };\n\n  const currentComponent = getSelectedComponent();\n\n  return (\n    <Container maxWidth=\"xl\" sx={{ py: 4 }}>\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n        <Button\n          component={RouterLink}\n          to=\"/showcase\"\n          startIcon={<ArrowBackIcon />}\n          sx={{ mr: 2 }}\n        >\n          Back to Showcase\n        </Button>\n        <Typography variant=\"h4\">\n          Report Components\n        </Typography>\n      </Box>\n      <Typography variant=\"subtitle1\" color=\"text.secondary\" paragraph>\n        Components for building and displaying reports\n      </Typography>\n\n      <Grid container spacing={3}>\n        {/* Sidebar with component categories and list */}\n        <Grid item xs={12} md={3}>\n          <Paper sx={{ p: 0, height: '100%' }}>\n            <Tabs\n              value={selectedCategory}\n              onChange={(_, value) => {\n                setSelectedCategory(value);\n                // Select the first component in the category\n                const category = componentCategories.find(cat => cat.id === value);\n                if (category && category.components.length > 0) {\n                  setSelectedComponent(category.components[0].id);\n                }\n              }}\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              sx={{ borderBottom: 1, borderColor: 'divider' }}\n            >\n              {componentCategories.map((category) => (\n                <Tab key={category.id} label={category.name} value={category.id} />\n              ))}\n            </Tabs>\n\n            <List sx={{ pt: 0 }}>\n              {componentCategories\n                .find(cat => cat.id === selectedCategory)\n                ?.components.map((component) => (\n                  <ListItem key={component.id} disablePadding>\n                    <ListItemButton\n                      selected={selectedComponent === component.id}\n                      onClick={() => setSelectedComponent(component.id)}\n                    >\n                      <ListItemText\n                        primary={component.name}\n                        secondary={component.description}\n                        primaryTypographyProps={{\n                          fontWeight: selectedComponent === component.id ? 'bold' : 'normal'\n                        }}\n                      />\n                    </ListItemButton>\n                  </ListItem>\n                ))}\n            </List>\n          </Paper>\n        </Grid>\n\n        {/* Main content area */}\n        <Grid item xs={12} md={9}>\n          {currentComponent && (\n            <Box>\n              <MuiCard sx={{ mb: 3 }}>\n                <CardHeader\n                  title={currentComponent.name}\n                  subheader={currentComponent.description}\n                />\n                <Divider />\n                <CardContent>\n                  <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                    This is a preview of the component with mock data. No API calls are being made.\n                  </Typography>\n                </CardContent>\n              </MuiCard>\n\n              {/* Component display */}\n              {currentComponent.component}\n            </Box>\n          )}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default ReportComponentsShowcase;\n","import React, { forwardRef } from 'react';\nimport SimpleBox from './SimpleBox';\nimport { createSx } from '../../utils/styleUtils';\n\n/**\n * DragDropWrapper component\n * \n * This component is a wrapper for react-beautiful-dnd to fix the innerRef issue\n * It ensures that the ref is properly passed to a DOM element\n */\ninterface DragDropWrapperProps {\n  children: React.ReactNode;\n  style?: React.CSSProperties;\n  className?: string;\n  sx?: any;\n  [key: string]: any;\n}\n\nconst DragDropWrapper = forwardRef<HTMLDivElement, DragDropWrapperProps>(\n  ({ children, style, className, sx, ...props }, ref) => {\n    return (\n      <SimpleBox\n        ref={ref}\n        sx={createSx(sx || {})}\n        style={style}\n        className={className}\n        {...props}\n      >\n        {children}\n      </SimpleBox>\n    );\n  }\n);\n\nDragDropWrapper.displayName = 'DragDropWrapper';\n\nexport default DragDropWrapper;\n","import React from 'react';\nimport {\n  Box,\n  Pagination as MuiPagination,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Typography,\n  useTheme,\n  useMediaQuery,\n  SelectChangeEvent\n} from '@mui/material';\nimport { PaginationProps } from '../../types/pagination';\n\n/**\n * Enhanced pagination component with page size selection\n */\nconst Pagination: React.FC<PaginationProps> = ({\n  page = 1,\n  count = 0,\n  pageSize = 10,\n  pageSizeOptions = [5, 10, 25, 50, 100],\n  onPageChange,\n  onPageSizeChange,\n  showPageSizeSelector = true,\n  showTotalCount = true,\n  labelPageSize = \"Items per page:\",\n  labelTotalItems = \"of\",\n  sx = {}\n}) => {\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  \n  // Calculate total number of pages\n  const totalPages = Math.ceil(count / pageSize);\n  \n  // Handle page change\n  const handlePageChange = (_event: React.ChangeEvent<unknown>, newPage: number): void => {\n    if (onPageChange) {\n      onPageChange(newPage);\n    }\n  };\n  \n  // Handle page size change\n  const handlePageSizeChange = (event: SelectChangeEvent<number>): void => {\n    const newPageSize = event.target.value as number;\n    if (onPageSizeChange) {\n      onPageSizeChange(newPageSize);\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        flexDirection: { xs: 'column', sm: 'row' },\n        alignItems: { xs: 'flex-start', sm: 'center' },\n        justifyContent: 'space-between',\n        gap: 2,\n        mt: 2,\n        ...sx\n      }}\n    >\n      {/* Page size selector */}\n      {showPageSizeSelector && (\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {labelPageSize}\n          </Typography>\n          <FormControl size=\"small\" variant=\"outlined\">\n            <Select\n              value={pageSize}\n              onChange={handlePageSizeChange}\n              displayEmpty\n              sx={{ minWidth: 80 }}\n            >\n              {pageSizeOptions.map((option) => (\n                <MenuItem key={option} value={option}>\n                  {option}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </Box>\n      )}\n      \n      {/* Pagination component */}\n      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n        {showTotalCount && (\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {isMobile \n              ? `${(page - 1) * pageSize + 1}-${Math.min(page * pageSize, count)} ${labelTotalItems} ${count}`\n              : `Showing ${(page - 1) * pageSize + 1}-${Math.min(page * pageSize, count)} ${labelTotalItems} ${count} items`\n            }\n          </Typography>\n        )}\n        \n        <MuiPagination\n          page={page}\n          count={totalPages}\n          onChange={handlePageChange}\n          color=\"primary\"\n          shape=\"rounded\"\n          size={isMobile ? \"small\" : \"medium\"}\n          showFirstButton={!isMobile}\n          showLastButton={!isMobile}\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default Pagination;\n"],"names":["convertSpacing","value","props","component","sx","style","children","otherProps","inlineStyle","display","flexDirection","justifyContent","alignItems","flexWrap","gap","marginBottom","mb","marginTop","mt","marginRight","mr","marginLeft","ml","padding","p","paddingTop","pt","paddingBottom","pb","paddingLeft","pl","paddingRight","pr","height","width","minWidth","maxWidth","minHeight","maxHeight","position","top","left","right","bottom","borderRadius","border","borderColor","borderBottom","backgroundColor","bgcolor","color","flexGrow","overflow","boxSizing","Object","keys","forEach","key","undefined","elementProps","as","_jsx","_ref","title","subheader","action","icon","collapsible","defaultExpanded","variant","expanded","setExpanded","useState","_jsxs","Paper","_Fragment","Box","px","py","Typography","IconButton","onClick","handleExpandToggle","size","ExpandLessIcon","ExpandMoreIcon","Divider","Collapse","in","createSx","styles","onSearch","onSaveQuery","recentQueries","savedQueries","loading","error","showSuggestions","suggestions","onApplySuggestion","query","setQuery","showHistory","setShowHistory","isListening","setIsListening","recognition","setRecognition","useEffect","window","recognitionInstance","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","onresult","event","transcript","results","onerror","onend","handleSearch","trim","handleSelectQuery","selectedQuery","isSaved","queryText","some","saved","text","queryExamples","length","fontWeight","SearchIcon","fontSize","TextField","fullWidth","placeholder","onChange","target","onKeyPress","disabled","InputProps","endAdornment","handleClearQuery","edge","ClearIcon","Tooltip","toggleSpeechRecognition","stop","start","MicIcon","Button","startIcon","CircularProgress","handleToggleHistory","HistoryIcon","handleSaveQuery","BookmarkIcon","BookmarkBorderIcon","my","gutterBottom","List","dense","disablePadding","slice","map","item","index","ListItem","button","ListItemText","primary","secondary","timestamp","Date","toLocaleString","name","description","LightbulbIcon","example","Chip","label","clickable","reports","onViewReport","onCreateReport","onEditReport","onDeleteReport","onDuplicateReport","onFavoriteToggle","totalCount","categories","showActions","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","sortBy","setSortBy","page","setPage","pageSize","setPageSize","menuAnchorEl","setMenuAnchorEl","activeReport","setActiveReport","sortMenuAnchorEl","setSortMenuAnchorEl","filterMenuAnchorEl","setFilterMenuAnchorEl","deleteDialogOpen","setDeleteDialogOpen","handleCategoryChange","category","handleSortChange","sortValue","handleMenuClose","handleViewReport","report","handleEditReport","handleCancelDelete","Grid","container","spacing","xs","sm","md","startAdornment","InputAdornment","FilterListIcon","currentTarget","getCategoryLabel","find","c","id","SortIcon","getSortLabel","AddIcon","textAlign","borderStyle","FolderIcon","paragraph","lg","Card","cursor","boxShadow","CardContent","noWrap","isFavorite","e","handleToggleFavorite","stopPropagation","StarIcon","StarBorderIcon","handleMenuOpen","MoreVertIcon","substring","formatDistanceToNow","updatedAt","addSuffix","viewCount","VisibilityIcon","CardActions","EditIcon","Pagination","count","onPageChange","newPage","onPageSizeChange","newPageSize","Menu","anchorEl","open","Boolean","onClose","MenuItem","ListItemIcon","handleDuplicateReport","FileCopyIcon","handleDeleteReport","DeleteIcon","handleSortMenuClose","selected","handleFilterMenuClose","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","handleConfirmDelete","sharedUsers","availableUsers","isPublic","publicUrl","expirationDate","onAddUser","onRemoveUser","onPermissionChange","onPublicToggle","onExpirationChange","activeTab","setActiveTab","selectedUsers","setSelectedUsers","newPermission","setNewPermission","snackbar","setSnackbar","message","severity","tempPublicState","setTempPublicState","tempExpirationDate","setTempExpirationDate","handleSelectUser","user","prev","u","filter","handleCloseSnackbar","filteredAvailableUsers","sharedUser","toLowerCase","includes","email","PaperProps","CloseIcon","Tabs","handleTabChange","_event","newValue","Tab","Alert","FormControl","RadioGroup","row","FormControlLabel","control","Radio","PersonAddIcon","handleAddUsers","isSelected","divider","Switch","checked","primaryTypographyProps","align","permission","handleUserPermissionChange","handleRemoveUser","handlePublicToggle","PublicIcon","LockIcon","readOnly","LinkIcon","copyToClipboard","navigator","clipboard","writeText","ContentCopyIcon","LocalizationProvider","dateAdapter","AdapterDateFns","now","DatePicker","date","slotProps","textField","minDate","toLocaleDateString","borderTop","handleSavePublicSettings","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","schedules","exportFormats","recipients","onAddSchedule","onUpdateSchedule","onDeleteSchedule","newSchedule","setNewSchedule","frequency","weekday","monthDay","time","setHours","exportFormat","recipientIds","includeEmail","includeNotification","active","errors","setErrors","isEditing","setIsEditing","editingId","setEditingId","resetForm","handleClose","handleInputChange","type","handleRecipientToggle","recipientId","updatedRecipients","getFrequencyText","schedule","getTimeText","toLocaleTimeString","hour","minute","getDeliveryMethodText","methods","push","join","ScheduleIcon","dividers","InputLabel","Select","labelId","Number","Array","from","_","i","day","TimePicker","format","EmailIcon","NotificationsIcon","deliveryMethod","FormHelperText","recipient","_exportFormats$find","EventIcon","f","CloudDownloadIcon","ListItemSecondaryAction","handleEditSchedule","handleDeleteSchedule","scheduleId","handleSaveSchedule","validateForm","newErrors","scheduleData","template","sections","dataSource","filters","createdBy","createdAt","onSave","onCancel","availableVisualizations","availableDataSources","currentTemplate","setCurrentTemplate","currentSection","setCurrentSection","sectionDialogOpen","setSectionDialogOpen","visualizationDialogOpen","setVisualizationDialogOpen","handleTemplateChange","field","handleOpenSectionDialog","arguments","visualizations","handleCloseSectionDialog","handleCloseVisualizationDialog","SimpleBox","elevation","required","margin","source","multiline","rows","ViewListIcon","DragDropContext","onDragEnd","result","destination","items","reorderedItem","splice","Droppable","droppableId","provided","DragDropWrapper","droppableProps","ref","innerRef","section","Draggable","draggableId","draggableProps","dragHandleProps","DragIndicatorIcon","handleDeleteSection","sectionId","s","SaveIcon","handleSaveTemplate","viz","handleRemoveVisualization","vizId","v","handleOpenVisualizationDialog","handleSaveSection","existingIndex","findIndex","handleAddVisualization","visualization","config","defaultConfig","dataField","selectedColumns","onSortChange","groupBy","onGroupChange","availableColumns","setAvailableColumns","schema","columns","isSortable","sortable","isGroupable","groupable","isAggregatable","aggregatable","aggregationFunctions","defaultColumns","Math","min","col","visible","aggregation","columnId","direction","getColumnInfo","ViewColumnIcon","column","secondaryAction","newColumn","handleAddColumn","arrow","InfoOutlinedIcon","columnInfo","React","handleVisibilityChange","updatedColumns","handleWidthChange","handleAggregationChange","func","handleMoveUp","ArrowUpwardIcon","handleMoveDown","ArrowDownwardIcon","handleRemoveColumn","GroupWorkIcon","handleGroupChange","onNameChange","onDescriptionChange","getSourceIcon","StorageIcon","TableChartIcon","BarChartIcon","helperText","_source$tags","transition","CardActionArea","handleSourceSelect","Avatar","tags","tag","_filters$find","_filters$find2","_filters$find3","_filters$find4","filterFields","setFilterFields","activeFilter","setActiveFilter","availableFields","filterable","operators","getOperatorsForType","handleAddFilter","_filterFields$","newFilter","operator","displayValue","handleUpdateFilter","filterId","updatedFilters","updatedFilter","_fieldInfo$operators$","fieldInfo","getFieldInfo","fieldId","getOperatorsForField","formatFilterDisplay","_getOperatorsForField","op","Stack","handleRemoveFilter","_filter$value","_filter$value3","_filter$value5","_filter$value7","_filter$value2","_filter$value2$to","to","_filter$value4","_filter$value4$from","_filter$value6","_filter$value8","renderValueInput","_config$dataSource","_config$columns$find","_config$sortBy2","_config$columns$find2","data","onRefresh","onDownload","onConfigChange","previewLimit","setPreviewLimit","getVisibleColumns","formatCellValue","renderer","Intl","NumberFormat","currency","toFixed","getCellAlignment","getColumnWidth","RefreshIcon","DownloadIcon","_config$sortBy","_config$groupBy","m","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","rowIndex","hover","_data$byDimension","filterValues","onFilterChange","onFilterApply","onExport","onShare","showExport","headerActions","expandedSections","setExpandedSections","exportMenuAnchorEl","setExportMenuAnchorEl","moreMenuAnchorEl","setMoreMenuAnchorEl","handleExportMenuClose","handleMoreMenuClose","handleExport","ShareIcon","handlePrint","print","PrintIcon","handleExpandAll","handleCollapseAll","VisibilityOffIcon","FullscreenIcon","CodeIcon","LinearProgress","summary","byDimension","CardHeader","handleToggleSection","prevState","content","actions","_dimensions$find2","_timeGroupings$find2","_visualizationTypes$f2","_dimensions$find4","_dimensions$find5","_dimensions$find6","_timeGroupings$find3","initialFilters","onExecuteQuery","onDrillDown","savedConfigurations","visualizationType","setVisualizationType","groupDimension","setGroupDimension","timeGrouping","setTimeGrouping","showQueryPanel","setShowQueryPanel","customReportName","setCustomReportName","advancedFiltersOpen","setAdvancedFiltersOpen","comparisonMode","setComparisonMode","comparisonFilters","setComparisonFilters","metricToSortBy","setMetricToSortBy","sortDirection","setSortDirection","rowLimit","setRowLimit","selectedDateRange","setSelectedDateRange","aggregationFunction","setAggregationFunction","selectedWhitelabels","setSelectedWhitelabels","selectedCountries","setSelectedCountries","selectedPlayerTiers","setSelectedPlayerTiers","selectedGameTypes","setSelectedGameTypes","selectedMetrics","setSelectedMetrics","drilldownPath","setDrilldownPath","reportMode","setReportMode","isQueryExecuting","setIsQueryExecuting","queryError","setQueryError","nlQueryResults","setNlQueryResults","dimensions","GroupIcon","BusinessIcon","SportsEsportsIcon","AccountBalanceWalletIcon","TrendingUpIcon","timeGroupings","CalendarViewMonthIcon","visualizationTypes","TimelineIcon","PieChartIcon","MapIcon","TuneIcon","availableMetrics","handleApplyFilters","dimension","dateRange","metrics","whitelabels","countries","playerTiers","gameTypes","limit","handleSaveReport","reportConfig","toISOString","configuration","NaturalLanguageQueryPanel","async","err","console","log","selectedConfig","handleLoadConfiguration","mode","d","t","CompareArrowsIcon","handleToggleComparison","multiple","split","input","OutlinedInput","renderValue","_availableMetrics$fin","MenuProps","ListSubheader","metric","Checkbox","indexOf","agg","_availableMetrics$fin2","parseInt","inputProps","max","primaryStart","primaryEnd","primaryRange","getTime","comparisonStart","comparisonEnd","setFullYear","getFullYear","getMonth","getDate","handleApplyComparison","comparison","level","_dimensions$find3","targetLevel","newDrilldownPath","handleDrillUp","mx","scrollButtons","iconPosition","ReportViewer","generateReportSections","_dimensions$find","_timeGroupings$find","_visualizationTypes$f","metricInfo","mockFilterData","mockReportData","totalRevenue","totalOrders","averageOrderValue","conversionRate","mockQuerySuggestions","mockDailyActionsData","totalRegistrations","totalFTD","totalDeposits","totalCashouts","totalGGR","dailyActions","whiteLabelName","whiteLabelId","registrations","ftd","deposits","paidCashouts","ggrCasino","ggrSport","ggrLive","ReportComponentsShowcase","_componentCategories$","selectedComponent","setSelectedComponent","mockReportSections","componentCategories","components","ReportFilterSelector","ReportColumnSelector","ReportDataSourceSelector","DailyActionsReport","ReportPreview","ReportTemplate","ReportList","ReportScheduleDialog","ReportShareDialog","users","currentComponent","getSelectedComponent","cat","comp","Container","RouterLink","ArrowBackIcon","ListItemButton","MuiCard","forwardRef","className","displayName","pageSizeOptions","showPageSizeSelector","showTotalCount","labelPageSize","labelTotalItems","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","totalPages","ceil","displayEmpty","option","MuiPagination","handlePageChange","shape","showFirstButton","showLastButton"],"sourceRoot":""}