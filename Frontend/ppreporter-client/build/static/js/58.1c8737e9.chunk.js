"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[58],{19252:(t,e,a)=>{a.d(e,{A:()=>f});var s=a(98587),i=a(58168),o=a(65043),r=a(58387),l=a(72372),n=a(98610),d=a(67598),c=a(52900),A=a(79644),h=a(27322),x=a(70579);const g=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,h.A)(),u=(0,A.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`maxWidth${(0,d.A)(String(a.maxWidth))}`],a.fixed&&e.fixed,a.disableGutters&&e.disableGutters]}}),y=t=>(0,c.A)({props:t,name:"MuiContainer",defaultTheme:m});var p=a(6803),j=a(34535),G=a(72876);const I=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:e=u,useThemeProps:a=y,componentName:c="MuiContainer"}=t,A=e((t=>{let{theme:e,ownerState:a}=t;return(0,i.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})}),(t=>{let{theme:e,ownerState:a}=t;return a.fixed&&Object.keys(e.breakpoints.values).reduce(((t,a)=>{const s=a,i=e.breakpoints.values[s];return 0!==i&&(t[e.breakpoints.up(s)]={maxWidth:`${i}${e.breakpoints.unit}`}),t}),{})}),(t=>{let{theme:e,ownerState:a}=t;return(0,i.A)({},"xs"===a.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},a.maxWidth&&"xs"!==a.maxWidth&&{[e.breakpoints.up(a.maxWidth)]:{maxWidth:`${e.breakpoints.values[a.maxWidth]}${e.breakpoints.unit}`}})})),h=o.forwardRef((function(t,e){const o=a(t),{className:h,component:m="div",disableGutters:u=!1,fixed:y=!1,maxWidth:p="lg"}=o,j=(0,s.A)(o,g),G=(0,i.A)({},o,{component:m,disableGutters:u,fixed:y,maxWidth:p}),I=((t,e)=>{const{classes:a,fixed:s,disableGutters:i,maxWidth:o}=t,r={root:["root",o&&`maxWidth${(0,d.A)(String(o))}`,s&&"fixed",i&&"disableGutters"]};return(0,n.A)(r,(t=>(0,l.Ay)(e,t)),a)})(G,c);return(0,x.jsx)(A,(0,i.A)({as:m,ownerState:G,className:(0,r.A)(I.root,h),ref:e},j))}));return h}({createStyledComponent:(0,j.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`maxWidth${(0,p.A)(String(a.maxWidth))}`],a.fixed&&e.fixed,a.disableGutters&&e.disableGutters]}}),useThemeProps:t=>(0,G.A)({props:t,name:"MuiContainer"})}),f=I},46058:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Y});var s=a(65043),i=a(35475),o=a(19252),r=a(96446),l=a(85865),n=a(11906),d=a(63336),c=a(68903),A=a(53193),h=a(18356),x=a(69285),g=a(32143),m=a(12110),u=a(26494),y=a(14194),p=a(81637),j=a(79650),G=a(71806),I=a(84882),f=a(28076),b=a(10039),D=a(73460),S=a(29598),C=a(82232),v=a(58390),T=a(19170),L=a(69525),E=a(93418),N=a(54235),k=a(28242),R=a(48625),w=a(41132),O=a(24176),P=a(70579);const Y=()=>{const[t,e]=(0,s.useState)((0,T.A)(new Date,1)),[Y,F]=(0,s.useState)(new Date),[M,W]=(0,s.useState)(""),[_,U]=(0,s.useState)([]),[$,B]=(0,s.useState)([]),[K,z]=(0,s.useState)(!1),[V,q]=(0,s.useState)(null),[H,J]=(0,s.useState)({totalRegistrations:0,totalFTD:0,totalDeposits:0,totalCashouts:0,totalGGR:0});(0,s.useEffect)((()=>{(async()=>{try{console.log("[DAILY ACTIONS PAGE] Fetching metadata");if(E.Gv.USE_MOCK_DATA_FOR_UI_TESTING||"true"===localStorage.getItem("USE_MOCK_DATA_FOR_UI_TESTING")){console.log("[DAILY ACTIONS PAGE] Using mock data for metadata");const t=await a.e(800).then(a.bind(a,87800)),e=t.default.getMockData("/reports/daily-actions/metadata");if(e&&e.whiteLabels)return console.log("[DAILY ACTIONS PAGE] Got mock white labels:",e.whiteLabels),void U(e.whiteLabels)}const t=await N.A.getMetadata();console.log("[DAILY ACTIONS PAGE] Got white labels from service:",t.whiteLabels),U(t.whiteLabels||[])}catch(t){console.error("[DAILY ACTIONS PAGE] Error fetching metadata:",t),q("Failed to load metadata. Please try again later.")}})()}),[]),(0,s.useEffect)((()=>{const t=setTimeout((()=>{(async()=>{console.log("[DAILY ACTIONS PAGE] Fetching initial data"),await Q()})()}),100);return()=>clearTimeout(t)}),[]);const Q=async()=>{z(!0),q(null);try{const i=(0,L.A)(t,"yyyy-MM-dd"),o={startDate:i,endDate:(0,L.A)(Y,"yyyy-MM-dd")};M&&""!==M?(console.log(`[DAILY ACTIONS PAGE] Filtering by white label ID: ${M}`),o.whiteLabelId=M):console.log("[DAILY ACTIONS PAGE] No white label filter applied"),console.log("[DAILY ACTIONS PAGE] Starting data fetch with filters:",o);try{console.log("[DAILY ACTIONS PAGE] Checking if mock data is enabled");if(E.Gv.USE_MOCK_DATA_FOR_UI_TESTING||"true"===localStorage.getItem("USE_MOCK_DATA_FOR_UI_TESTING")){console.log("[DAILY ACTIONS PAGE] Mock data is enabled, trying to get mock data directly");const t=(await a.e(800).then(a.bind(a,87800))).default;console.log("[DAILY ACTIONS PAGE] Getting mock summary data directly with filters:",o);const e=t.getMockData("/reports/daily-actions/summary",o);if(e&&e.dailyActions){console.log("[DAILY ACTIONS PAGE] Got mock summary data directly:",e),console.log("[DAILY ACTIONS PAGE] Daily actions from mock data:",e.dailyActions),B(e.dailyActions||[]);const t={totalRegistrations:e.totalRegistrations||0,totalFTD:e.totalFTD||0,totalDeposits:e.totalDeposits||0,totalCashouts:e.totalCashouts||0,totalGGR:e.totalGGR||0};return J(t),void z(!1)}{console.log("[DAILY ACTIONS PAGE] No mock summary data found or no daily actions in the response, trying regular mock data");const e=t.getMockData("/reports/daily-actions/data",o);if(e){if(console.log("[DAILY ACTIONS PAGE] Got mock regular data directly:",e),e.dailyActions&&e.dailyActions.length>0?(console.log("[DAILY ACTIONS PAGE] Using dailyActions from mock data:",e.dailyActions),B(e.dailyActions)):e.data&&e.data.length>0?(console.log("[DAILY ACTIONS PAGE] Using data field from mock data:",e.data),B(e.data)):(console.log("[DAILY ACTIONS PAGE] No data found in mock response"),B([])),e.summary)J(e.summary);else{const t=e.dailyActions||e.data||[],a={totalRegistrations:e.totalRegistrations||t.reduce(((t,e)=>t+(e.registrations||0)),0),totalFTD:e.totalFTD||t.reduce(((t,e)=>t+(e.ftd||0)),0),totalDeposits:e.totalDeposits||t.reduce(((t,e)=>t+(e.deposits||0)),0),totalCashouts:e.totalCashouts||t.reduce(((t,e)=>t+(e.paidCashouts||0)),0),totalGGR:e.totalGGR||t.reduce(((t,e)=>t+(e.totalGGR||0)),0)};J(a)}return void z(!1)}}}}catch(e){console.error("[DAILY ACTIONS PAGE] Error getting mock data directly:",e)}try{console.log("[DAILY ACTIONS PAGE] Fetching data with filters:",o);const t=await N.A.getData(o);if(console.log("[DAILY ACTIONS PAGE] Regular data response:",t),t&&t.data)if(B(t.data),t.summary)J(t.summary);else{const e={totalRegistrations:t.data.reduce(((t,e)=>t+(e.registrations||0)),0),totalFTD:t.data.reduce(((t,e)=>t+(e.ftd||0)),0),totalDeposits:t.data.reduce(((t,e)=>t+(e.deposits||0)),0),totalCashouts:t.data.reduce(((t,e)=>t+(e.paidCashouts||0)),0),totalGGR:t.data.reduce(((t,e)=>t+(e.totalGGR||0)),0)};J(e)}else console.error("[DAILY ACTIONS PAGE] Invalid response format:",t),q("Invalid response format from the server")}catch(s){throw console.error("[DAILY ACTIONS PAGE] Error in inner try block:",s),s}}catch(i){console.error("[DAILY ACTIONS PAGE] Error fetching daily actions:",i),q("Failed to load daily actions data. Please try again later.")}finally{z(!1)}},X=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t);return(0,P.jsxs)(o.A,{maxWidth:"xl",children:[(0,P.jsxs)(r.A,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,P.jsxs)(r.A,{children:[(0,P.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Daily Actions Report"}),(0,P.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"View and analyze daily player activities, deposits, and gaming revenue"})]}),(0,P.jsx)(n.A,{variant:"contained",color:"primary",component:i.N_,to:"/reports/daily-actions/advanced",startIcon:(0,P.jsx)(k.A,{}),children:"Advanced Report"})]}),(0,P.jsxs)(d.A,{sx:{p:3,mb:4},children:[(0,P.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,P.jsx)(k.A,{sx:{mr:1}}),(0,P.jsx)(l.A,{variant:"h6",children:"Filters"})]}),(0,P.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,P.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,P.jsx)(v.$,{dateAdapter:C.h,children:(0,P.jsx)(S.l,{label:"Start Date",value:t,onChange:t=>t&&e(t),slotProps:{textField:{fullWidth:!0}}})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,P.jsx)(v.$,{dateAdapter:C.h,children:(0,P.jsx)(S.l,{label:"End Date",value:Y,onChange:t=>t&&F(t),slotProps:{textField:{fullWidth:!0}}})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,P.jsxs)(A.A,{fullWidth:!0,children:[(0,P.jsx)(h.A,{children:"White Label"}),(0,P.jsxs)(x.A,{value:M,onChange:t=>{console.log(`[DAILY ACTIONS PAGE] White label changed to: ${t.target.value}`),W(t.target.value)},label:"White Label",children:[(0,P.jsx)(g.A,{value:"",children:"All White Labels"}),_&&_.length>0?_.map((t=>(0,P.jsx)(g.A,{value:t.id,children:t.name},t.id))):[(0,P.jsx)(g.A,{value:"casino-royale",children:"Casino Royale"},"casino-royale"),(0,P.jsx)(g.A,{value:"lucky-spin",children:"Lucky Spin"},"lucky-spin"),(0,P.jsx)(g.A,{value:"golden-bet",children:"Golden Bet"},"golden-bet")]]})]})}),(0,P.jsxs)(c.Ay,{item:!0,xs:12,md:3,sx:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(n.A,{variant:"contained",color:"primary",startIcon:(0,P.jsx)(R.A,{}),onClick:()=>{console.log("[DAILY ACTIONS PAGE] Apply filters button clicked"),console.log("[DAILY ACTIONS PAGE] Current filters:",{startDate:(0,L.A)(t,"yyyy-MM-dd"),endDate:(0,L.A)(Y,"yyyy-MM-dd"),whiteLabelId:M}),Q()},sx:{mr:2},children:"Apply Filters"}),(0,P.jsx)("span",{children:(0,P.jsx)(n.A,{variant:"outlined",startIcon:(0,P.jsx)(w.A,{}),disabled:K||0===$.length,children:"Export"})})]})]})]}),(0,P.jsxs)(c.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(u.A,{children:[(0,P.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Registrations"}),(0,P.jsx)(l.A,{variant:"h5",children:H.totalRegistrations.toLocaleString()})]})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(u.A,{children:[(0,P.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"First Time Depositors"}),(0,P.jsx)(l.A,{variant:"h5",children:H.totalFTD.toLocaleString()})]})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(u.A,{children:[(0,P.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Deposits"}),(0,P.jsx)(l.A,{variant:"h5",children:X(H.totalDeposits)})]})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(u.A,{children:[(0,P.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Cashouts"}),(0,P.jsx)(l.A,{variant:"h5",children:X(H.totalCashouts)})]})})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(u.A,{children:[(0,P.jsx)(l.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total GGR"}),(0,P.jsx)(l.A,{variant:"h5",children:X(H.totalGGR)})]})})})]}),(0,P.jsxs)(d.A,{sx:{p:3},children:[(0,P.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,P.jsx)(O.A,{sx:{mr:1}}),(0,P.jsx)(l.A,{variant:"h6",children:"Daily Actions Data"})]}),V&&(0,P.jsx)(y.A,{severity:"error",sx:{mb:3},children:V}),K?(0,P.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,P.jsx)(p.A,{})}):0===$.length?(0,P.jsx)(y.A,{severity:"info",children:'No data available for the selected filters. Try adjusting your filters or click "Apply Filters" to load data.'}):(0,P.jsx)(j.A,{children:(0,P.jsxs)(G.A,{children:[(0,P.jsx)(I.A,{children:(0,P.jsxs)(f.A,{children:[(0,P.jsx)(b.A,{children:"Date"}),(0,P.jsx)(b.A,{children:"White Label"}),(0,P.jsx)(b.A,{align:"right",children:"Registrations"}),(0,P.jsx)(b.A,{align:"right",children:"FTD"}),(0,P.jsx)(b.A,{align:"right",children:"Deposits"}),(0,P.jsx)(b.A,{align:"right",children:"Cashouts"}),(0,P.jsx)(b.A,{align:"right",children:"Casino GGR"}),(0,P.jsx)(b.A,{align:"right",children:"Sports GGR"}),(0,P.jsx)(b.A,{align:"right",children:"Live GGR"}),(0,P.jsx)(b.A,{align:"right",children:"Total GGR"})]})}),(0,P.jsx)(D.A,{children:$.map((t=>(0,P.jsxs)(f.A,{children:[(0,P.jsx)(b.A,{children:(0,L.A)(new Date(t.date),"MMM dd, yyyy")}),(0,P.jsx)(b.A,{children:t.whiteLabelName}),(0,P.jsx)(b.A,{align:"right",children:t.registrations}),(0,P.jsx)(b.A,{align:"right",children:t.ftd}),(0,P.jsx)(b.A,{align:"right",children:X(t.deposits)}),(0,P.jsx)(b.A,{align:"right",children:X(t.paidCashouts)}),(0,P.jsx)(b.A,{align:"right",children:X(t.ggrCasino)}),(0,P.jsx)(b.A,{align:"right",children:X(t.ggrSport)}),(0,P.jsx)(b.A,{align:"right",children:X(t.ggrLive)}),(0,P.jsx)(b.A,{align:"right",children:X(t.totalGGR)})]},t.id)))})]})})]})]})}},79644:(t,e,a)=>{a.d(e,{A:()=>s});const s=(0,a(30920).Ay)()}}]);
//# sourceMappingURL=58.1c8737e9.chunk.js.map