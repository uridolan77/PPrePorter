"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[96],{62096:(e,r,s)=>{s.r(r),s.d(r,{default:()=>q});var o=s(65043),a=s(73216),t=s(19252),i=s(96446),n=s(14194),l=s(63336),d=s(85865),c=s(68903),m=s(67784),x=s(51787),h=s(17392),g=s(68577),p=s(51962),u=s(88446),A=s(81673),f=s(11906),j=s(81637),y=s(39336),w=s(35475),b=s(47260),v=s(72819),P=s(37402),T=s(17555),N=s(52177),C=s(3563),k=s(85890),S=s(70579);const W=e=>{let{onSubmit:r,onGoogleRegister:s,onMicrosoftRegister:a,error:t,loading:W=!1,showSocialLogin:I=!0,loginLink:q="/login",logoUrl:R="/logo.png",sx:L}=e;const[G,M]=(0,o.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[z,D]=(0,o.useState)(!1),[F,B]=(0,o.useState)(!1),[E,_]=(0,o.useState)({}),U=e=>{const{name:r,value:s,checked:o,type:a}=e.target;M({...G,[r]:"checkbox"===a?o:s}),E[r]&&_({...E,[r]:void 0})};return(0,S.jsx)(l.A,{elevation:3,sx:{maxWidth:600,width:"100%",p:4,borderRadius:2,...L},children:(0,S.jsxs)(i.A,{component:"form",onSubmit:e=>{e.preventDefault();const s=(()=>{const e={};return G.firstName.trim()||(e.firstName="First name is required"),G.lastName.trim()||(e.lastName="Last name is required"),G.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G.email)||(e.email="Please enter a valid email address"):e.email="Email is required",G.password?G.password.length<8&&(e.password="Password must be at least 8 characters long"):e.password="Password is required",G.confirmPassword?G.password!==G.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",G.agreeToTerms||(e.agreeToTerms="You must agree to the terms and conditions"),e})();0===Object.keys(s).length?r&&r(G):_(s)},sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,S.jsxs)(i.A,{sx:{textAlign:"center",mb:2},children:[(0,S.jsx)("img",{src:R,alt:"Logo",style:{height:60,width:"auto",marginBottom:16},onError:e=>{e.target.style.display="none"}}),(0,S.jsx)(d.A,{variant:"h5",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Create an Account"}),(0,S.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Fill in the form below to create your account"})]}),t&&(0,S.jsx)(n.A,{severity:"error",sx:{mb:2},children:t}),(0,S.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,S.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,S.jsx)(m.A,{label:"First Name",name:"firstName",value:G.firstName,onChange:U,fullWidth:!0,error:!!E.firstName,helperText:E.firstName,InputProps:{startAdornment:(0,S.jsx)(x.A,{position:"start",children:(0,S.jsx)(N.A,{color:"action"})})},disabled:W,required:!0})}),(0,S.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,S.jsx)(m.A,{label:"Last Name",name:"lastName",value:G.lastName,onChange:U,fullWidth:!0,error:!!E.lastName,helperText:E.lastName,InputProps:{startAdornment:(0,S.jsx)(x.A,{position:"start",children:(0,S.jsx)(N.A,{color:"action"})})},disabled:W,required:!0})})]}),(0,S.jsx)(m.A,{label:"Email",name:"email",type:"email",value:G.email,onChange:U,fullWidth:!0,error:!!E.email,helperText:E.email,InputProps:{startAdornment:(0,S.jsx)(x.A,{position:"start",children:(0,S.jsx)(P.A,{color:"action"})})},disabled:W,required:!0}),(0,S.jsx)(m.A,{label:"Password",name:"password",type:z?"text":"password",value:G.password,onChange:U,fullWidth:!0,error:!!E.password,helperText:E.password||"Password must be at least 8 characters long",InputProps:{startAdornment:(0,S.jsx)(x.A,{position:"start",children:(0,S.jsx)(T.A,{color:"action"})}),endAdornment:(0,S.jsx)(x.A,{position:"end",children:(0,S.jsx)(h.A,{"aria-label":"toggle password visibility",onClick:()=>{D(!z)},edge:"end",children:z?(0,S.jsx)(v.A,{}):(0,S.jsx)(b.A,{})})})},disabled:W,required:!0}),(0,S.jsx)(m.A,{label:"Confirm Password",name:"confirmPassword",type:F?"text":"password",value:G.confirmPassword,onChange:U,fullWidth:!0,error:!!E.confirmPassword,helperText:E.confirmPassword,InputProps:{startAdornment:(0,S.jsx)(x.A,{position:"start",children:(0,S.jsx)(T.A,{color:"action"})}),endAdornment:(0,S.jsx)(x.A,{position:"end",children:(0,S.jsx)(h.A,{"aria-label":"toggle confirm password visibility",onClick:()=>{B(!F)},edge:"end",children:F?(0,S.jsx)(v.A,{}):(0,S.jsx)(b.A,{})})})},disabled:W,required:!0}),(0,S.jsxs)(i.A,{children:[(0,S.jsx)(g.A,{control:(0,S.jsx)(p.A,{name:"agreeToTerms",checked:G.agreeToTerms,onChange:U,color:"primary",disabled:W}),label:(0,S.jsxs)(d.A,{variant:"body2",children:["I agree to the"," ",(0,S.jsx)(u.A,{href:"#",underline:"hover",color:"primary",children:"Terms of Service"})," ","and"," ",(0,S.jsx)(u.A,{href:"#",underline:"hover",color:"primary",children:"Privacy Policy"})]})}),E.agreeToTerms&&(0,S.jsx)(A.A,{error:!0,children:E.agreeToTerms})]}),(0,S.jsx)(f.A,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,disabled:W,sx:{mt:2},children:W?(0,S.jsx)(j.A,{size:24}):"Create Account"}),(0,S.jsx)(i.A,{sx:{textAlign:"center",mt:2},children:(0,S.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",(0,S.jsx)(u.A,{component:w.N_,to:q,color:"primary",underline:"hover",children:"Sign in"})]})}),I&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,S.jsx)(y.A,{sx:{flex:1}}),(0,S.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mx:2},children:"or sign up with"}),(0,S.jsx)(y.A,{sx:{flex:1}})]}),(0,S.jsxs)(i.A,{sx:{display:"flex",gap:2,mt:2},children:[(0,S.jsx)(f.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,S.jsx)(C.A,{}),onClick:()=>{s&&s()},disabled:W,children:"Google"}),(0,S.jsx)(f.A,{variant:"outlined",fullWidth:!0,size:"large",startIcon:(0,S.jsx)(k.A,{}),onClick:()=>{a&&a()},disabled:W,children:"Microsoft"})]})]})]})})};var I=s(69717);const q=()=>{const{register:e,loginWithGoogle:r,loginWithMicrosoft:s}=(0,I.h)(),[c,m]=(0,o.useState)(""),[x,h]=(0,o.useState)(!1),g=(0,a.Zp)();return(0,S.jsx)(t.A,{component:"main",maxWidth:"sm",sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",py:4},children:(0,S.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[c&&(0,S.jsx)(n.A,{severity:"error",sx:{width:"100%",mb:3},children:c}),(0,S.jsx)(W,{onSubmit:async r=>{h(!0),m("");try{await e({username:r.email.split("@")[0],firstName:r.firstName,lastName:r.lastName,email:r.email,password:r.password,confirmPassword:r.confirmPassword,acceptTerms:r.agreeToTerms}),g("/login",{state:{message:"Registration successful! Please log in with your new account."}})}catch(s){console.error("Registration error:",s);m(s.message||"Registration failed. Please try again.")}finally{h(!1)}},onGoogleRegister:async()=>{h(!0),m("");try{await r(),g("/dashboard")}catch(e){console.error("Google registration error:",e);m(e.message||"Google sign up failed. Please try again.")}finally{h(!1)}},onMicrosoftRegister:async()=>{h(!0),m("");try{await s(),g("/dashboard")}catch(e){console.error("Microsoft registration error:",e);m(e.message||"Microsoft sign up failed. Please try again.")}finally{h(!1)}},logoUrl:"/logo.png",error:c,loading:x,showSocialLogin:!0,loginLink:"/login"}),(0,S.jsxs)(l.A,{elevation:0,sx:{mt:4,p:2,textAlign:"center",backgroundColor:"transparent"},children:[(0,S.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["By creating an account, you agree to our"," ",(0,S.jsx)("a",{href:"/terms",children:"Terms of Service"})," and"," ",(0,S.jsx)("a",{href:"/privacy",children:"Privacy Policy"}),"."]}),(0,S.jsxs)(d.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Need help? ",(0,S.jsx)("a",{href:"/support",children:"Contact Support"})]})]})]})})}}}]);
//# sourceMappingURL=96.bc3362d1.chunk.js.map