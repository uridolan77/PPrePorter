"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[3186],{352:(e,t,s)=>{s.d(t,{A:()=>S});var l=s(65043),a=s(85865),i=s(43845),r=s(53193),n=s(18356),o=s(72221),d=s(74050),c=s(32143),x=s(81637),h=s(81673),m=s(67784),y=s(51787),p=s(17392),u=s(11906),A=s(51962),j=s(48734),b=s(77739),g=s(66360),f=s(10155),v=s(47030),D=s(70579);const S=e=>{let{options:t=[],value:s=[],onChange:S,label:C="",placeholder:P="Select items",disabled:E=!1,required:w=!1,error:M="",helperText:L="",maxMenuHeight:I=300,searchable:k=!0,showSelectAllOption:N=!0,renderValue:W,size:B="small",width:F,id:z,name:R,sx:T,className:Y,style:$,loading:O=!1,fullWidth:V=!0}=e;const[U,G]=(0,l.useState)(""),q=t.filter((e=>e.label.toLowerCase().includes(U.toLowerCase())));if(O)return(0,D.jsxs)(r.A,{fullWidth:!0,size:B,error:!!M,disabled:!0,required:w,sx:{width:F,...T},className:Y,style:$,children:[C&&(0,D.jsx)(n.A,{id:`${z||"multi-select"}-label`,children:C}),(0,D.jsx)(o.A,{labelId:`${z||"multi-select"}-label`,id:z||"multi-select",name:R,multiple:!0,value:[],input:(0,D.jsx)(d.A,{label:C}),renderValue:()=>(0,D.jsx)(a.A,{color:"text.secondary",children:"Loading options..."}),children:(0,D.jsx)(c.A,{disabled:!0,children:(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:8},children:[(0,D.jsx)(x.A,{size:20,style:{marginRight:8}}),(0,D.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Loading options..."})]})})}),L&&(0,D.jsx)(h.A,{children:L})]});if(!t||0===t.length)return(0,D.jsxs)(r.A,{fullWidth:!0,size:B,error:!!M,disabled:!0,required:w,sx:{width:F,...T},className:Y,style:$,children:[C&&(0,D.jsx)(n.A,{id:`${z||"multi-select"}-label`,children:C}),(0,D.jsx)(o.A,{labelId:`${z||"multi-select"}-label`,id:z||"multi-select",name:R,multiple:!0,value:[],input:(0,D.jsx)(d.A,{label:C}),renderValue:()=>(0,D.jsx)(a.A,{color:"text.secondary",children:"No options available"}),children:(0,D.jsx)(c.A,{disabled:!0,children:(0,D.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"No options available"})})}),L&&(0,D.jsx)(h.A,{children:L})]});return(0,D.jsxs)(r.A,{fullWidth:!0,size:B,error:!!M,disabled:E,required:w,sx:{width:F||"100%",minWidth:"100%",...T},className:Y,style:$,children:[C&&(0,D.jsx)(n.A,{id:`${z||"multi-select"}-label`,children:C}),(0,D.jsxs)(o.A,{labelId:`${z||"multi-select"}-label`,id:z||"multi-select",name:R,multiple:!0,value:s,onChange:e=>{const t=e.target.value;S(t)},input:(0,D.jsx)(d.A,{label:C}),renderValue:W||(e=>e&&0!==e.length?(0,D.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>{const l=t.find((t=>t.value.toString()===e.toString()));return(0,D.jsx)(i.A,{label:l?l.label:e,size:"small",onDelete:(a=e,e=>{e.preventDefault(),e.stopPropagation();const t=s.filter((e=>e.toString()!==a.toString()));S(t)}),onClick:e=>e.stopPropagation(),deleteIcon:(0,D.jsx)(f.A,{fontSize:"small",onMouseDown:e=>e.stopPropagation()}),sx:{"& .MuiChip-deleteIcon":{display:"none",opacity:.7,"&:hover":{opacity:1}},"&:hover .MuiChip-deleteIcon":{display:"block"}}},e);var a}))}):(0,D.jsx)(a.A,{color:"text.secondary",children:P})),onClose:()=>{G("")},onClick:e=>{e.target instanceof HTMLElement&&(e.target.classList.contains("MuiChip-root")||e.target.classList.contains("MuiChip-label")||e.target.classList.contains("MuiChip-deleteIcon")||e.target.closest(".MuiChip-deleteIcon"))&&(e.preventDefault(),e.stopPropagation())},MenuProps:{PaperProps:{style:{maxHeight:I}}},children:[(0,D.jsxs)("div",{style:{position:"sticky",top:0,backgroundColor:"#fff",zIndex:2,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[k&&(0,D.jsx)("div",{style:{padding:8},children:(0,D.jsx)(m.A,{size:"small",placeholder:"Search...",fullWidth:!0,value:U,onChange:e=>{G(e.target.value)},onClick:e=>e.stopPropagation(),InputProps:{startAdornment:(0,D.jsx)(y.A,{position:"start",children:(0,D.jsx)(g.A,{fontSize:"small"})}),endAdornment:U?(0,D.jsx)(y.A,{position:"end",children:(0,D.jsx)(p.A,{size:"small",onClick:e=>{e.stopPropagation(),G("")},children:(0,D.jsx)(f.A,{fontSize:"small"})})}):null}})}),N&&q.length>0&&(0,D.jsxs)("div",{style:{paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)(u.A,{size:"small",onClick:()=>{const e=q.filter((e=>!e.disabled)).map((e=>e.value));S(e)},children:"Select All"}),(0,D.jsx)(u.A,{size:"small",onClick:()=>{S([])},children:"Clear All"})]})]}),0===q.length&&(0,D.jsx)(c.A,{disabled:!0,children:(0,D.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"No options found"})}),q.map((e=>(0,D.jsxs)(c.A,{value:e.value,disabled:e.disabled,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(A.A,{checked:s.some((t=>t.toString()===e.value.toString()))}),(0,D.jsx)(j.A,{primary:e.label,secondary:e.group})]}),e.description&&(0,D.jsx)(b.A,{title:e.description,arrow:!0,children:(0,D.jsx)(v.A,{fontSize:"small",color:"action",style:{marginLeft:8}})})]},e.value)))]}),(L||M)&&(0,D.jsx)(h.A,{children:M||L})]})}},33186:(e,t,s)=>{s.r(t),s.d(t,{default:()=>q});var l=s(65043),a=s(35475),i=s(43845),r=s(85865),n=s(19252),o=s(96446),d=s(11906),c=s(63336),x=s(8591),h=s(30279),m=s(39336),y=s(67784),p=s(53193),u=s(18356),A=s(72221),j=s(32143),b=s(12110),g=s(26494),f=s(67254),v=s(83462),D=s(4219),S=s(35316),C=s(29347),P=s(88696),E=s(92317),w=s(352),M=s(69525),L=s(58390),I=s(40672),k=s(82746),N=s(28242),W=s(48625),B=s(24176),F=s(21337),z=s(85473),R=s(52177),T=s(37402),Y=s(19466),$=s(19974),O=s(4721),V=s(3021),U=s(91107),G=s(70579);const q=()=>{const[e,t]=(0,l.useState)(new Date((new Date).setDate((new Date).getDate()-30))),[s,q]=(0,l.useState)(new Date),[H,J]=(0,l.useState)([]),[_,X]=(0,l.useState)([]),[K,Z]=(0,l.useState)([]),[Q,ee]=(0,l.useState)(!1),[te,se]=(0,l.useState)({}),[le,ae]=(0,l.useState)([]),[ie,re]=(0,l.useState)(!1),[ne,oe]=(0,l.useState)(null),[de,ce]=(0,l.useState)(0),[xe,he]=(0,l.useState)(0),[me,ye]=(0,l.useState)(10),[pe,ue]=(0,l.useState)("registrationDate"),[Ae,je]=(0,l.useState)("desc"),[be,ge]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[De,Se]=(0,l.useState)([]),[Ce,Pe]=(0,l.useState)([]),[Ee,we]=(0,l.useState)([]),[Me,Le]=(0,l.useState)([]),[Ie,ke]=(0,l.useState)(null),[Ne,We]=(0,l.useState)(!1),Be=[{id:"username",label:"Username",type:"text",sortable:!0,width:150},{id:"email",label:"Email",type:"text",sortable:!0,width:200},{id:"country",label:"Country",type:"text",sortable:!0,width:120},{id:"status",label:"Status",format:(e,t)=>(0,G.jsx)(i.A,{label:t.status,size:"small",color:"Active"===t.status?"success":"Inactive"===t.status?"default":"Blocked"===t.status?"error":"primary"}),sortable:!0,width:120},{id:"registrationDate",label:"Registration Date",type:"date",dateFormat:"medium",sortable:!0,width:150},{id:"lastLoginDate",label:"Last Login",format:(e,t)=>t.lastLoginDate?(0,M.A)(new Date(t.lastLoginDate),"MMM dd, yyyy"):"-",sortable:!0,width:150},{id:"balance",label:"Balance",type:"currency",sortable:!0,width:120},{id:"totalDeposits",label:"Total Deposits",type:"currency",sortable:!0,width:150},{id:"totalBets",label:"Total Bets",type:"currency",sortable:!0,width:120},{id:"netProfit",label:"Net Profit",format:(e,t)=>{const s=t.netProfit||0;return(0,G.jsx)(r.A,{variant:"body2",sx:{color:s>=0?"success.main":"error.main",fontWeight:"medium"},children:Fe(s)})},sortable:!0,width:120}],Fe=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);(0,l.useEffect)((()=>{ze()}),[]),(0,l.useEffect)((()=>{Re()}),[xe,me,pe,Ae]);const ze=async()=>{try{re(!0),oe(null);const e=await U.A.getMetadata();if(e.whiteLabels){ge(e.whiteLabels);const t=e.whiteLabels.map((e=>({value:e.id,label:e.name})));Pe(t)}if(e.countries){const t=Array.isArray(e.countries)?e.countries.map((e=>"string"===typeof e?{id:e,name:e}:e)):[];ve(t);const s=t.map((e=>({value:e.id,label:e.name})));we(s)}if(e.statuses){const t=Array.isArray(e.statuses)?e.statuses.map((e=>"string"===typeof e?{id:e,name:e}:e)):[];Se(t);const s=t.map((e=>({value:e.id,label:e.name})));Le(s)}}catch(e){console.error("[PLAYERS PAGE] Error fetching metadata:",e),oe("Failed to load metadata. Please try again later.")}finally{re(!1)}},Re=async()=>{try{re(!0),oe(null);const l={startDate:(0,M.A)(e,"yyyy-MM-dd"),endDate:(0,M.A)(s,"yyyy-MM-dd"),whiteLabelIds:H.length>0?H.map((e=>parseInt(e))):void 0,countryIds:_.length>0?_:void 0};Object.keys(te).length>0&&(console.log("[PLAYERS PAGE] Adding advanced filters:",te),te.registration&&(l.registrationDate=(0,M.A)(te.registration,"yyyy-MM-dd")),te.firstTimeDeposit&&(l.firstDepositDate=(0,M.A)(te.firstTimeDeposit,"yyyy-MM-dd")),te.lastDepositDate&&(l.lastDepositDate=(0,M.A)(te.lastDepositDate,"yyyy-MM-dd")),te.lastLogin&&(l.lastLoginDate=(0,M.A)(te.lastLogin,"yyyy-MM-dd")),te.trackers&&(l.trackers=te.trackers),te.promotionCode&&(l.promotionCode=te.promotionCode),te.players&&(l.playerIds=te.players.split(",").map((e=>e.trim()))),te.regPlayMode&&te.regPlayMode.length>0&&(l.playModes=te.regPlayMode),te.platform&&te.platform.length>0&&(l.platforms=te.platform),te.status&&te.status.length>0&&(l.statuses=te.status),te.gender&&te.gender.length>0&&(l.genders=te.gender),te.currency&&te.currency.length>0&&(l.currencies=te.currency),te.smsEnabled&&(l.smsEnabled="Yes"===te.smsEnabled),te.mailEnabled&&(l.mailEnabled="Yes"===te.mailEnabled),te.phoneEnabled&&(l.phoneEnabled="Yes"===te.phoneEnabled),te.postEnabled&&(l.postEnabled="Yes"===te.postEnabled),te.bonusEnabled&&(l.bonusEnabled="Yes"===te.bonusEnabled));const a={page:xe+1,pageSize:me,sortBy:pe,sortDirection:Ae},i=await U.A.getData({...l,...a});var t;if(i&&i.data)ae(i.data),ce((null===(t=i.meta)||void 0===t?void 0:t.totalCount)||i.data.length);else ae([]),ce(0)}catch(l){console.error("[PLAYERS PAGE] Error fetching players data:",l),oe("Failed to load players data. Please try again later."),ae([]),ce(0)}finally{re(!1)}},Te=(e,t)=>{se((s=>({...s,[e]:t})))},Ye=()=>{We(!1),ke(null)},$e={totalPlayers:le.length,activePlayers:le.filter((e=>"Active"===e.status)).length,totalBalance:le.reduce(((e,t)=>e+(t.balance||0)),0),totalDeposits:le.reduce(((e,t)=>e+(t.totalDeposits||0)),0),totalBets:le.reduce(((e,t)=>e+(t.totalBets||0)),0),totalNetProfit:le.reduce(((e,t)=>e+(t.netProfit||0)),0)};return(0,G.jsxs)(n.A,{maxWidth:"xl",children:[(0,G.jsxs)(o.A,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,G.jsxs)(o.A,{children:[(0,G.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:"Players Report"}),(0,G.jsx)(r.A,{variant:"body1",color:"text.secondary",children:"View and analyze player data, activity, and performance metrics"})]}),(0,G.jsx)(d.A,{variant:"contained",color:"primary",component:a.N_,to:"/reports/players/advanced",startIcon:(0,G.jsx)(N.A,{}),children:"Advanced Report"})]}),(0,G.jsxs)(c.A,{sx:{p:3,mb:4},children:[(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,G.jsx)(N.A,{sx:{mr:1}}),(0,G.jsx)(r.A,{variant:"h6",children:"Filters"})]}),(0,G.jsx)(d.A,{color:"primary",onClick:()=>{ee(!Q)},endIcon:Q?(0,G.jsx)(z.A,{}):(0,G.jsx)(F.A,{}),children:Q?"Hide Advanced Filters":"Show Advanced Filters"})]}),(0,G.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"Start Date",value:e,onChange:e=>e&&t(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"End Date",value:s,onChange:e=>e&&q(e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(w.A,{label:"White Labels",options:Ce,value:H,onChange:e=>{J(e.map((e=>e.toString())))},placeholder:"Select White Labels",searchable:!0,showSelectAllOption:!0,width:"100%",sx:{width:"100%","& .MuiOutlinedInput-root":{width:"100%",height:"56px"},"& .MuiSelect-select":{height:"56px",display:"flex",alignItems:"center"}}})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(w.A,{label:"Countries",options:Ee,value:_,onChange:e=>{X(e.map((e=>e.toString())))},placeholder:"Select Countries",searchable:!0,showSelectAllOption:!0,width:"100%",sx:{width:"100%","& .MuiOutlinedInput-root":{width:"100%",height:"56px"},"& .MuiSelect-select":{height:"56px",display:"flex",alignItems:"center"}}})})]}),(0,G.jsx)(h.A,{in:Q,timeout:"auto",unmountOnExit:!0,children:(0,G.jsxs)(o.A,{sx:{mt:3},children:[(0,G.jsx)(m.A,{sx:{mb:3}}),(0,G.jsx)(r.A,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Filters"}),(0,G.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,G.jsx)(x.Ay,{item:!0,xs:12,children:(0,G.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Player Information"})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(y.A,{label:"Trackers",fullWidth:!0,value:te.trackers||"",onChange:e=>Te("trackers",e.target.value)})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(y.A,{label:"Promotion Code",fullWidth:!0,value:te.promotionCode||"",onChange:e=>Te("promotionCode",e.target.value)})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsxs)(p.A,{fullWidth:!0,children:[(0,G.jsx)(u.A,{children:"Status"}),(0,G.jsx)(A.A,{multiple:!0,value:K,onChange:e=>{return t=e.target.value,void Z(t.map((e=>e.toString())));var t},label:"Status",renderValue:e=>(0,G.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,G.jsx)(i.A,{label:e,size:"small"},e)))}),children:Me.map((e=>(0,G.jsx)(j.A,{value:e.value,children:e.label},e.value)))})]})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsxs)(p.A,{fullWidth:!0,children:[(0,G.jsx)(u.A,{children:"Platform"}),(0,G.jsx)(A.A,{multiple:!0,value:te.platform||[],onChange:e=>Te("platform",e.target.value),label:"Platform",renderValue:e=>(0,G.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,G.jsx)(i.A,{label:e,size:"small"},e)))}),children:["Mobile","Web"].map((e=>(0,G.jsx)(j.A,{value:e,children:e},e)))})]})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sx:{mt:2},children:(0,G.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Date Filters"})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"Registration Date",value:te.registration||null,onChange:e=>Te("registration",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"First Time Deposit",value:te.firstTimeDeposit||null,onChange:e=>Te("firstTimeDeposit",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"Last Deposit Date",value:te.lastDepositDate||null,onChange:e=>Te("lastDepositDate",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,md:3,children:(0,G.jsx)(L.$,{dateAdapter:I.h,children:(0,G.jsx)(k.l,{label:"Last Login",value:te.lastLogin||null,onChange:e=>Te("lastLogin",e),slotProps:{textField:{fullWidth:!0}}})})}),(0,G.jsxs)(x.Ay,{item:!0,xs:12,sx:{mt:2},children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"primary",gutterBottom:!0,children:"Specific Players"}),(0,G.jsx)(y.A,{label:"Players",placeholder:"Enter player IDs or usernames (comma separated)",fullWidth:!0,multiline:!0,rows:3,value:te.players||"",onChange:e=>Te("players",e.target.value),helperText:"Enter multiple player IDs or usernames separated by commas"})]})]}),(0,G.jsx)(o.A,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:(0,G.jsx)(d.A,{variant:"outlined",onClick:()=>{se({})},sx:{mr:2},children:"Reset Advanced Filters"})})]})}),(0,G.jsx)(o.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",mt:3},children:(0,G.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,G.jsx)(W.A,{}),onClick:()=>{console.log("[PLAYERS PAGE] Apply filters button clicked");const t={startDate:(0,M.A)(e,"yyyy-MM-dd"),endDate:(0,M.A)(s,"yyyy-MM-dd"),selectedWhiteLabels:H,selectedCountries:_,selectedStatuses:K,...te};console.log("[PLAYERS PAGE] Current filters:",t),he(0),Re()},children:"Apply Filters"})})]}),(0,G.jsxs)(x.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Players"}),(0,G.jsx)(r.A,{variant:"h5",children:$e.totalPlayers.toLocaleString()})]})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Active Players"}),(0,G.jsx)(r.A,{variant:"h5",children:$e.activePlayers.toLocaleString()})]})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Balance"}),(0,G.jsx)(r.A,{variant:"h5",children:Fe($e.totalBalance)})]})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Deposits"}),(0,G.jsx)(r.A,{variant:"h5",children:Fe($e.totalDeposits)})]})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total Bets"}),(0,G.jsx)(r.A,{variant:"h5",children:Fe($e.totalBets)})]})})}),(0,G.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:2,children:(0,G.jsx)(b.A,{children:(0,G.jsxs)(g.A,{children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Net Profit"}),(0,G.jsx)(r.A,{variant:"h5",sx:{color:$e.totalNetProfit>=0?"success.main":"error.main"},children:Fe($e.totalNetProfit)})]})})})]}),(0,G.jsxs)(c.A,{sx:{p:3},children:[(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,G.jsx)(B.A,{sx:{mr:1}}),(0,G.jsx)(r.A,{variant:"h6",children:"Players Data"})]}),ne&&(0,G.jsx)(f.A,{severity:"error",sx:{mb:3},children:ne}),(0,G.jsx)(P.zZ,{columns:Be,data:le,loading:ie,title:"Players Data",emptyMessage:"No players data available",idField:"id",onExport:async(t,l)=>{try{re(!0);const a=t===E.A.CSV?"csv":t===E.A.EXCEL?"xlsx":t===E.A.PDF?"pdf":"csv",i={startDate:(0,M.A)(e,"yyyy-MM-dd"),endDate:(0,M.A)(s,"yyyy-MM-dd"),whiteLabelIds:H.length>0?H.map((e=>parseInt(e))):void 0,countryIds:_.length>0?_:void 0,format:a};let r;if(Object.keys(te).length>0&&(console.log("[PLAYERS PAGE] Adding advanced filters to export:",te),te.registration&&(i.registrationDate=(0,M.A)(te.registration,"yyyy-MM-dd")),te.firstTimeDeposit&&(i.firstDepositDate=(0,M.A)(te.firstTimeDeposit,"yyyy-MM-dd")),te.lastDepositDate&&(i.lastDepositDate=(0,M.A)(te.lastDepositDate,"yyyy-MM-dd")),te.lastLogin&&(i.lastLoginDate=(0,M.A)(te.lastLogin,"yyyy-MM-dd")),te.trackers&&(i.trackers=te.trackers),te.promotionCode&&(i.promotionCode=te.promotionCode),te.players&&(i.playerIds=te.players.split(",").map((e=>e.trim()))),te.regPlayMode&&te.regPlayMode.length>0&&(i.playModes=te.regPlayMode),te.platform&&te.platform.length>0&&(i.platforms=te.platform),te.status&&te.status.length>0&&(i.statuses=te.status),te.gender&&te.gender.length>0&&(i.genders=te.gender),te.currency&&te.currency.length>0&&(i.currencies=te.currency),te.smsEnabled&&(i.smsEnabled="Yes"===te.smsEnabled),te.mailEnabled&&(i.mailEnabled="Yes"===te.mailEnabled),te.phoneEnabled&&(i.phoneEnabled="Yes"===te.phoneEnabled),te.postEnabled&&(i.postEnabled="Yes"===te.postEnabled),te.bonusEnabled&&(i.bonusEnabled="Yes"===te.bonusEnabled)),l.length>0&&(t===E.A.CSV||t===E.A.JSON)){if(t===E.A.CSV){const e=Be.map((e=>e.label||e.id)).join(","),t=`${e}\n${l.map((e=>Be.map((t=>{const s=e[t.id];return"object"===typeof s&&null!==s?JSON.stringify(s).replace(/"/g,'""'):void 0!==s&&null!==s?String(s).replace(/"/g,'""'):""})).join(","))).join("\n")}`;r=new Blob([t],{type:"text/csv"})}else if(t===E.A.JSON){const e=JSON.stringify(l,null,2);r=new Blob([e],{type:"application/json"})}}else r=await U.A.exportReport(i,a);if(r){const e=window.URL.createObjectURL(r),t=document.createElement("a");t.href=e,t.download=`players-report-${(0,M.A)(new Date,"yyyy-MM-dd")}.${a}`,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(e),document.body.removeChild(t)}}catch(a){console.error("[PLAYERS PAGE] Error exporting data:",a),oe("Failed to export data. Please try again later.")}finally{re(!1)}},features:{sorting:!0,filtering:{enabled:!0,quickFilter:!0,advancedFilter:!0},pagination:{enabled:!0,defaultPageSize:me,pageSizeOptions:[10,25,50,100]},columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0,allowResizing:!0},export:{enabled:!0,formats:[E.A.CSV,E.A.EXCEL,E.A.PDF]}},onRowClick:e=>{ke(e),We(!0)}})]}),(0,G.jsxs)(v.A,{open:Ne,onClose:Ye,maxWidth:"md",fullWidth:!0,children:[(0,G.jsx)(D.A,{children:"Player Details"}),(0,G.jsx)(S.A,{dividers:!0,children:Ie&&(0,G.jsxs)(x.Ay,{container:!0,spacing:3,children:[(0,G.jsxs)(x.Ay,{item:!0,xs:12,md:6,children:[(0,G.jsxs)(o.A,{sx:{mb:2},children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",children:"Basic Information"}),(0,G.jsx)(m.A,{sx:{my:1}}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(R.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Username:"})," ",Ie.username]})]}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(T.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Email:"})," ",Ie.email]})]}),Ie.phoneNumber&&(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(Y.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Phone:"})," ",Ie.phoneNumber]})]}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)($.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Country:"})," ",Ie.country||"N/A"]})]}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(V.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Registration Date:"})," ",Ie.registrationDate?(0,M.A)(new Date(Ie.registrationDate),"MMM dd, yyyy"):"N/A"]})]}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(V.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Last Login:"})," ",Ie.lastLoginDate?(0,M.A)(new Date(Ie.lastLoginDate),"MMM dd, yyyy"):"N/A"]})]})]}),(0,G.jsxs)(o.A,{sx:{mb:2},children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",children:"Additional Information"}),(0,G.jsx)(m.A,{sx:{my:1}}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Status:"})," ",Ie.status||"N/A"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"White Label:"})," ",Ie.whiteLabel||"N/A"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Platform:"})," ",Ie.platform||"N/A"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Device:"})," ",Ie.device||"N/A"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"KYC Status:"})," ",Ie.kycStatus||"N/A"]})]})]}),(0,G.jsxs)(x.Ay,{item:!0,xs:12,md:6,children:[(0,G.jsxs)(o.A,{sx:{mb:2},children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",children:"Financial Information"}),(0,G.jsx)(m.A,{sx:{my:1}}),(0,G.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,G.jsx)(O.A,{sx:{mr:1,color:"primary.main"}}),(0,G.jsxs)(r.A,{variant:"body1",children:[(0,G.jsx)("strong",{children:"Balance:"})," ",Fe(Ie.balance||0)]})]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Total Deposits:"})," ",Fe(Ie.totalDeposits||0)]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Total Withdrawals:"})," ",Fe(Ie.totalWithdrawals||0)]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Total Bets:"})," ",Fe(Ie.totalBets||0)]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Total Wins:"})," ",Fe(Ie.totalWins||0)]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Net Profit:"})," ",Fe(Ie.netProfit||0)]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Currency:"})," ",Ie.currency||"USD"]})]}),(0,G.jsxs)(o.A,{sx:{mb:2},children:[(0,G.jsx)(r.A,{variant:"subtitle2",color:"text.secondary",children:"Communication Preferences"}),(0,G.jsx)(m.A,{sx:{my:1}}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"SMS Enabled:"})," ",Ie.smsEnabled?"Yes":"No"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Email Enabled:"})," ",Ie.emailEnabled?"Yes":"No"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Phone Enabled:"})," ",Ie.phoneEnabled?"Yes":"No"]}),(0,G.jsxs)(r.A,{variant:"body1",sx:{mb:1},children:[(0,G.jsx)("strong",{children:"Bonus Eligible:"})," ",Ie.bonusEligible?"Yes":"No"]})]})]})]})}),(0,G.jsx)(C.A,{children:(0,G.jsx)(d.A,{onClick:Ye,children:"Close"})})]})]})}}}]);
//# sourceMappingURL=3186.e921dcf5.chunk.js.map