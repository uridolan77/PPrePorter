(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[934],{5934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ce});var n=a(65043),o=a(49367),r=a(96446),l=a(58168),s=a(98587),i=(a(30805),a(58387)),c=a(98610),d=a(473),A=a(34535),p=a(72876),u=a(85865),h=a(84794),x=a(59662),m=a(70579);const g=(0,x.A)((0,m.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var y=a(75429);const f=["slots","slotProps"],j=(0,A.Ay)(y.A)((e=>{let{theme:t}=e;return(0,l.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,l.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,l.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,h.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,h.tL)(t.palette.grey[600],.12)})})})),D=(0,A.Ay)(g)({width:24,height:16});const v=function(e){const{slots:t={},slotProps:a={}}=e,n=(0,s.A)(e,f),o=e;return(0,m.jsx)("li",{children:(0,m.jsx)(j,(0,l.A)({focusRipple:!0},n,{ownerState:o,children:(0,m.jsx)(D,(0,l.A)({as:t.CollapsedIcon,ownerState:o},a.collapsedIcon))}))})};var b=a(92532),C=a(72372);function w(e){return(0,C.Ay)("MuiBreadcrumbs",e)}const S=(0,b.A)("MuiBreadcrumbs",["root","ol","li","separator"]),E=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],I=(0,A.Ay)(u.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${S.li}`]:t.li},t.root]})({}),T=(0,A.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),M=(0,A.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function k(e,t,a,n){return e.reduce(((o,r,l)=>(l<e.length-1?o=o.concat(r,(0,m.jsx)(M,{"aria-hidden":!0,className:t,ownerState:n,children:a},`separator-${l}`)):o.push(r),o)),[])}const R=n.forwardRef((function(e,t){const a=(0,p.A)({props:e,name:"MuiBreadcrumbs"}),{children:o,className:r,component:A="nav",slots:u={},slotProps:h={},expandText:x="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:y=1,maxItems:f=8,separator:j="/"}=a,D=(0,s.A)(a,E),[b,C]=n.useState(!1),S=(0,l.A)({},a,{component:A,expanded:b,expandText:x,itemsAfterCollapse:g,itemsBeforeCollapse:y,maxItems:f,separator:j}),M=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,t)})(S),R=(0,d.Q)({elementType:u.CollapsedIcon,externalSlotProps:h.collapsedIcon,ownerState:S}),N=n.useRef(null),O=n.Children.toArray(o).filter((e=>n.isValidElement(e))).map(((e,t)=>(0,m.jsx)("li",{className:M.li,children:e},`child-${t}`)));return(0,m.jsx)(I,(0,l.A)({ref:t,component:A,color:"text.secondary",className:(0,i.A)(M.root,r),ownerState:S},D,{children:(0,m.jsx)(T,{className:M.ol,ref:N,ownerState:S,children:k(b||f&&O.length<=f?O:(e=>y+g>=e.length?e:[...e.slice(0,y),(0,m.jsx)(v,{"aria-label":x,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:R},onClick:()=>{C(!0);const e=N.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(O),M.separator,j,S)})}))}));var N=a(88446),O=a(35475),_=a(73216),L=a(19252),F=a(81637),B=a(14194),U=a(11906),V=a(12110),P=a(26494),G=a(77739),Y=a(17392),z=a(688),$=a(32143),W=a(63336),K=a(68903),H=a(8939),q=a(24056),J=a(48625),X=a(28242),Q=a(41132),Z=a(72898),ee=a(5780),te=a(19170),ae=a(46087),ne=a(69525);const oe=e=>{let{metadata:t,data:a,loading:o,error:l,onFilterChange:s,onRefresh:i,onExport:c}=e;const[d,A]=(0,n.useState)(0),[p,h]=(0,n.useState)(null),[x,g]=(0,n.useState)(!1),[y,f]=(0,n.useState)({startDate:(0,ee.A)((0,te.A)(new Date,30)),endDate:(0,ae.A)(new Date),gameCategory:"",playerStatus:"",country:"",minAmount:"",maxAmount:""}),j=()=>{h(null)},D=e=>{c(y,e),j()},v=()=>{i(y)};return(0,m.jsx)(V.A,{children:(0,m.jsxs)(P.A,{children:[(0,m.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,m.jsx)(u.A,{variant:"h5",children:"Advanced Daily Actions Report"}),(0,m.jsxs)(r.A,{children:[(0,m.jsx)(G.A,{title:"Refresh data",children:(0,m.jsx)(Y.A,{onClick:v,disabled:o,children:(0,m.jsx)(J.A,{})})}),(0,m.jsx)(G.A,{title:"Filter data",children:(0,m.jsx)(Y.A,{onClick:()=>{g(!x)},color:x?"primary":"default",children:(0,m.jsx)(X.A,{})})}),(0,m.jsx)(G.A,{title:"Export data",children:(0,m.jsx)(Y.A,{onClick:e=>{h(e.currentTarget)},disabled:o||!a,children:(0,m.jsx)(Q.A,{})})}),(0,m.jsxs)(z.A,{anchorEl:p,open:Boolean(p),onClose:j,children:[(0,m.jsx)($.A,{onClick:()=>D("csv"),children:"Export as CSV"}),(0,m.jsx)($.A,{onClick:()=>D("xlsx"),children:"Export as Excel"}),(0,m.jsx)($.A,{onClick:()=>D("pdf"),children:"Export as PDF"}),(0,m.jsx)($.A,{onClick:()=>D("json"),children:"Export as JSON"})]})]})]}),l&&(0,m.jsx)(B.A,{severity:"error",sx:{mb:3},children:l}),x&&(0,m.jsxs)(W.A,{variant:"outlined",sx:{p:2,mb:3},children:[(0,m.jsx)(u.A,{variant:"subtitle1",gutterBottom:!0,children:"Filters"}),(0,m.jsx)(K.Ay,{container:!0,spacing:2,children:(0,m.jsx)(K.Ay,{item:!0,xs:12,children:(0,m.jsx)(Z.A,{startDate:y.startDate,endDate:y.endDate,onChange:e=>{if(e.start&&e.end){const t={...y,startDate:e.start,endDate:e.end};f(t),s(t)}},buttonLabel:"Date Range"})})}),(0,m.jsxs)(r.A,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(U.A,{variant:"outlined",onClick:()=>{const e={startDate:(0,ee.A)((0,te.A)(new Date,30)),endDate:(0,ae.A)(new Date),gameCategory:"",playerStatus:"",country:"",minAmount:"",maxAmount:""};f(e),s(e)},sx:{mr:1},children:"Reset"}),(0,m.jsx)(U.A,{variant:"contained",onClick:v,children:"Apply Filters"})]})]}),(0,m.jsx)(r.A,{sx:{mb:3},children:(0,m.jsxs)(u.A,{variant:"body2",color:"text.secondary",children:["Showing data from ",(0,ne.A)(y.startDate,"MMM d, yyyy")," to ",(0,ne.A)(y.endDate,"MMM d, yyyy")]})}),o&&(0,m.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",my:4},children:(0,m.jsx)(F.A,{})}),!o&&a&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,m.jsxs)(H.A,{value:d,onChange:(e,t)=>{A(t)},children:[(0,m.jsx)(q.A,{label:"Summary"}),(0,m.jsx)(q.A,{label:"Detailed View"}),(0,m.jsx)(q.A,{label:"Charts"})]})}),(0,m.jsx)(r.A,{role:"tabpanel",hidden:0!==d,children:0===d&&(0,m.jsx)(u.A,{variant:"body1",children:"Summary content would go here. This is a placeholder component."})}),(0,m.jsx)(r.A,{role:"tabpanel",hidden:1!==d,children:1===d&&(0,m.jsx)(u.A,{variant:"body1",children:"Detailed view content would go here. This is a placeholder component."})}),(0,m.jsx)(r.A,{role:"tabpanel",hidden:2!==d,children:2===d&&(0,m.jsx)(u.A,{variant:"body1",children:"Charts content would go here. This is a placeholder component."})})]}),!o&&!a&&(0,m.jsxs)(r.A,{sx:{p:4,textAlign:"center"},children:[(0,m.jsx)(u.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No data available"}),(0,m.jsx)(u.A,{variant:"body2",color:"text.secondary",children:"Try adjusting your filters or select a different date range."}),(0,m.jsx)(U.A,{variant:"outlined",startIcon:(0,m.jsx)(J.A,{}),onClick:v,sx:{mt:2},children:"Refresh Data"})]})]})})};var re=a(54235),le=a(72450),se=a(93418);const ie=()=>{const[e,t]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[s,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[A,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(null);(0,_.Zp)();(0,n.useEffect)((()=>{g()}),[]);const g=async()=>{try{p(!0),x(null);if(se.Gv.USE_MOCK_DATA_FOR_UI_TESTING||"true"===localStorage.getItem("USE_MOCK_DATA_FOR_UI_TESTING")){console.log("[DAILY ACTIONS ADVANCED] Using mock data for metadata");const e=await a.e(800).then(a.bind(a,87800)),n=e.default.getMockData("/reports/daily-actions/metadata");if(n)return console.log("[DAILY ACTIONS ADVANCED] Got mock metadata:",n),void t(n)}console.log("[DAILY ACTIONS ADVANCED] Fetching metadata from service");const e=await re.A.getMetadata();t(e)}catch(e){console.error("Error fetching metadata:",e),x(e.message||"Failed to load filter options")}finally{p(!1)}};return A&&!e?(0,m.jsx)(L.A,{maxWidth:"lg",children:(0,m.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,m.jsx)(F.A,{})})}):h&&!e?(0,m.jsx)(L.A,{maxWidth:"lg",children:(0,m.jsx)(r.A,{sx:{mt:4},children:(0,m.jsxs)(B.A,{severity:"error",children:[h,(0,m.jsx)(r.A,{sx:{mt:2},children:(0,m.jsx)(u.A,{variant:"body2",children:"Please try refreshing the page or contact support if the problem persists."})})]})})}):(0,m.jsx)(L.A,{maxWidth:"lg",children:(0,m.jsx)(r.A,{sx:{mt:4,mb:4},children:(0,m.jsx)(oe,{metadata:e,data:o,loading:s,error:c,onFilterChange:e=>{console.log("Filters changed:",e)},onRefresh:async e=>{try{i(!0),d(null);const t={...e,startDate:e.startDate?(0,ne.A)(new Date(e.startDate),"yyyy-MM-dd"):null,endDate:e.endDate?(0,ne.A)(new Date(e.endDate),"yyyy-MM-dd"):null};console.log("[DAILY ACTIONS ADVANCED] Fetching data with filters:",t);if(se.Gv.USE_MOCK_DATA_FOR_UI_TESTING||"true"===localStorage.getItem("USE_MOCK_DATA_FOR_UI_TESTING")){console.log("[DAILY ACTIONS ADVANCED] Using mock data for report");const e=await a.e(800).then(a.bind(a,87800)),n=e.default.getMockData("/reports/daily-actions/data",t);if(n)return console.log("[DAILY ACTIONS ADVANCED] Got mock data:",n),void l(n)}console.log("[DAILY ACTIONS ADVANCED] Fetching data from service");const n=await re.A.getFilteredData(t);l(n)}catch(t){console.error("Error fetching report data:",t),d(t.message||"Failed to load report data")}finally{i(!1)}},onExport:async(e,t)=>{try{i(!0);const n={...e,startDate:e.startDate?(0,ne.A)(new Date(e.startDate),"yyyy-MM-dd"):null,endDate:e.endDate?(0,ne.A)(new Date(e.endDate),"yyyy-MM-dd"):null};console.log("[DAILY ACTIONS ADVANCED] Exporting data with filters:",n,"format:",t);if(se.Gv.USE_MOCK_DATA_FOR_UI_TESTING||"true"===localStorage.getItem("USE_MOCK_DATA_FOR_UI_TESTING")){console.log("[DAILY ACTIONS ADVANCED] Using mock data for export");const e=await a.e(800).then(a.bind(a,87800)),t=e.default.getMockData("/reports/daily-actions/data",n);if(t){console.log("[DAILY ACTIONS ADVANCED] Creating mock export file");const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=`daily-actions-report-${(0,ne.A)(new Date,"yyyy-MM-dd")}.json`;return void(0,le.saveAs)(e,a)}}console.log("[DAILY ACTIONS ADVANCED] Exporting data from service");const o=await re.A.exportFilteredReport(n,t),r=`daily-actions-report-${(0,ne.A)(new Date,"yyyy-MM-dd")}.${t}`;(0,le.saveAs)(o,r)}catch(n){console.error("Error exporting report:",n),d(n.message||"Failed to export report")}finally{i(!1)}}})})})},ce=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.mg,{children:(0,m.jsx)("title",{children:"Advanced Daily Actions Report | PPrePorter"})}),(0,m.jsxs)(r.A,{sx:{p:3},children:[(0,m.jsxs)(R,{"aria-label":"breadcrumb",sx:{mb:2},children:[(0,m.jsx)(N.A,{component:O.N_,to:"/",color:"inherit",children:"Dashboard"}),(0,m.jsx)(N.A,{component:O.N_,to:"/reports",color:"inherit",children:"Reports"}),(0,m.jsx)(u.A,{color:"text.primary",children:"Advanced Daily Actions"})]}),(0,m.jsx)(u.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Advanced Daily Actions Report"}),(0,m.jsx)(u.A,{variant:"subtitle1",color:"text.secondary",paragraph:!0,children:"Comprehensive analysis of daily player actions with advanced filtering options."}),(0,m.jsx)(ie,{})]})]})},72450:function(e,t,a){var n,o,r;o=[],void 0===(r="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a.g&&a.g.global===a.g?a.g:void 0,s=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,a){var s=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):o(i.href)?n(e,t,a):r(i,i.target="_blank")):(i.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,l){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),a);else if(o(e))n(e,a,l);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){r(s)}))}}:function(e,t,a,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var r="application/octet-stream"===e.type,i=/constructor/i.test(l.HTMLElement)||l.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&i||s)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var A=l.URL||l.webkitURL,p=A.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){A.revokeObjectURL(p)}),4e4)}});l.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,o):n)||(e.exports=r)},72898:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(65043),o=a(11906),r=a(17392),l=a(41020),s=a(85865),i=a(96446),c=a(29598),d=a(58390),A=a(82232),p=a(5780),u=a(46087),h=a(19170),x=a(72128),m=a(86255),g=a(45837),y=a(69525),f=a(3021),j=a(10155),D=a(70579);const v=e=>{let{startDate:t=null,endDate:a=null,onChange:v,buttonLabel:b="Date Range",presets:C=null,showClearButton:w=!0,autoApplyPresets:S=!0,disabled:E=!1,className:I,sx:T}=e;const[M,k]=(0,n.useState)(null),[R,N]=(0,n.useState)(t),[O,_]=(0,n.useState)(a),L=C||[{label:"Today",getValue:()=>({start:(0,p.A)(new Date),end:(0,u.A)(new Date)})},{label:"Yesterday",getValue:()=>({start:(0,p.A)((0,h.A)(new Date,1)),end:(0,u.A)((0,h.A)(new Date,1))})},{label:"Last 7 days",getValue:()=>({start:(0,p.A)((0,h.A)(new Date,6)),end:(0,u.A)(new Date)})},{label:"Last 30 days",getValue:()=>({start:(0,p.A)((0,h.A)(new Date,29)),end:(0,u.A)(new Date)})},{label:"This month",getValue:()=>({start:(0,x.A)(new Date),end:(0,m.A)(new Date)})},{label:"Last month",getValue:()=>{const e=new Date;return e.setMonth(e.getMonth()-1),{start:(0,x.A)(e),end:(0,m.A)(e)}}}],F=()=>{k(null)},B=Boolean(M),U=B?"date-range-popover":void 0;return(0,D.jsxs)("div",{className:I,style:T,children:[(0,D.jsx)(o.A,{variant:"outlined",onClick:e=>{k(e.currentTarget),N(t),_(a)},startIcon:(0,D.jsx)(f.A,{}),endIcon:w&&t&&a&&(0,g.A)(t)&&(0,g.A)(a)?(0,D.jsx)(r.A,{size:"small",onClick:e=>{e&&e.stopPropagation(),N(null),_(null),v&&v({start:null,end:null}),F()},children:(0,D.jsx)(j.A,{fontSize:"small"})}):void 0,sx:{justifyContent:"space-between",minWidth:200,textTransform:"none"},disabled:E,children:t&&a&&(0,g.A)(t)&&(0,g.A)(a)?`${(0,y.A)(t,"MMM dd, yyyy")} - ${(0,y.A)(a,"MMM dd, yyyy")}`:b}),(0,D.jsxs)(l.Ay,{id:U,open:B,anchorEl:M,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{elevation:8,sx:{p:2,width:{xs:"90vw",sm:400}}},children:[(0,D.jsx)(s.A,{variant:"subtitle1",gutterBottom:!0,children:"Select Date Range"}),(0,D.jsx)(i.A,{sx:{mb:2},children:(0,D.jsx)(d.$,{dateAdapter:A.h,children:(0,D.jsxs)(i.A,{sx:{display:"flex",gap:2},children:[(0,D.jsx)(c.l,{label:"Start Date",value:R,onChange:e=>N(e),slotProps:{textField:{size:"small",fullWidth:!0,helperText:R?(0,y.A)(R,"EEEE"):""}}}),(0,D.jsx)(c.l,{label:"End Date",value:O,onChange:e=>_(e),minDate:R,slotProps:{textField:{size:"small",fullWidth:!0,helperText:O?(0,y.A)(O,"EEEE"):""}}})]})})}),(0,D.jsx)(s.A,{variant:"subtitle2",gutterBottom:!0,children:"Presets"}),(0,D.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:L.map(((e,t)=>(0,D.jsx)(o.A,{size:"small",variant:"outlined",onClick:()=>(e=>{const{start:t,end:a}=e.getValue();N(t),_(a),S&&(v&&v({start:t,end:a}),F())})(e),children:e.label},t)))}),(0,D.jsxs)(i.A,{sx:{display:"flex",justifyContent:"flex-end",gap:1,mt:2},children:[(0,D.jsx)(o.A,{variant:"outlined",onClick:F,children:"Cancel"}),(0,D.jsx)(o.A,{variant:"contained",color:"primary",onClick:()=>{v&&v({start:R,end:O}),F()},children:"Apply"})]})]})]})}}}]);
//# sourceMappingURL=934.bfa3f0ab.chunk.js.map