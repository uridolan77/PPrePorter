"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[790],{59790:(e,a,t)=>{t.r(a),t.d(a,{default:()=>pa});var n=t(65043),r=t(83003),s=t(26240),i=t(19252),l=t(96446),o=t(81637),d=t(85865),c=t(14194),m=t(11906),h=t(48625),x=t(5780),u=t(19170),g=t(46087),j=t(69525),y=t(69717),p=t(72898),v=t(24879),A=t(91225);var b=t(63336),f=t(68903),w=t(45424),k=t(32143),S=t(2050),R=t(48734),C=t(37515),P=t(37948),D=t(28242),M=t(86974),T=t(10155),I=t(45194),z=t(70579);const B=e=>{let{user:a,onRefresh:t,onToggleFilters:n,onFilterReset:r,onToggleTestPanel:i,filterMenuAnchor:o,onFilterMenuClick:c,onFilterMenuClose:x,showTestPanel:u,sx:g}=e;const j=(0,s.A)();return(0,z.jsx)(C.A,{fallback:(0,z.jsx)(b.A,{elevation:0,sx:{p:3,mb:4,bgcolor:j.palette.error.light,color:"white",borderRadius:2},children:(0,z.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(P.A,{sx:{mr:2,fontSize:32}}),(0,z.jsx)(d.A,{variant:"h6",children:"Something went wrong loading the dashboard header"})]})}),children:(0,z.jsx)(b.A,{elevation:0,sx:{p:3,mb:4,bgcolor:j.palette.primary.main,color:"white",borderRadius:2,...g},children:(0,z.jsxs)(f.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,z.jsxs)(f.Ay,{item:!0,xs:12,md:8,children:[(0,z.jsxs)(d.A,{variant:"h4",component:"h1",gutterBottom:!0,children:["Welcome, ",(null===a||void 0===a?void 0:a.firstName)||"User","!"]}),(0,z.jsx)(d.A,{variant:"body1",children:"Here's an overview of your PP Reporter performance. Use the dashboard to monitor key metrics and gain insights."})]}),(0,z.jsx)(f.Ay,{item:!0,xs:12,md:4,sx:{textAlign:"right"},children:(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,z.jsx)(m.A,{variant:"contained",color:"secondary",onClick:c,startIcon:(0,z.jsx)(D.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Open filter menu",children:"Filter"}),(0,z.jsx)(m.A,{variant:"contained",color:"secondary",onClick:t,startIcon:(0,z.jsx)(h.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Refresh dashboard data",children:"Refresh"}),(0,z.jsx)(m.A,{variant:"contained",color:"secondary",onClick:i,startIcon:(0,z.jsx)(I.A,{}),sx:{bgcolor:"white",color:j.palette.primary.main,"&:hover":{bgcolor:j.palette.grey[100]}},"aria-label":"Toggle test panel",children:"Test"}),(0,z.jsxs)(w.A,{anchorEl:o,open:Boolean(o),onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,z.jsxs)(k.A,{onClick:n,children:[(0,z.jsx)(S.A,{children:(0,z.jsx)(M.A,{fontSize:"small"})}),(0,z.jsx)(R.A,{children:"Advanced Filters"})]}),(0,z.jsxs)(k.A,{onClick:r,children:[(0,z.jsx)(S.A,{children:(0,z.jsx)(T.A,{fontSize:"small"})}),(0,z.jsx)(R.A,{children:"Reset Filters"})]})]})]})})]})})})};var G=t(8939),L=t(24056),E=t(33094),F=t(92877),$=t(4721),K=t(37991),N=t(74523),W=t(15415),O=t(56851);const U=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return null===e||void 0===e?"\u2014":new Intl.NumberFormat("en-GB",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},H=e=>{if(!e)return"\u2014";const a="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}).format(a)},Z=e=>{if(!e)return"\u2014";const a="string"===typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)},V=e=>{let{stats:a,loading:t=!1,error:n=null,title:r="Key Metrics",onRetry:s,sx:i}=e;if(n)return(0,z.jsx)(F.A,{message:`Error loading metrics: ${n.message}`,icon:(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main"}}),action:s?(0,z.jsx)(m.A,{onClick:s,children:"Retry"}):void 0});const o=a||{revenue:{value:0,change:0},players:{value:0,change:0},games:{value:0,change:0},engagement:{value:0,change:0}};return(0,z.jsx)(C.A,{fallback:(0,z.jsx)(F.A,{message:"Error displaying metrics"}),children:(0,z.jsxs)(l.A,{sx:{mb:4,...i},children:[(0,z.jsx)(d.A,{variant:"h5",sx:{mb:2},children:r}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Total Revenue",value:U(o.revenue.value),trend:o.revenue.change,icon:(0,z.jsx)($.A,{}),loading:t,description:"Total revenue across all games"})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Active Players",value:o.players.value.toLocaleString(),trend:o.players.change,icon:(0,z.jsx)(K.A,{}),loading:t,description:"Number of active players"})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Popular Games",value:o.games.value,trend:o.games.change,icon:(0,z.jsx)(N.A,{}),loading:t,description:"Number of games with active players"})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Engagement Rate",value:`${o.engagement.value}%`,trend:o.engagement.change,icon:(0,z.jsx)(W.A,{}),loading:t,description:"Average player engagement rate"})})]})]})})},_=(0,n.memo)(V);var J=t(53193),q=t(18356),Q=t(69285),Y=t(78185),X=t(13593),ee=t(83600),ae=t(50108),te=t(75748),ne=t(87734),re=t(52185),se=t(6026),ie=t(86150),le=t(90168),oe=t(877),de=t(21327),ce=t(13839);const me=e=>{let{data:a,isLoading:t=!1,height:r=300,error:i=null,onRetry:c,sx:m}=e;const h=(0,s.A)(),x=(0,ee.A)(h.breakpoints.down("sm")),u=(0,n.useMemo)((()=>a&&0!==a.length?a.map((e=>({date:H(e.date),fullDate:e.date,revenue:parseFloat((e.revenue||e.value||0).toString()),formattedValue:U(e.revenue||e.value||0)}))):[]),[a]);return t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...m},children:(0,z.jsx)(o.A,{})}):i?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...m},children:(0,z.jsxs)(d.A,{variant:"body1",color:"error",children:["Error loading revenue data: ",i.message,c&&(0,z.jsx)(l.A,{component:"span",sx:{ml:2,cursor:"pointer",textDecoration:"underline"},onClick:c,children:"Retry"})]})}):a&&0!==a.length?x?(0,z.jsx)(l.A,{sx:{width:"100%",height:r,...m},children:(0,z.jsx)(ae.u,{children:(0,z.jsxs)(te.b,{data:u,margin:{top:10,right:10,left:0,bottom:0},children:[(0,z.jsx)(ne.d,{strokeDasharray:"3 3"}),(0,z.jsx)(re.W,{dataKey:"date",tick:{fontSize:10},interval:"preserveStartEnd"}),(0,z.jsx)(se.h,{tickFormatter:e=>U(e,"GBP").replace("\xa3",""),tick:{fontSize:10},width:40}),(0,z.jsx)(ie.m,{formatter:e=>[U(e),"Revenue"],labelFormatter:e=>{const a=u.find((a=>a.date===e));return a?H(a.fullDate):e}}),(0,z.jsx)(le.N,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",strokeWidth:2,dot:{r:3},activeDot:{r:5}})]})})}):(0,z.jsx)(l.A,{sx:{width:"100%",height:r,...m},children:(0,z.jsx)(ae.u,{children:(0,z.jsxs)(oe.Q,{data:u,margin:{top:10,right:30,left:0,bottom:0},children:[(0,z.jsx)(ne.d,{strokeDasharray:"3 3"}),(0,z.jsx)(re.W,{dataKey:"date"}),(0,z.jsx)(se.h,{tickFormatter:e=>U(e,"GBP").replace("\xa3","")}),(0,z.jsx)(ie.m,{formatter:e=>[U(e),"Revenue"]}),(0,z.jsx)(de.s,{}),(0,z.jsx)(ce.G,{type:"monotone",dataKey:"revenue",name:"Revenue",stroke:"#2e7d32",fill:"#4caf50",fillOpacity:.3})]})})}):(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...m},children:(0,z.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"No revenue data available"})})},he=(0,n.memo)(me);var xe=t(82291),ue=t(38643),ge=t(17869),je=t(28076),ye=t(10039),pe=t(79650),ve=t(71806),Ae=t(84882),be=t(73460),fe=t(11634);function we(e){let{data:a=[],columns:t=[],height:r=400,width:s="100%",rowHeight:i=53,loading:c=!1,emptyMessage:m="No data to display",onRowClick:h,headerHeight:x=56,sx:u={}}=e;const g=(0,n.useCallback)((e=>{let{index:n,style:r}=e;const s=a[n];return(0,z.jsx)(je.A,{component:"div",hover:!0,onClick:h?()=>h(s):void 0,style:{...r,display:"flex",alignItems:"center",boxSizing:"border-box",cursor:h?"pointer":"default"},children:t.map((e=>{const a=s[e.id],n=100/t.length+"%";return(0,z.jsx)(ye.A,{component:"div",align:e.align||"left",style:{width:n,display:"flex",alignItems:"center",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.format?e.format(a,s):a},e.id)}))})}),[a,t,h]);return c?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...u},children:(0,z.jsx)(o.A,{})}):a&&0!==a.length?(0,z.jsx)(b.A,{sx:{height:r,width:s,overflow:"hidden",...u},children:(0,z.jsx)(pe.A,{component:"div",sx:{height:"100%",width:"100%"},children:(0,z.jsxs)(ve.A,{component:"div",sx:{display:"block",width:"100%",height:"100%"},children:[(0,z.jsx)(Ae.A,{component:"div",sx:{display:"block",width:"100%"},children:(0,z.jsx)(je.A,{component:"div",sx:{display:"flex",width:"100%",height:x,alignItems:"center"},children:t.map((e=>{const a=100/t.length+"%";return(0,z.jsx)(ye.A,{component:"div",align:e.align||"left",sx:{width:a,display:"flex",alignItems:"center",fontWeight:"bold",boxSizing:"border-box"},children:e.label},e.id)}))})}),(0,z.jsx)(be.A,{component:"div",sx:{display:"block",width:"100%",height:`calc(${r}px - ${x}px)`,overflow:"hidden"},children:(0,z.jsx)(fe.Y1,{height:r-x,width:"100%",itemCount:a.length,itemSize:i,style:{overflow:"auto"},children:g})})]})})}):(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...u},children:(0,z.jsx)(d.A,{variant:"body1",color:"text.secondary",children:m})})}const ke=(0,n.memo)(we),Se=e=>{let{active:a,payload:t,label:n}=e;return a&&t&&t.length?(0,z.jsxs)(l.A,{sx:{bgcolor:"background.paper",p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:1},children:[(0,z.jsx)(d.A,{variant:"subtitle2",gutterBottom:!0,children:t[0].payload.name}),(0,z.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Revenue: ",U(t[0].value)]}),(0,z.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Players: ",t[0].payload.players.toLocaleString()]})]}):null},Re=e=>{let{data:a,isLoading:t=!1,height:r=300,showLegend:i=!0,error:c=null,onRetry:m,sx:h,emptyStateMessage:x="No game data available",errorFallback:u,valueKey:g="revenue",nameKey:j="name"}=e;const y=(0,s.A)(),[p,v]=(0,n.useState)("chart"),A=(0,n.useMemo)((()=>a&&0!==a.length?a.map((e=>({name:e.name,revenue:e.revenue,players:e.players,category:e.category}))):[]),[a]),b=(0,n.useMemo)((()=>[y.palette.primary.main,y.palette.primary.light,y.palette.secondary.main,y.palette.secondary.light,y.palette.info.main,y.palette.info.light,y.palette.success.main,y.palette.success.light,y.palette.warning.main,y.palette.warning.light]),[y]),f=(0,n.useMemo)((()=>[{id:"name",label:"Game Name",align:"left"},{id:"category",label:"Category",align:"left"},{id:"revenue",label:"Revenue",align:"right",format:e=>U(e)},{id:"players",label:"Players",align:"right",format:e=>e.toLocaleString()}]),[]);return t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...h},children:(0,z.jsx)(o.A,{})}):c?u?u(c):(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...h},children:(0,z.jsxs)(d.A,{variant:"body1",color:"error",children:["Error loading games data: ",c.message,m&&(0,z.jsx)(l.A,{component:"span",sx:{ml:2,cursor:"pointer",textDecoration:"underline"},onClick:m,children:"Retry"})]})}):a&&0!==a.length?(0,z.jsxs)(l.A,{sx:{width:"100%",...h},children:[(0,z.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:2},children:(0,z.jsxs)(G.A,{value:p,onChange:(e,a)=>{v(a)},"aria-label":"view mode tabs",children:[(0,z.jsx)(L.A,{label:"Chart",value:"chart"}),(0,z.jsx)(L.A,{label:"Table",value:"table"})]})}),"chart"===p?(0,z.jsx)(l.A,{sx:{width:"100%",height:r},children:(0,z.jsx)(ae.u,{children:(0,z.jsxs)(xe.E,{data:A,margin:{top:20,right:30,left:20,bottom:70},children:[(0,z.jsx)(ne.d,{strokeDasharray:"3 3"}),(0,z.jsx)(re.W,{dataKey:"name",angle:-45,textAnchor:"end",height:70,tick:{fontSize:12}}),(0,z.jsx)(se.h,{tickFormatter:e=>`\xa3${e.toLocaleString()}`,tick:{fontSize:12}}),(0,z.jsx)(ie.m,{content:(0,z.jsx)(Se,{})}),i&&(0,z.jsx)(de.s,{}),(0,z.jsx)(ue.y,{dataKey:"revenue",name:"Revenue",radius:[4,4,0,0],children:A.map(((e,a)=>(0,z.jsx)(ge.f,{fill:b[a%b.length]},`cell-${a}`)))})]})})}):(0,z.jsx)(ke,{data:a,columns:f,height:r,rowHeight:53,loading:t,emptyMessage:"No games data available"})]}):(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:r,...h},children:(0,z.jsx)(d.A,{variant:"body1",color:"text.secondary",children:x})})},Ce=(0,n.memo)(Re),Pe=e=>{let{data:a,loading:t,error:r,title:s="Performance Metrics",timePeriod:i="week",onTimePeriodChange:o,sx:c}=e;const m=a||{revenueByDay:[],playersByGame:[]},h=(0,n.useMemo)((()=>m.revenueByDay.map((e=>({date:e.day,revenue:e.value})))),[m.revenueByDay]),x=(0,n.useMemo)((()=>m.playersByGame.map(((e,a)=>({id:`game-${a}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Unknown"})))),[m.playersByGame]);return r?(0,z.jsx)(F.A,{message:`Error loading charts: ${r.message}`,icon:(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main"}})}):(0,z.jsx)(C.A,{fallback:(0,z.jsx)(F.A,{message:"Error displaying charts"}),children:(0,z.jsxs)(l.A,{sx:{mb:4,...c},children:[(0,z.jsx)(d.A,{variant:"h5",sx:{mb:2},children:s}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsx)(X.A,{title:"Revenue Trends",action:(0,z.jsx)(l.A,{sx:{display:"flex",alignItems:"center"},children:(0,z.jsxs)(J.A,{size:"small",sx:{minWidth:120},children:[(0,z.jsx)(q.A,{id:"time-period-label",children:"Period"}),(0,z.jsxs)(Q.A,{labelId:"time-period-label",id:"time-period-select",value:i,label:"Period",onChange:e=>{o&&o(e.target.value)},children:[(0,z.jsx)(k.A,{value:"day",children:"Day"}),(0,z.jsx)(k.A,{value:"week",children:"Week"}),(0,z.jsx)(k.A,{value:"month",children:"Month"}),(0,z.jsx)(k.A,{value:"quarter",children:"Quarter"})]})]})}),children:t?(0,z.jsx)(l.A,{sx:{p:3},children:(0,z.jsx)(Y.A,{variant:"rectangular",height:300})}):(0,z.jsx)(he,{data:h,isLoading:t})})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsx)(X.A,{title:"Player Distribution by Game",children:t?(0,z.jsx)(l.A,{sx:{p:3},children:(0,z.jsx)(Y.A,{variant:"rectangular",height:300})}):(0,z.jsx)(Ce,{data:x,isLoading:t})})})]})]})})},De=(0,n.memo)(Pe);var Me=t(77739),Te=t(17392),Ie=t(41132),ze=t(92577),Be=t(43845);const Ge=e=>{let{data:a,isLoading:t=!1,maxHeight:n=400,showHeader:r=!0}=e;const i=(0,s.A)(),o=e=>{switch(e.toLowerCase()){case"completed":case"success":return i.palette.success.main;case"pending":case"processing":return i.palette.warning.main;case"failed":case"declined":return i.palette.error.main;case"refunded":return i.palette.info.main;default:return i.palette.grey[500]}},c=e=>{switch(e.toLowerCase()){case"deposit":return i.palette.success.main;case"withdrawal":return i.palette.error.main;case"bonus":return i.palette.info.main;case"wager":return i.palette.warning.main;case"win":return i.palette.success.light;default:return i.palette.grey[500]}};return t?(0,z.jsx)(pe.A,{component:b.A,sx:{maxHeight:n},children:(0,z.jsxs)(ve.A,{stickyHeader:!0,size:"small",children:[r&&(0,z.jsx)(Ae.A,{children:(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:"Player"}),(0,z.jsx)(ye.A,{children:"Type"}),(0,z.jsx)(ye.A,{align:"right",children:"Amount"}),(0,z.jsx)(ye.A,{children:"Date"}),(0,z.jsx)(ye.A,{children:"Status"})]})}),(0,z.jsx)(be.A,{children:Array.from(new Array(5)).map(((e,a)=>(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:(0,z.jsx)(Y.A,{width:120})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Y.A,{width:80})}),(0,z.jsx)(ye.A,{align:"right",children:(0,z.jsx)(Y.A,{width:60})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Y.A,{width:100})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Y.A,{width:80})})]},a)))})]})}):a&&0!==a.length?(0,z.jsx)(pe.A,{component:b.A,sx:{maxHeight:n},children:(0,z.jsxs)(ve.A,{stickyHeader:!0,size:"small",children:[r&&(0,z.jsx)(Ae.A,{children:(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:"Player"}),(0,z.jsx)(ye.A,{children:"Type"}),(0,z.jsx)(ye.A,{align:"right",children:"Amount"}),(0,z.jsx)(ye.A,{children:"Date"}),(0,z.jsx)(ye.A,{children:"Status"})]})}),(0,z.jsx)(be.A,{children:a.map((e=>(0,z.jsxs)(je.A,{hover:!0,children:[(0,z.jsx)(ye.A,{children:(0,z.jsx)(d.A,{variant:"body2",noWrap:!0,sx:{maxWidth:150},children:e.playerName})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Be.A,{label:e.type,size:"small",sx:{bgcolor:`${c(e.type)}20`,color:c(e.type),fontWeight:"medium",fontSize:"0.75rem"}})}),(0,z.jsx)(ye.A,{align:"right",children:(0,z.jsx)(d.A,{variant:"body2",fontWeight:"medium",color:"deposit"===e.type.toLowerCase()||"win"===e.type.toLowerCase()?"success.main":"withdrawal"===e.type.toLowerCase()?"error.main":"text.primary",children:U(e.amount,e.currency)})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(d.A,{variant:"body2",color:"text.secondary",children:Z(e.timestamp)})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Be.A,{label:e.status,size:"small",sx:{bgcolor:`${o(e.status)}20`,color:o(e.status),fontWeight:"medium",fontSize:"0.75rem"}})})]},e.id)))})]})}):(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:(0,z.jsx)(d.A,{variant:"body1",color:"text.secondary",children:"No transaction data available"})})},Le=(0,n.memo)(Ge),Ee=e=>{let{data:a,isLoading:t=!1,onDownload:r=()=>{},onSettings:s=()=>{}}=e;const i=(0,n.useMemo)((()=>a||[]),[a]);return(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Recent Transactions"}),(0,z.jsxs)(l.A,{children:[(0,z.jsx)(Me.A,{title:"Download report",children:(0,z.jsx)(Te.A,{size:"small",sx:{mr:1},onClick:r,"aria-label":"Download transactions report",children:(0,z.jsx)(Ie.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Settings",children:(0,z.jsx)(Te.A,{size:"small",onClick:s,"aria-label":"Transactions settings",children:(0,z.jsx)(ze.A,{fontSize:"small"})})})]})]}),(0,z.jsx)(X.A,{children:t&&0===i.length?(0,z.jsx)(l.A,{sx:{p:3},children:(0,z.jsx)(Y.A,{variant:"rectangular",height:300})}):i.length?(0,z.jsx)(Le,{data:i,isLoading:t,errorFallback:e=>(0,z.jsx)(F.A,{message:`Error loading transactions: ${e.message}`,icon:(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main"}})})}):(0,z.jsx)(F.A,{message:"No recent transactions available",icon:(0,z.jsx)($.A,{sx:{fontSize:48}})})})]})},Fe=e=>{var a,t,r,s,i,o,c;let{dashboardData:m,isLoading:h=!1,error:x=null}=e;const[u,g]=(0,n.useState)("week");if(x)return(0,z.jsxs)(l.A,{sx:{p:3,textAlign:"center"},children:[(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,z.jsx)(d.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Dashboard Data"}),(0,z.jsx)(d.A,{variant:"body2",color:"text.secondary",children:x.message||"An unexpected error occurred. Please try again later."})]});const j={revenue:(null===m||void 0===m||null===(a=m.stats)||void 0===a?void 0:a.revenue)||{value:0,change:0},players:(null===m||void 0===m||null===(t=m.stats)||void 0===t?void 0:t.players)||{value:0,change:0},games:{value:(null===m||void 0===m||null===(r=m.topGames)||void 0===r?void 0:r.length)||0,change:0},engagement:{value:(null===m||void 0===m||null===(s=m.stats)||void 0===s?void 0:s.engagementRate)||0,change:(null===m||void 0===m||null===(i=m.stats)||void 0===i?void 0:i.engagementChange)||0}},y={revenueByDay:((null===m||void 0===m||null===(o=m.charts)||void 0===o?void 0:o.revenueByDay)||[]).map((e=>({day:e.date,value:e.value}))),playersByGame:((null===m||void 0===m||null===(c=m.charts)||void 0===c?void 0:c.playersByGame)||[]).map((e=>({game:e.name,value:e.players})))};return(0,z.jsx)(C.A,{fallback:(0,z.jsx)(F.A,{message:"Something went wrong loading the dashboard",icon:(0,z.jsx)(P.A,{})}),children:(0,z.jsxs)(l.A,{children:[(0,z.jsx)(_,{stats:j,loading:h,error:x,title:"Key Performance Indicators"}),(0,z.jsx)(De,{data:y,loading:h,error:x,title:"Performance Analytics",timePeriod:u,onTimePeriodChange:e=>{g(e),console.log(`Time period changed to ${e}`)}}),(0,z.jsx)(Ee,{data:null===m||void 0===m?void 0:m.recentTransactions,isLoading:h,onDownload:()=>console.log("Download transactions report"),onSettings:()=>console.log("Open transactions settings")})]})})},$e=(0,n.memo)(Fe);var Ke=t(37912),Ne=t(93881),We=t(87890),Oe=t(4240);const Ue=e=>{var a,t;let{dashboardData:r,isLoading:i=!1,error:o=null,theme:c}=e;const m=(0,s.A)(),h=c||m,[x,u]=(0,n.useState)("line"),[g,j]=(0,n.useState)("week"),y=((0,n.useMemo)((()=>[h.palette.primary.main,h.palette.secondary.main,h.palette.success.main,h.palette.error.main,h.palette.warning.main,h.palette.info.main]),[h.palette]),(0,n.useMemo)((()=>{var e;return(null===r||void 0===r||null===(e=r.charts)||void 0===e?void 0:e.revenueByDay)||[{day:"Mon",value:2100},{day:"Tue",value:2400},{day:"Wed",value:1800},{day:"Thu",value:2200},{day:"Fri",value:2600},{day:"Sat",value:3100},{day:"Sun",value:2500}]}),[null===r||void 0===r||null===(a=r.charts)||void 0===a?void 0:a.revenueByDay])),p=(0,n.useMemo)((()=>{var e;return(null===r||void 0===r||null===(e=r.charts)||void 0===e?void 0:e.playersByGame)||[{game:"Poker",value:450},{game:"Slots",value:380},{game:"Roulette",value:240},{game:"Blackjack",value:190},{game:"Baccarat",value:165}]}),[null===r||void 0===r||null===(t=r.charts)||void 0===t?void 0:t.playersByGame]),v=(0,n.useMemo)((()=>(null===r||void 0===r?void 0:r.kpis)||{averageSessionTime:45,conversionRate:3.2,churnRate:5.7,revenuePerUser:87.5}),[null===r||void 0===r?void 0:r.kpis]),A=(0,n.useMemo)((()=>y.map((e=>({date:e.day,revenue:e.value})))),[y]);if(o)return(0,z.jsxs)(l.A,{sx:{p:3,textAlign:"center"},children:[(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main",mb:2}}),(0,z.jsx)(d.A,{variant:"h6",color:"error",gutterBottom:!0,children:"Error Loading Performance Data"}),(0,z.jsx)(d.A,{variant:"body2",color:"text.secondary",children:o.message||"An unexpected error occurred. Please try again later."})]});return(0,z.jsx)(C.A,{fallback:(0,z.jsx)(F.A,{message:"Something went wrong loading the performance data",icon:(0,z.jsx)(P.A,{})}),children:(0,z.jsxs)(l.A,{children:[(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Performance Metrics"}),(0,z.jsxs)(l.A,{children:[(0,z.jsx)(Me.A,{title:"Download report",children:(0,z.jsx)(Te.A,{size:"small",sx:{mr:1},children:(0,z.jsx)(Ie.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Settings",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(ze.A,{fontSize:"small"})})})]})]}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsx)(X.A,{title:"Revenue Trends",action:(0,z.jsx)(l.A,{sx:{display:"flex",alignItems:"center"},children:(0,z.jsxs)(J.A,{size:"small",sx:{minWidth:120},children:[(0,z.jsx)(q.A,{id:"time-period-label",children:"Period"}),(0,z.jsxs)(Q.A,{labelId:"time-period-label",id:"time-period-select",value:g,label:"Period",onChange:e=>{j(e.target.value)},children:[(0,z.jsx)(k.A,{value:"day",children:"Day"}),(0,z.jsx)(k.A,{value:"week",children:"Week"}),(0,z.jsx)(k.A,{value:"month",children:"Month"}),(0,z.jsx)(k.A,{value:"quarter",children:"Quarter"})]})]})}),children:i&&0===y.length?(0,z.jsx)(l.A,{sx:{p:3},children:(0,z.jsx)(Y.A,{variant:"rectangular",height:300})}):(0,z.jsx)(he,{data:A,isLoading:i})})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsx)(X.A,{title:"Player Distribution by Game",children:i&&0===p.length?(0,z.jsx)(l.A,{sx:{p:3},children:(0,z.jsx)(Y.A,{variant:"rectangular",height:300})}):(0,z.jsx)(Ce,{data:p.map(((e,a)=>({id:`game-${a}`,name:e.game,revenue:e.value,players:e.value,sessions:0,category:"Game"}))),isLoading:i,valueKey:"revenue",nameKey:"name",emptyStateMessage:"No player distribution data available"})})})]})]}),(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,z.jsx)(d.A,{variant:"h5",children:"Key Performance Indicators"})}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Avg. Session Time",value:`${v.averageSessionTime} min`,icon:(0,z.jsx)(W.A,{}),loading:i,description:"Average time users spend in a single session"})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Conversion Rate",value:`${v.conversionRate}%`,icon:(0,z.jsx)(Ke.A,{}),loading:i,description:"Percentage of visitors who register"})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Churn Rate",value:`${v.churnRate}%`,icon:(0,z.jsx)(Ne.A,{}),loading:i,description:"Percentage of users who stop using the platform",isInverse:!0})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,z.jsx)(O.A,{title:"Revenue Per User",value:U(v.revenuePerUser),icon:(0,z.jsx)($.A,{}),loading:i,description:"Average revenue generated per active user"})})]})]})]})})};var He=t(81045),Ze=t(89735),Ve=t(57566),_e=t(47260),Je=t(95540),qe=t(63471);const Qe=e=>{let{dashboardData:a,isLoading:t=!1,theme:r}=e;const i=(0,s.A)(),c=r||i,[h,x]=(0,n.useState)(0),[u,g]=(0,n.useState)(5),j=(0,n.useMemo)((()=>[c.palette.primary.main,c.palette.secondary.main,c.palette.success.main,c.palette.error.main,c.palette.warning.main,c.palette.info.main]),[c.palette]),y=(null===a||void 0===a?void 0:a.playerRegistrations)||[{date:"2023-05-01",count:45},{date:"2023-05-02",count:38},{date:"2023-05-03",count:52},{date:"2023-05-04",count:41},{date:"2023-05-05",count:37},{date:"2023-05-06",count:29},{date:"2023-05-07",count:33}],p=(null===a||void 0===a?void 0:a.playerDemographics)||[{name:"Male",value:65},{name:"Female",value:30},{name:"Other",value:5}],v=(null===a||void 0===a?void 0:a.playerAgeData)||[{age:"18-24",count:120},{age:"25-34",count:280},{age:"35-44",count:210},{age:"45-54",count:150},{age:"55+",count:90}],A=(null===a||void 0===a?void 0:a.recentPlayers)||[{id:1,name:"John Doe",registeredAt:"2023-05-01T08:30:00Z",status:"active",country:"USA"},{id:2,name:"Jane Smith",registeredAt:"2023-05-02T10:15:00Z",status:"active",country:"Canada"},{id:3,name:"Mike Johnson",registeredAt:"2023-05-03T14:45:00Z",status:"inactive",country:"UK"},{id:4,name:"Lisa Brown",registeredAt:"2023-05-04T09:20:00Z",status:"active",country:"Australia"},{id:5,name:"Robert Wilson",registeredAt:"2023-05-05T16:10:00Z",status:"pending",country:"Germany"}],w=e=>{if(!e)return"";return new Date(e).toLocaleDateString()},k=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"success";case"inactive":return"error";case"pending":return"warning";default:return"default"}};return(0,z.jsxs)(l.A,{children:[(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Player Acquisition"}),(0,z.jsxs)(l.A,{children:[(0,z.jsx)(Me.A,{title:"Download report",children:(0,z.jsx)(Te.A,{size:"small",sx:{mr:1},children:(0,z.jsx)(Ie.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Settings",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(ze.A,{fontSize:"small"})})})]})]}),(0,z.jsx)(b.A,{sx:{p:3,borderRadius:2},children:t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,z.jsx)(o.A,{})}):(0,z.jsx)(ae.u,{width:"100%",height:300,children:(0,z.jsxs)(xe.E,{data:y,children:[(0,z.jsx)(ne.d,{strokeDasharray:"3 3"}),(0,z.jsx)(re.W,{dataKey:"date",tickFormatter:w}),(0,z.jsx)(se.h,{}),(0,z.jsx)(ie.m,{formatter:e=>[e,"New Players"],labelFormatter:w}),(0,z.jsx)(de.s,{}),(0,z.jsx)(ue.y,{dataKey:"count",name:"New Players",fill:c.palette.primary.main})]})})})]}),(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,z.jsx)(d.A,{variant:"h5",children:"Player Demographics"})}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsxs)(b.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,z.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Gender Distribution"}),t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,z.jsx)(o.A,{})}):(0,z.jsx)(ae.u,{width:"100%",height:250,children:(0,z.jsxs)(We.r,{children:[(0,z.jsx)(Oe.F,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:a,percent:t}=e;return`${a}: ${(100*t).toFixed(0)}%`},children:p.map(((e,a)=>(0,z.jsx)(ge.f,{fill:j[a%j.length]},`cell-${a}`)))}),(0,z.jsx)(ie.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,z.jsx)(de.s,{})]})})]})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsxs)(b.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,z.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Age Distribution"}),t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3,height:250},children:(0,z.jsx)(o.A,{})}):(0,z.jsx)(ae.u,{width:"100%",height:250,children:(0,z.jsxs)(xe.E,{data:v,children:[(0,z.jsx)(ne.d,{strokeDasharray:"3 3"}),(0,z.jsx)(re.W,{dataKey:"age"}),(0,z.jsx)(se.h,{}),(0,z.jsx)(ie.m,{formatter:e=>[e,"Players"]}),(0,z.jsx)(de.s,{}),(0,z.jsx)(ue.y,{dataKey:"count",name:"Players",fill:c.palette.secondary.main})]})})]})})]})]}),(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Player List"}),(0,z.jsx)(m.A,{variant:"contained",startIcon:(0,z.jsx)(Ve.A,{}),size:"small",children:"Add Player"})]}),(0,z.jsx)(b.A,{sx:{borderRadius:2},children:t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,z.jsx)(o.A,{})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(pe.A,{children:(0,z.jsxs)(ve.A,{children:[(0,z.jsx)(Ae.A,{children:(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:"Player"}),(0,z.jsx)(ye.A,{children:"Registration Date"}),(0,z.jsx)(ye.A,{children:"Status"}),(0,z.jsx)(ye.A,{children:"Country"}),(0,z.jsx)(ye.A,{align:"right",children:"Actions"})]})}),(0,z.jsx)(be.A,{children:A.slice(h*u,h*u+u).map((e=>{return(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:(0,z.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(He.A,{sx:{mr:2,bgcolor:c.palette.primary.main},children:(a=e.name,a?a.split(" ").map((e=>e[0])).join("").toUpperCase():"")}),(0,z.jsx)(d.A,{variant:"body1",children:e.name})]})}),(0,z.jsx)(ye.A,{children:w(e.registeredAt)}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Be.A,{label:e.status,color:k(e.status),size:"small"})}),(0,z.jsx)(ye.A,{children:e.country}),(0,z.jsxs)(ye.A,{align:"right",children:[(0,z.jsx)(Me.A,{title:"View",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(_e.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Edit",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(Je.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Delete",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(qe.A,{fontSize:"small"})})})]})]},e.id);var a}))})]})}),(0,z.jsx)(Ze.A,{rowsPerPageOptions:[5,10,25],component:"div",count:A.length,rowsPerPage:u,page:h,onPageChange:(e,a)=>{x(a)},onRowsPerPageChange:e=>{g(parseInt(e.target.value,10)),x(0)}})]})})]})]})};var Ye=t(12110),Xe=t(36591),ea=t(26494),aa=t(16682),ta=t(22505),na=t(64960),ra=t(65514),sa=t(49866),ia=t(53721),la=t(35258);const oa=e=>{let{dashboardData:a,isLoading:t=!1,theme:r}=e;const i=(0,s.A)(),c=r||i,[h,x]=(0,n.useState)(0),[u,g]=(0,n.useState)(5),j=[c.palette.primary.main,c.palette.secondary.main,c.palette.success.main,c.palette.error.main,c.palette.warning.main,c.palette.info.main],y=(null===a||void 0===a?void 0:a.gameCategoryData)||[{name:"Slots",value:45},{name:"Table Games",value:25},{name:"Poker",value:15},{name:"Live Casino",value:10},{name:"Specialty",value:5}],p=(null===a||void 0===a?void 0:a.gamePerformanceData)||[{name:"Engagement",game1:80,game2:90,game3:70},{name:"Retention",game1:85,game2:75,game3:80},{name:"Revenue",game1:90,game2:80,game3:85},{name:"Popularity",game1:70,game2:85,game3:75},{name:"Growth",game1:75,game2:70,game3:90}],v=(null===a||void 0===a?void 0:a.topGames)||[{id:1,name:"Poker Pro",revenue:3200.56,players:432,rating:4.5,category:"Poker"},{id:2,name:"Blackjack Masters",revenue:2800.32,players:387,rating:4.2,category:"Table Games"},{id:3,name:"Slots Royale",revenue:2300.18,players:356,rating:4.7,category:"Slots"},{id:4,name:"Roulette King",revenue:1900.45,players:289,rating:4,category:"Table Games"},{id:5,name:"Baccarat Elite",revenue:1450.67,players:218,rating:3.8,category:"Table Games"}],A=(null===a||void 0===a?void 0:a.featuredGames)||[{id:1,name:"Poker Pro",description:"The ultimate poker experience with multiple game modes and tournaments.",image:"https://via.placeholder.com/300x150",category:"Poker",rating:4.5,players:432},{id:2,name:"Slots Royale",description:"Exciting slot machine game with progressive jackpots and bonus rounds.",image:"https://via.placeholder.com/300x150",category:"Slots",rating:4.7,players:356},{id:3,name:"Blackjack Masters",description:"Classic blackjack with advanced features and realistic gameplay.",image:"https://via.placeholder.com/300x150",category:"Table Games",rating:4.2,players:387}];return(0,z.jsxs)(l.A,{children:[(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Featured Games"}),(0,z.jsx)(m.A,{variant:"contained",startIcon:(0,z.jsx)(ta.A,{}),size:"small",children:"Add Game"})]}),(0,z.jsx)(f.Ay,{container:!0,spacing:3,children:A.map((e=>(0,z.jsx)(f.Ay,{item:!0,xs:12,md:4,children:(0,z.jsxs)(Ye.A,{sx:{height:"100%"},children:[(0,z.jsx)(Xe.A,{component:"img",height:"140",image:e.image,alt:e.name}),(0,z.jsxs)(ea.A,{children:[(0,z.jsx)(d.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,z.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,z.jsx)(Be.A,{label:e.category,size:"small",color:"primary",sx:{mr:1}}),(0,z.jsx)(aa.A,{value:e.rating,precision:.5,size:"small",readOnly:!0})]}),(0,z.jsx)(d.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,z.jsxs)(d.A,{variant:"body2",children:[(0,z.jsx)("strong",{children:e.players})," active players"]}),(0,z.jsx)(m.A,{size:"small",variant:"outlined",children:"Details"})]})]})]})},e.id)))})]}),(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,z.jsx)(d.A,{variant:"h5",children:"Game Analytics"}),(0,z.jsxs)(l.A,{children:[(0,z.jsx)(Me.A,{title:"Download report",children:(0,z.jsx)(Te.A,{size:"small",sx:{mr:1},children:(0,z.jsx)(Ie.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Settings",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(ze.A,{fontSize:"small"})})})]})]}),(0,z.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsxs)(b.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,z.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Game Category Distribution"}),t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,z.jsx)(o.A,{})}):(0,z.jsx)(ae.u,{width:"100%",height:300,children:(0,z.jsxs)(We.r,{children:[(0,z.jsx)(Oe.F,{data:y,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>{let{name:a,percent:t}=e;return`${a}: ${(100*t).toFixed(0)}%`},children:y.map(((e,a)=>(0,z.jsx)(ge.f,{fill:j[a%j.length]},`cell-${a}`)))}),(0,z.jsx)(ie.m,{formatter:e=>[`${e}%`,"Percentage"]}),(0,z.jsx)(de.s,{})]})})]})}),(0,z.jsx)(f.Ay,{item:!0,xs:12,md:6,children:(0,z.jsxs)(b.A,{sx:{p:3,borderRadius:2,height:"100%"},children:[(0,z.jsx)(d.A,{variant:"h6",sx:{mb:2},children:"Game Performance Comparison"}),t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3,height:300},children:(0,z.jsx)(o.A,{})}):(0,z.jsx)(ae.u,{width:"100%",height:300,children:(0,z.jsxs)(na.V,{outerRadius:90,data:p,children:[(0,z.jsx)(ra.z,{}),(0,z.jsx)(sa.r,{dataKey:"name"}),(0,z.jsx)(ia.E,{angle:30,domain:[0,100]}),(0,z.jsx)(la.V,{name:"Poker Pro",dataKey:"game1",stroke:c.palette.primary.main,fill:c.palette.primary.main,fillOpacity:.6}),(0,z.jsx)(la.V,{name:"Slots Royale",dataKey:"game2",stroke:c.palette.secondary.main,fill:c.palette.secondary.main,fillOpacity:.6}),(0,z.jsx)(la.V,{name:"Blackjack Masters",dataKey:"game3",stroke:c.palette.success.main,fill:c.palette.success.main,fillOpacity:.6}),(0,z.jsx)(de.s,{}),(0,z.jsx)(ie.m,{})]})})]})})]})]}),(0,z.jsxs)(l.A,{sx:{mb:4},children:[(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,z.jsx)(d.A,{variant:"h5",children:"Game Performance"})}),(0,z.jsx)(b.A,{sx:{borderRadius:2},children:t?(0,z.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,z.jsx)(o.A,{})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(pe.A,{children:(0,z.jsxs)(ve.A,{children:[(0,z.jsx)(Ae.A,{children:(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:"Game"}),(0,z.jsx)(ye.A,{children:"Category"}),(0,z.jsx)(ye.A,{children:"Rating"}),(0,z.jsx)(ye.A,{align:"right",children:"Players"}),(0,z.jsx)(ye.A,{align:"right",children:"Revenue"}),(0,z.jsx)(ye.A,{align:"right",children:"Actions"})]})}),(0,z.jsx)(be.A,{children:v.slice(h*u,h*u+u).map((e=>{return(0,z.jsxs)(je.A,{children:[(0,z.jsx)(ye.A,{children:(0,z.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(N.A,{sx:{mr:1,color:c.palette.primary.main}}),(0,z.jsx)(d.A,{variant:"body1",children:e.name})]})}),(0,z.jsx)(ye.A,{children:(0,z.jsx)(Be.A,{label:e.category,size:"small",color:"primary",variant:"outlined"})}),(0,z.jsx)(ye.A,{children:(0,z.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(aa.A,{value:e.rating,precision:.5,size:"small",readOnly:!0}),(0,z.jsxs)(d.A,{variant:"body2",sx:{ml:1},children:["(",e.rating,")"]})]})}),(0,z.jsx)(ye.A,{align:"right",children:e.players.toLocaleString()}),(0,z.jsx)(ye.A,{align:"right",children:(a=e.revenue,a?`$${a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:"$0.00")}),(0,z.jsxs)(ye.A,{align:"right",children:[(0,z.jsx)(Me.A,{title:"View",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(_e.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Edit",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(Je.A,{fontSize:"small"})})}),(0,z.jsx)(Me.A,{title:"Delete",children:(0,z.jsx)(Te.A,{size:"small",children:(0,z.jsx)(qe.A,{fontSize:"small"})})})]})]},e.id);var a}))})]})}),(0,z.jsx)(Ze.A,{rowsPerPageOptions:[5,10,25],component:"div",count:v.length,rowsPerPage:u,page:h,onPageChange:(e,a)=>{x(a)},onRowsPerPageChange:e=>{g(parseInt(e.target.value,10)),x(0)}})]})})]})]})},da=e=>{let{activeTab:a,onTabChange:t,dashboardData:r,isLoading:s,error:i,theme:o,sx:d}=e;const c=(0,n.useCallback)(((e,a)=>{t&&t(e,a)}),[t]),m=(0,n.useMemo)((()=>[{id:0,label:"Dashboard Overview",component:(0,z.jsx)($e,{dashboardData:r,isLoading:s,error:i})},{id:1,label:"Performance Metrics",component:(0,z.jsx)(Ue,{dashboardData:r,isLoading:s,error:i})},{id:2,label:"Player Analytics",component:(0,z.jsx)(Qe,{dashboardData:r,isLoading:s})},{id:3,label:"Game Analytics",component:(0,z.jsx)(oa,{dashboardData:r,isLoading:s})}]),[r,s,i,o]),h=(0,n.useCallback)((e=>(0,z.jsx)(F.A,{message:e,icon:(0,z.jsx)(P.A,{sx:{fontSize:48,color:"error.main"}})})),[]);return(0,z.jsxs)(l.A,{sx:d,children:[(0,z.jsx)(l.A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:(0,z.jsx)(G.A,{value:a,onChange:c,"aria-label":"dashboard tabs",role:"tablist",children:m.map((e=>(0,z.jsx)(L.A,{label:e.label.split(" ")[0],id:`tab-${e.id}`,"aria-controls":`tabpanel-${e.id}`,tabIndex:a===e.id?0:-1},e.id)))})}),m.map((e=>(0,z.jsx)(E.A,{value:a,index:e.id,label:e.label,children:(0,z.jsx)(C.A,{fallback:h(`Something went wrong loading the ${e.label.toLowerCase()}`),children:e.component})},e.id)))]})},ca=(0,n.memo)(da);var ma=t(39336),ha=t(51292),xa=t(60338),ua=t(74605),ga=t(14256),ja=t(74802);const ya=e=>{let{testScenario:a,onTestScenarioChange:t,onClose:n}=e;return(0,z.jsx)(Ye.A,{sx:{mb:3,border:"1px dashed #999"},children:(0,z.jsxs)(ea.A,{children:[(0,z.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,z.jsx)(d.A,{variant:"h6",color:"primary",children:"Test Panel"}),(0,z.jsx)(Te.A,{onClick:n,size:"small",children:(0,z.jsx)(ja.A,{fontSize:"small"})})]}),(0,z.jsx)(d.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"This panel allows you to simulate different data scenarios for testing purposes."}),(0,z.jsx)(ma.A,{sx:{my:2}}),(0,z.jsxs)(J.A,{component:"fieldset",children:[(0,z.jsx)(ha.A,{component:"legend",children:"Data Scenario"}),(0,z.jsxs)(xa.A,{"aria-label":"test-scenario",name:"test-scenario",value:a,onChange:t,children:[(0,z.jsx)(ua.A,{value:"normal",control:(0,z.jsx)(ga.A,{}),label:"Normal - Fetch real data from API"}),(0,z.jsx)(ua.A,{value:"empty",control:(0,z.jsx)(ga.A,{}),label:"Empty - No data available"}),(0,z.jsx)(ua.A,{value:"partial",control:(0,z.jsx)(ga.A,{}),label:"Partial - Some data missing"}),(0,z.jsx)(ua.A,{value:"large",control:(0,z.jsx)(ga.A,{}),label:"Large - Large dataset for performance testing"}),(0,z.jsx)(ua.A,{value:"error",control:(0,z.jsx)(ga.A,{}),label:"Error - Simulate API error"}),(0,z.jsx)(ua.A,{value:"loading",control:(0,z.jsx)(ga.A,{}),label:"Loading - Perpetual loading state"})]})]}),(0,z.jsx)(l.A,{sx:{mt:2,p:1,bgcolor:"info.light",borderRadius:1},children:(0,z.jsx)(d.A,{variant:"caption",color:"info.contrastText",children:"Note: This panel is for development and testing purposes only and should be removed in production."})})]})})},pa=()=>{const e=(0,s.A)(),{user:a}=(0,y.h)(),[t,b]=((0,r.wA)(),(0,n.useState)(0)),[f,w]=(0,n.useState)(!1),[k,S]=(0,n.useState)(null),[R,C]=(0,n.useState)(null),[P,D]=(0,n.useState)(!1),[M,T]=(0,n.useState)(null),[I,G]=(0,n.useState)("normal"),[L,E]=(0,n.useState)(!1),[F,$]=(0,n.useState)({start:(0,x.A)((0,u.A)(new Date,30)),end:(0,g.A)(new Date)}),[K,N]=(0,n.useState)({gameCategory:"",playerStatus:"",country:"",minRevenue:"",maxRevenue:""});(0,n.useEffect)((()=>{U()}),[]);const W=()=>{const e={gameCategory:"",playerStatus:"",country:"",minRevenue:"",maxRevenue:""};N(e),U(F,e)},O=()=>{T(null)},U=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;if(w(!0),S(null),"normal"!==I){if(setTimeout((()=>{switch(I){case"empty":C({stats:{revenue:{value:0,change:0,period:"vs last week"},players:{value:0,change:0,period:"vs last week"},games:{value:0,change:0,period:"vs last week"},engagement:{value:0,change:0,period:"vs last week"}},topGames:[],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[],playersByGame:[]}}),w(!1);break;case"partial":C({stats:{revenue:{value:8765.43,change:5.2,period:"vs last week"},players:{value:876,change:-2.1,period:"vs last week"},games:{value:45,change:3.5,period:"vs last week"},engagement:{value:67.8,change:1.2,period:"vs last week"}},topGames:[{id:"poker-pro",name:"Poker Pro",category:"poker",revenue:2100.56,players:321},{id:"blackjack-masters",name:"Blackjack Masters",category:"table",revenue:1800.32,players:287}],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[{day:"Mon",value:1100},{day:"Tue",value:1400},{day:"Wed",value:1200}],playersByGame:[{game:"Poker",value:321},{game:"Blackjack",value:287}]}}),w(!1);break;case"large":C((()=>{const e=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=[],t=[],n=[];for(let s=0;s<100;s++){const t=e[s%7],n=new Date;n.setDate(n.getDate()-s),a.push({day:t,date:n.toISOString().split("T")[0],value:Math.floor(5e3*Math.random())+1e3})}for(let s=0;s<1e3;s++){const e=new Date;e.setMinutes(e.getMinutes()-30*s),t.push({id:`tx-${s}`,playerId:`player-${Math.floor(100*Math.random())+1}`,playerName:`Player ${Math.floor(100*Math.random())+1}`,amount:Math.floor(1e3*Math.random())/10,type:["deposit","withdrawal","bet","win"][Math.floor(4*Math.random())],timestamp:e.toISOString(),status:["completed","pending","failed"][Math.floor(3*Math.random())]})}const r=["Slots","Poker","Blackjack","Roulette","Baccarat","Craps","Bingo"];for(let s=0;s<100;s++){const e=r[Math.floor(Math.random()*r.length)];n.push({id:`game-${s}`,name:`${e} ${s+1}`,revenue:Math.floor(1e4*Math.random())+500,players:Math.floor(1e3*Math.random())+50,sessions:Math.floor(5e3*Math.random())+100,category:e.toLowerCase()})}return{stats:{revenue:{value:123456.78,change:25.4,period:"vs last week"},players:{value:12345,change:15.7,period:"vs last week"},games:{value:245,change:32.8,period:"vs last week"},engagement:{value:78.5,change:18.2,period:"vs last week"}},topGames:n.slice(0,20),recentTransactions:t.slice(0,50),playerRegistrations:a.map((e=>({date:e.date,registrations:Math.floor(200*Math.random())+50,ftd:Math.floor(50*Math.random())+10}))),charts:{revenueByDay:a.slice(0,30),playersByGame:n.slice(0,10).map((e=>({game:e.name,value:e.players})))}}})()),w(!1);break;case"error":const e=(()=>{const e=[{code:"API_ERROR",message:"Failed to connect to API endpoint"},{code:"AUTH_ERROR",message:"Authentication token expired"},{code:"TIMEOUT_ERROR",message:"Request timed out after 30 seconds"},{code:"DATA_ERROR",message:"Invalid data format received from server"},{code:"SERVER_ERROR",message:"Internal server error (500)"}],a=e[Math.floor(Math.random()*e.length)];return{code:a.code,message:a.message,timestamp:(new Date).toISOString()}})();S(new Error(`Error connecting to API: ${e.message}. This is a simulated error for testing.`)),C({stats:{revenue:{value:8765.43,change:5.2,period:"vs last week"},players:{value:876,change:-2.1,period:"vs last week"},games:{value:45,change:3.5,period:"vs last week"},engagement:{value:67.8,change:1.2,period:"vs last week"}},topGames:[{id:"poker-pro",name:"Poker Pro",category:"poker",revenue:2100.56,players:321},{id:"blackjack-masters",name:"Blackjack Masters",category:"table",revenue:1800.32,players:287}],recentTransactions:[],playerRegistrations:[],charts:{revenueByDay:[{day:"Mon",value:1100},{day:"Tue",value:1400},{day:"Wed",value:1200}],playersByGame:[{game:"Poker",value:321},{game:"Blackjack",value:287}]}}),w(!1);break;case"loading":break;default:w(!1)}}),2e3),"loading"===I)return}else try{var t;const n=null!==e&&void 0!==e&&e.start?(0,j.A)(e.start,"yyyy-MM-dd"):null,r=null!==e&&void 0!==e&&e.end?(0,j.A)(e.end,"yyyy-MM-dd"):null,s={startDate:n,endDate:r,gameCategory:a.gameCategory||void 0,playerStatus:a.playerStatus||void 0,country:a.country||void 0,minRevenue:a.minRevenue?Number(a.minRevenue):void 0,maxRevenue:a.maxRevenue?Number(a.maxRevenue):void 0},i=await A.A.getDashboardStats(s),l=await A.A.getPlayerRegistrations({startDate:n,endDate:r,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),o=await A.A.getRecentTransactions({limit:10,startDate:n,endDate:r,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),d=await A.A.getTopGames({metric:"revenue",limit:5,startDate:n,endDate:r,gameCategory:a.gameCategory||void 0,minRevenue:a.minRevenue?Number(a.minRevenue):void 0,maxRevenue:a.maxRevenue?Number(a.maxRevenue):void 0}),c=await A.A.getCasinoRevenue({startDate:n,endDate:r,gameCategory:a.gameCategory||void 0}),m={stats:i,playerRegistrations:l,recentTransactions:o,topGames:d,casinoRevenue:c,kpis:await A.A.getKpiData({startDate:n,endDate:r,gameCategory:a.gameCategory||void 0,playerStatus:a.playerStatus||void 0,country:a.country||void 0}),charts:{revenueByDay:(null===c||void 0===c||null===(t=c.dailyRevenue)||void 0===t?void 0:t.map((e=>({...e,day:e.day||(0,j.A)(new Date(e.date),"EEE"),value:e.value||e.revenue}))))||[],playersByGame:(null===d||void 0===d?void 0:d.map((e=>({game:e.name,value:e.players}))))||[]}};C(m),w(!1)}catch(k){console.error("Error fetching dashboard data:",k);const a={stats:{revenue:{value:12567.89,change:15.2,period:"vs last week"},players:{value:1432,change:7.5,period:"vs last week"},games:{value:256,change:12.8,period:"vs last week"},engagement:{value:5621,change:-3.2,period:"vs last week"}},topGames:[{name:"Poker Pro",revenue:3200.56,players:432},{name:"Blackjack Masters",revenue:2800.32,players:387},{name:"Slots Royale",revenue:2300.18,players:356},{name:"Roulette King",revenue:1900.45,players:289},{name:"Baccarat Elite",revenue:1450.67,players:218}],charts:{revenueByDay:[{day:"Mon",value:2100},{day:"Tue",value:2400},{day:"Wed",value:1800},{day:"Thu",value:2200},{day:"Fri",value:2600},{day:"Sat",value:3100},{day:"Sun",value:2500}],playersByGame:[{game:"Poker",value:450},{game:"Slots",value:380},{game:"Roulette",value:240},{game:"Blackjack",value:190},{game:"Baccarat",value:165}]},recentTransactions:[{id:1,playerId:101,playerName:"John Doe",amount:100,type:"deposit",timestamp:"2023-05-01T08:30:00Z"},{id:2,playerId:102,playerName:"Jane Smith",amount:50,type:"withdrawal",timestamp:"2023-05-02T10:15:00Z"},{id:3,playerId:103,playerName:"Mike Johnson",amount:75.5,type:"bet",timestamp:"2023-05-03T14:45:00Z"},{id:4,playerId:104,playerName:"Lisa Brown",amount:120.25,type:"win",timestamp:"2023-05-04T09:20:00Z"},{id:5,playerId:105,playerName:"Robert Wilson",amount:200,type:"deposit",timestamp:"2023-05-05T16:10:00Z"}]};S(new Error(`Error connecting to API: ${k.message||"Unknown error"}. Showing mock data instead.`)),C(a),w(!1)}},H=()=>{E(!L)},Z=()=>{U()};return f&&!R?(0,z.jsx)(i.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:(0,z.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:8},children:[(0,z.jsx)(o.A,{size:60}),(0,z.jsx)(d.A,{variant:"h6",sx:{mt:2},children:"Loading dashboard..."})]})}):(0,z.jsxs)(i.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[k&&(0,z.jsx)(c.A,{severity:"warning",sx:{mb:3},action:(0,z.jsx)(m.A,{color:"inherit",size:"small",onClick:Z,startIcon:(0,z.jsx)(h.A,{}),children:"Retry"}),children:k.message}),(0,z.jsx)(B,{user:a||void 0,onRefresh:Z,onToggleFilters:()=>{D(!P),O()},onFilterReset:W,onToggleTestPanel:H,filterMenuAnchor:M,onFilterMenuClick:e=>{T(e.currentTarget)},onFilterMenuClose:O,showTestPanel:L}),L&&(0,z.jsx)(ya,{testScenario:I,onTestScenarioChange:e=>{const a=e.target.value;G(a),U()},onClose:H}),(0,z.jsxs)(l.A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,z.jsx)(p.A,{startDate:F.start,endDate:F.end,onChange:e=>{e.start&&e.end&&($({start:e.start,end:e.end}),U({start:e.start,end:e.end},K))},buttonLabel:"Select Date Range"}),(0,z.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Showing data from ",F.start?(0,j.A)(F.start,"MMM d, yyyy"):"all time"," to ",F.end?(0,j.A)(F.end,"MMM d, yyyy"):"present"]})]}),P&&(0,z.jsx)(v.A,{filters:[{id:"gameCategory",label:"Game Category",type:"select",options:[{value:"casino",label:"Casino"},{value:"sports",label:"Sports"},{value:"poker",label:"Poker"},{value:"bingo",label:"Bingo"},{value:"lottery",label:"Lottery"}]},{id:"playerStatus",label:"Player Status",type:"select",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"new",label:"New"},{value:"vip",label:"VIP"}]},{id:"country",label:"Country",type:"select",options:[{value:"us",label:"United States"},{value:"uk",label:"United Kingdom"},{value:"ca",label:"Canada"},{value:"au",label:"Australia"},{value:"de",label:"Germany"}]},{id:"minRevenue",label:"Min Revenue",type:"number"},{id:"maxRevenue",label:"Max Revenue",type:"number"}],values:K,onChange:(e,a)=>{N((t=>({...t,[e]:a})))},onApply:()=>(U(F,K),void D(!1)),onReset:W,title:"Dashboard Filters"}),(0,z.jsx)(ca,{activeTab:t,onTabChange:(e,a)=>{b(a)},dashboardData:R,isLoading:f,error:k,theme:e})]})}}}]);
//# sourceMappingURL=790.daeef474.chunk.js.map