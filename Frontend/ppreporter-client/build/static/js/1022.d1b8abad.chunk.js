"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[1022],{4598:(e,t,a)=>{a.d(t,{A:()=>D});var o=a(98587),s=a(58168),r=a(65043),l=a(58387),n=a(98610),i=a(67266),d=a(6803),c=a(33064),u=a(34535),g=a(98206),p=a(92532),h=a(72372);function A(e){return(0,h.Ay)("MuiSwitch",e)}const m=(0,p.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var y=a(70579);const v=["className","color","edge","size","sx"],b=(0,u.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t[`edge${(0,d.A)(a.edge)}`],t[`size${(0,d.A)(a.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${m.thumb}`]:{width:16,height:16},[`& .${m.switchBase}`]:{padding:4,[`&.${m.checked}`]:{transform:"translateX(16px)"}}}}]}),C=(0,u.Ay)(c.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{[`& .${m.input}`]:t.input},"default"!==a.color&&t[`color${(0,d.A)(a.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${m.checked}`]:{transform:"translateX(20px)"},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${m.checked} + .${m.track}`]:{opacity:.5},[`&.${m.disabled} + .${m.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${m.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,i.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[a]=e;return{props:{color:a},style:{[`&.${m.checked}`]:{color:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[a].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,i.X4)(t.palette[a].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${a}DisabledColor`]:`${"light"===t.palette.mode?(0,i.a)(t.palette[a].main,.62):(0,i.e$)(t.palette[a].main,.55)}`}},[`&.${m.checked} + .${m.track}`]:{backgroundColor:(t.vars||t).palette[a].main}}}}))]}})),S=(0,u.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),x=(0,u.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),D=r.forwardRef((function(e,t){const a=(0,g.b)({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:c=!1,size:u="medium",sx:p}=a,h=(0,o.A)(a,v),m=(0,s.A)({},a,{color:i,edge:c,size:u}),D=(e=>{const{classes:t,edge:a,size:o,color:r,checked:l,disabled:i}=e,c={root:["root",a&&`edge${(0,d.A)(a)}`,`size${(0,d.A)(o)}`],switchBase:["switchBase",`color${(0,d.A)(r)}`,l&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=(0,n.A)(c,A,t);return(0,s.A)({},t,u)})(m),f=(0,y.jsx)(x,{className:D.thumb,ownerState:m});return(0,y.jsxs)(b,{className:(0,l.A)(D.root,r),sx:p,ownerState:m,children:[(0,y.jsx)(C,(0,s.A)({type:"checkbox",icon:f,checkedIcon:f,ref:t,ownerState:m},h,{classes:(0,s.A)({},D,{root:D.switchBase})})),(0,y.jsx)(S,{className:D.track,ownerState:m})]})}))},10977:(e,t,a)=>{var o=a(24994);t.A=void 0;var s=o(a(40039)),r=a(70579);t.A=(0,s.default)((0,r.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward")},22505:(e,t,a)=>{var o=a(24994);t.A=void 0;var s=o(a(40039)),r=a(70579);t.A=(0,s.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},32125:(e,t,a)=>{var o=a(24994);t.A=void 0;var s=o(a(40039)),r=a(70579);t.A=(0,s.default)((0,r.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree")},43608:(e,t,a)=>{var o=a(24994);t.A=void 0;var s=o(a(40039)),r=a(70579);t.A=(0,s.default)((0,r.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward")},63471:(e,t,a)=>{var o=a(24994);t.A=void 0;var s=o(a(40039)),r=a(70579);t.A=(0,s.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},71022:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var o=a(65043),s=a(19252),r=a(67254),l=a(83462),n=a(4219),i=a(35316),d=a(29347),c=a(11906),u=a(19170),g=a(69525),p=a(21863),h=a(95192),A=a(54235),m=a(48210),y=a(79048),v=a(40647),b=a(85865),C=a(74605),S=a(4598),x=a(63336),D=a(43845),f=a(35721),I=a(37918),w=a(2050),k=a(48734),G=a(8266),L=a(77739),P=a(17392),j=a(39336),E=a(43608),T=a(10977),Y=a(63471),O=a(22505),N=a(88221),M=a(32125),$=a(70579);const R=e=>{let{groupByOptions:t,selectedGroupings:a,onGroupingChange:s,enableHierarchical:r,onEnableHierarchicalChange:u}=e;const[g,p]=(0,o.useState)(!1),h=()=>{p(!1)},A=(e,t)=>{if(t?(t.preventDefault(),t.stopPropagation(),console.log("Adding grouping with event prevention:",e)):console.log("Adding grouping without event:",e),a.includes(e))console.log("Grouping already included:",e);else{const t=[...a,e];console.log("New groupings:",t),r||u(!0),setTimeout((()=>{s(t)}),0)}},m=e=>{const t=[...a];t.splice(e,1),s(t)},y=e=>{const a=t.find((t=>t.id===e));return a?a.name:e},v=t.filter((e=>!a.includes(e.id)));return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{style:{marginBottom:16},children:[(0,$.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,$.jsx)(M.A,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(b.A,{variant:"subtitle1",component:"span",children:"Hierarchical Grouping"}),(0,$.jsx)(C.A,{control:(0,$.jsx)(S.A,{checked:r,onChange:e=>u(e.target.checked),color:"primary",size:"small"}),label:"Enable",sx:{ml:2}}),(0,$.jsx)("div",{style:{flexGrow:1}}),(0,$.jsx)(c.A,{variant:"outlined",size:"small",startIcon:(0,$.jsx)(O.A,{}),onClick:()=>{p(!0)},disabled:!r,children:"Configure"})]}),r&&a.length>0&&(0,$.jsx)(x.A,{variant:"outlined",sx:{p:1,mt:1},children:(0,$.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:a.map(((e,t)=>(0,$.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[t>0&&(0,$.jsx)(N.A,{fontSize:"small",sx:{mx:.5,color:"text.secondary"}}),(0,$.jsx)(D.A,{label:y(e),size:"small",color:0===t?"primary":"default",onDelete:()=>m(t)})]},e)))})})]}),(0,$.jsxs)(l.A,{open:g,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&h()},maxWidth:"sm",fullWidth:!0,disableEscapeKeyDown:!0,children:[(0,$.jsx)(n.A,{children:"Configure Hierarchical Grouping"}),(0,$.jsxs)(i.A,{children:[(0,$.jsx)(b.A,{variant:"body2",sx:{mb:2},children:"Select columns to group by and arrange them in the desired order. Data will be grouped by the first level, then by the second level within each first-level group, and so on."}),a.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(b.A,{variant:"subtitle2",gutterBottom:!0,children:"Current Grouping Levels"}),(0,$.jsx)(f.A,{sx:{mb:2,bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:1},children:a.map(((e,t)=>(0,$.jsxs)(I.Ay,{children:[(0,$.jsx)(w.A,{sx:{minWidth:36},children:(0,$.jsxs)(b.A,{variant:"body2",color:"primary",children:[t+1,"."]})}),(0,$.jsx)(k.A,{primary:y(e)}),(0,$.jsxs)(G.A,{children:[(0,$.jsx)(L.A,{title:"Move up",children:(0,$.jsx)("span",{children:(0,$.jsx)(P.A,{edge:"end",onClick:()=>(e=>{if(e<=0)return;const t=[...a],o=t[e];t[e]=t[e-1],t[e-1]=o,s(t)})(t),disabled:0===t,size:"small",children:(0,$.jsx)(E.A,{fontSize:"small"})})})}),(0,$.jsx)(L.A,{title:"Move down",children:(0,$.jsx)("span",{children:(0,$.jsx)(P.A,{edge:"end",onClick:()=>(e=>{if(e>=a.length-1)return;const t=[...a],o=t[e];t[e]=t[e+1],t[e+1]=o,s(t)})(t),disabled:t===a.length-1,size:"small",children:(0,$.jsx)(T.A,{fontSize:"small"})})})}),(0,$.jsx)(L.A,{title:"Remove",children:(0,$.jsx)(P.A,{edge:"end",onClick:()=>m(t),size:"small",children:(0,$.jsx)(Y.A,{fontSize:"small"})})})]})]},e)))})]}),(0,$.jsx)(j.A,{sx:{my:2}}),(0,$.jsx)(b.A,{variant:"subtitle2",gutterBottom:!0,children:"Available Grouping Options"}),v.length>0?(0,$.jsx)(f.A,{sx:{bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:1},children:v.map((e=>(0,$.jsxs)(I.Ay,{button:!0,onClick:t=>A(e.id,t),children:[(0,$.jsx)(k.A,{primary:e.name}),(0,$.jsx)(G.A,{children:(0,$.jsx)(P.A,{edge:"end",onClick:t=>A(e.id,t),size:"small",color:"primary",children:(0,$.jsx)(O.A,{fontSize:"small"})})})]},e.id)))}):(0,$.jsx)(b.A,{variant:"body2",color:"text.secondary",children:"All available grouping options have been selected."})]}),(0,$.jsxs)(d.A,{children:[(0,$.jsx)(c.A,{onClick:()=>{s([])},color:"error",disabled:0===a.length,children:"Clear All"}),(0,$.jsx)(c.A,{onClick:h,color:"primary",children:"Done"})]})]})]})},B=()=>{const[e,t]=(0,o.useState)((0,u.A)(new Date,1)),[a,b]=(0,o.useState)(new Date),[C,S]=(0,o.useState)([]),[x,D]=(0,o.useState)([]),[f,I]=(0,o.useState)([]),[w,k]=(0,o.useState)(!0),[G,L]=(0,o.useState)([]),[P,j]=(0,o.useState)([]),[E,T]=(0,o.useState)([]),[Y,O]=(0,o.useState)(!0),[N,M]=(0,o.useState)("Day"),[B,z]=(0,o.useState)([{id:"Day",name:"Day"},{id:"Month",name:"Month"},{id:"Year",name:"Year"},{id:"Label",name:"White Label"},{id:"Player",name:"Player"},{id:"Country",name:"Country"},{id:"Tracker",name:"Tracker"},{id:"Currency",name:"Currency"},{id:"Gender",name:"Gender"},{id:"Platform",name:"Platform"},{id:"Ranking",name:"Ranking"}]),[W,F]=(0,o.useState)([]),[U,H]=(0,o.useState)(!1),[V,K]=(0,o.useState)(null),[X,q]=(0,o.useState)(!1),[J,_]=(0,o.useState)(!0),[Q,Z]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(["groupValue","registrations","ftd","deposits","paidCashouts","ggrCasino","ggrSport","ggrLive","totalGGR"]),[ae,oe]=(0,o.useState)({}),[se,re]=(0,o.useState)(!1),[le,ne]=(0,o.useState)([]),[ie,de]=(0,o.useState)({totalPlayers:0,newRegistrations:0,totalDeposits:0,totalBets:0,totalFTD:0,totalCashouts:0,totalGGR:0,totalRegistrations:0,playersTrend:null,registrationsTrend:null,depositsTrend:null,betsTrend:null,trends:{totalPlayers:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},newRegistrations:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},totalDeposits:{previous:0,lastWeek:0,lastMonth:0,lastYear:0},totalBets:{previous:0,lastWeek:0,lastMonth:0,lastYear:0}}}),[ce,ue]=(0,o.useState)(["totalPlayers","newRegistrations","totalDeposits","totalBets"]),[ge,pe]=(0,o.useState)({totalPlayers:"previous",newRegistrations:"previous",totalDeposits:"previous",totalBets:"previous",totalWithdrawals:"previous",totalGGR:"previous",avgBetAmount:"previous",conversionRate:"previous",retentionRate:"previous",activeUsers:"previous",avgSessionDuration:"previous",betCount:"previous",totalFTD:"previous",totalCashouts:"previous"});(0,o.useEffect)((()=>{const e=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;try{console.log("[DAILY ACTIONS PAGE] Fetching metadata"),k(!0),O(!0),console.log("[DAILY ACTIONS PAGE] Skipping mock data for metadata, always using real API");const e=await A.A.getMetadata();if(console.log("[DAILY ACTIONS PAGE] Got metadata from service:",e),e&&e.whiteLabels&&e.whiteLabels.length>0){console.log("[DAILY ACTIONS PAGE] Got white labels from service:",e.whiteLabels);const t=e.whiteLabels||[];D(t);const a=t.map((e=>({value:e.id,label:e.name})));I(a)}else{console.log("[DAILY ACTIONS PAGE] No white labels found in API response, using default options");const e=[{id:"1",name:"White Label 1"},{id:"2",name:"White Label 2"},{id:"3",name:"White Label 3"}];D(e),I(e.map((e=>({value:e.id,label:e.name}))))}if(k(!1),e&&e.countries&&e.countries.length>0){console.log("[DAILY ACTIONS PAGE] Got countries from service:",e.countries);const t=e.countries||[];j(t);const a=t.map((e=>({value:e.id,label:e.name})));T(a)}else{console.log("[DAILY ACTIONS PAGE] No countries found in API response, using default options");const e=[{id:"US",name:"United States"},{id:"UK",name:"United Kingdom"},{id:"CA",name:"Canada"},{id:"AU",name:"Australia"},{id:"DE",name:"Germany"}];j(e),T(e.map((e=>({value:e.id,label:e.name}))))}O(!1)}catch(o){if(console.error(`[DAILY ACTIONS PAGE] Error fetching metadata (attempt ${t+1}/${a}):`,o),t<a)return console.log(`[DAILY ACTIONS PAGE] Retrying metadata fetch in ${2*(t+1)} seconds...`),void setTimeout((()=>{e(t+1,a)}),2e3*(t+1));K("Failed to load metadata after multiple attempts. Using default options instead.");const s=[{id:"1",name:"White Label 1"},{id:"2",name:"White Label 2"},{id:"3",name:"White Label 3"}];D(s),I(s.map((e=>({value:e.id,label:e.name})))),k(!1);const r=[{id:"US",name:"United States"},{id:"UK",name:"United Kingdom"},{id:"CA",name:"Canada"},{id:"AU",name:"Australia"},{id:"DE",name:"Germany"}];j(r),T(r.map((e=>({value:e.id,label:e.name})))),O(!1)}};e()}),[]),(0,o.useEffect)((()=>{const e=setTimeout((()=>{(async()=>{console.log("[DAILY ACTIONS PAGE] Fetching initial data"),await he()})()}),100);return()=>clearTimeout(e)}),[]),(0,o.useEffect)((()=>{if(W.length>0){console.log("[DAILY ACTIONS PAGE] Recalculating summary from dailyActions data"),console.log("[DAILY ACTIONS PAGE] dailyActions length:",W.length);const e=W.reduce(((e,t)=>e+(t.registrations||0)),0),t=W.reduce(((e,t)=>e+(t.deposits||0)),0),a=W.reduce(((e,t)=>e+(t.ftd||0)),0),o=W.reduce(((e,t)=>e+(t.paidCashouts||0)),0),s=W.reduce(((e,t)=>e+(t.totalGGR||0)),0),r=W.reduce(((e,t)=>{if(void 0!==t.bets)return e+t.bets;return e+((t.betsCasino||0)+(t.betsSport||0)+(t.betsLive||0)+(t.betsBingo||0))}),0),l=W.reduce(((e,t)=>void 0!==t.uniquePlayers?e+t.uniquePlayers:e+(t.registrations||0)),0),n=()=>20*Math.random()-10,i={totalPlayers:l,newRegistrations:e,totalRegistrations:e,totalDeposits:t,totalBets:r,totalFTD:a,totalCashouts:o,totalGGR:s,avgBetAmount:l>0?r/l:0,conversionRate:e>0?a/e*100:0,playersTrend:n(),registrationsTrend:n(),depositsTrend:n(),betsTrend:n(),trends:{totalPlayers:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},newRegistrations:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},totalDeposits:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},totalBets:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},totalGGR:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},avgBetAmount:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},conversionRate:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},retentionRate:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},activeUsers:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},avgSessionDuration:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},betCount:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},totalFTD:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()},totalCashouts:{previous:n(),lastWeek:n(),lastMonth:n(),lastYear:n()}}};console.log("[DAILY ACTIONS PAGE] Calculated summary:",i),de(i)}}),[W]);const he=async()=>{H(!0),K(null);try{const o=(0,g.A)(e,"yyyy-MM-dd"),s={startDate:o,endDate:(0,g.A)(a,"yyyy-MM-dd"),groupBy:(t=N,{Day:0,Month:1,Year:2,Label:3,Player:4,Country:5,Tracker:6,Currency:7,Gender:8,Platform:9,Ranking:10}[t]||0)};C&&C.length>0?(console.log("[DAILY ACTIONS PAGE] Filtering by white label IDs:",C),s.whiteLabelIds=C.map((e=>parseInt(e)))):console.log("[DAILY ACTIONS PAGE] No white label filter applied"),G&&G.length>0?(console.log("[DAILY ACTIONS PAGE] Filtering by country IDs:",G),s.countryIds=G):console.log("[DAILY ACTIONS PAGE] No country filter applied"),Object.keys(ae).length>0&&(console.log("[DAILY ACTIONS PAGE] Adding advanced filters:",ae),ae.registration&&(s.registrationDate=(0,g.A)(ae.registration,"yyyy-MM-dd")),ae.firstTimeDeposit&&(s.firstDepositDate=(0,g.A)(ae.firstTimeDeposit,"yyyy-MM-dd")),ae.lastDepositDate&&(s.lastDepositDate=(0,g.A)(ae.lastDepositDate,"yyyy-MM-dd")),ae.lastLogin&&(s.lastLoginDate=(0,g.A)(ae.lastLogin,"yyyy-MM-dd")),ae.trackers&&(s.trackers=ae.trackers),ae.promotionCode&&(s.promotionCode=ae.promotionCode),ae.players&&(s.playerIds=ae.players.split(",").map((e=>e.trim()))),ae.regPlayMode&&ae.regPlayMode.length>0&&(s.playModes=ae.regPlayMode),ae.platform&&ae.platform.length>0&&(s.platforms=ae.platform),ae.status&&ae.status.length>0&&(s.statuses=ae.status),ae.gender&&ae.gender.length>0&&(s.genders=ae.gender),ae.currency&&ae.currency.length>0&&(s.currencies=ae.currency),ae.smsEnabled&&(s.smsEnabled="Yes"===ae.smsEnabled),ae.mailEnabled&&(s.mailEnabled="Yes"===ae.mailEnabled),ae.phoneEnabled&&(s.phoneEnabled="Yes"===ae.phoneEnabled),ae.postEnabled&&(s.postEnabled="Yes"===ae.postEnabled),ae.bonusEnabled&&(s.bonusEnabled="Yes"===ae.bonusEnabled)),console.log(`[DAILY ACTIONS PAGE] Grouping by: ${N} (backend value: ${s.groupBy})`),console.log(`[DAILY ACTIONS PAGE] Using grouped view by ${N} - numerical values will be summed`),console.log("[DAILY ACTIONS PAGE] Starting data fetch with filters:",s),console.log("[DAILY ACTIONS PAGE] Skipping mock data, always using real API");const r=await A.A.getData(s);if(console.log("[DAILY ACTIONS PAGE] Got data from service:",r),r){console.log("[DAILY ACTIONS PAGE] Got data from service:",r);let e=[];r.data&&Array.isArray(r.data)?(console.log(`[DAILY ACTIONS PAGE] Processing ${r.data.length} records from data.data`),e=r.data):r.data&&r.data.items&&Array.isArray(r.data.items)?(console.log(`[DAILY ACTIONS PAGE] Processing ${r.data.items.length} records from data.data.items`),e=r.data.items):r.items&&Array.isArray(r.items)?(console.log(`[DAILY ACTIONS PAGE] Processing ${r.items.length} records from data.items`),e=r.items):Array.isArray(r)&&(console.log(`[DAILY ACTIONS PAGE] Processing ${r.length} records from array`),e=r),e.length>0?F(e):(console.log("[DAILY ACTIONS PAGE] No data extracted from response. Response structure:",Object.keys(r)),F([])),r.summary&&(console.log("[DAILY ACTIONS PAGE] Using summary from response:",r.summary),de({...ie,...r.summary,totalRegistrations:r.summary.totalRegistrations||0,totalFTD:r.summary.totalFTD||0,totalDeposits:r.summary.totalDeposits||0,totalCashouts:r.summary.totalCashouts||0,totalGGR:r.summary.totalGGR||0}))}else console.log("[DAILY ACTIONS PAGE] No data returned from API"),F([])}catch(o){console.error("[DAILY ACTIONS PAGE] Error fetching data:",o),K("Failed to load data. Please try again later."),F([])}finally{H(!1)}var t},Ae=()=>{console.log("[DAILY ACTIONS PAGE] Closing export dialog"),Z(!1)};return(0,$.jsxs)(s.A,{maxWidth:"xl",children:[(0,$.jsx)(m.A,{title:"Daily Actions Report",subtitle:"View and analyze daily player activities, deposits, and gaming revenue"}),V&&(0,$.jsx)(r.A,{severity:"error",sx:{mb:3},children:V}),(0,$.jsx)(y.A,{startDate:e,endDate:a,setStartDate:t,setEndDate:b,selectedWhiteLabels:C,setSelectedWhiteLabels:e=>{S(e.map((e=>e.toString())))},whiteLabelsOptions:f,whiteLabelsLoading:w,selectedCountries:G,setSelectedCountries:e=>{L(e.map((e=>e.toString())))},countriesOptions:E,countriesLoading:Y,groupBy:N,setGroupBy:M,groupByOptions:B,showAdvancedFilters:X,setShowAdvancedFilters:q,showFiltersPanel:J,setShowFiltersPanel:_,advancedFilters:ae,setAdvancedFilters:oe,handleApplyFilters:()=>{console.log("[DAILY ACTIONS PAGE] Applying filters"),he()},handleExport:()=>{console.log("[DAILY ACTIONS PAGE] Opening export dialog"),Z(!0)},loading:U,dataLength:W.length}),(0,$.jsx)(h.vg,{summary:ie,isLoading:U,error:V,selectedMetrics:ce,comparisonPeriods:ge,onMetricsChange:e=>{console.log("[DAILY ACTIONS PAGE] Metric selection changed:",e),ue(e)},onComparisonPeriodChange:(e,t)=>{console.log(`[DAILY ACTIONS PAGE] Comparison period for ${e} changed to ${t}`),pe({...ge,[e]:t})}}),(0,$.jsx)(R,{groupByOptions:B,selectedGroupings:le,onGroupingChange:e=>{console.log("[DAILY ACTIONS PAGE] Hierarchical groupings changed:",e),ne(e)},enableHierarchical:se,onEnableHierarchicalChange:e=>{console.log("[DAILY ACTIONS PAGE] Hierarchical grouping toggled:",e),re(e),e?0===le.length&&ne([N]):ne([])}}),(0,$.jsx)(v.A,{data:W,loading:U,visibleColumns:ee,groupBy:N,hierarchicalGrouping:{enabled:se,groupByLevels:le},handleColumnVisibilityChange:e=>{console.log("[DAILY ACTIONS PAGE] Column visibility changed:",e),te(e)},onStateChange:e=>{console.log("[DAILY ACTIONS PAGE] Table state changed:",e),se&&e.grouping&&e.grouping.groupByLevels&&e.grouping.groupByLevels.length>0&&JSON.stringify(e.grouping.groupByLevels)!==JSON.stringify(le)&&(console.log("[DAILY ACTIONS PAGE] Updating hierarchical groupings from table state:",e.grouping.groupByLevels),ne(e.grouping.groupByLevels))},onDrillDown:(e,a,o,s)=>{console.log(`[DAILY ACTIONS PAGE] Drill down from ${a} to ${o}`,s),s.groupBy&&M(s.groupBy),s.startDate&&t(new Date(s.startDate)),s.endDate&&b(new Date(s.endDate)),he()}}),(0,$.jsxs)(l.A,{open:Q,onClose:Ae,children:[(0,$.jsx)(n.A,{children:"Export Data"}),(0,$.jsx)(i.A,{children:(0,$.jsx)(p.A,{onExport:e=>{console.log(`[DAILY ACTIONS PAGE] Exporting data in ${e} format`),Z(!1)}})}),(0,$.jsx)(d.A,{children:(0,$.jsx)(c.A,{onClick:Ae,children:"Cancel"})})]})]})}}}]);
//# sourceMappingURL=1022.d1b8abad.chunk.js.map