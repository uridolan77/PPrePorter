"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[5192],{352:(e,t,l)=>{l.d(t,{A:()=>w});var i=l(65043),n=l(85865),s=l(43845),r=l(53193),a=l(18356),o=l(72221),d=l(74050),c=l(32143),u=l(81637),m=l(81673),p=l(67784),x=l(51787),h=l(17392),g=l(11906),j=l(51962),A=l(48734),b=l(77739),v=l(66360),y=l(10155),f=l(47030),C=l(70579);const w=e=>{let{options:t=[],value:l=[],onChange:w,label:S="",placeholder:F="Select items",disabled:D=!1,required:k=!1,error:I="",helperText:P="",maxMenuHeight:M=300,searchable:R=!0,showSelectAllOption:L=!0,renderValue:z,size:B="small",width:T,id:W,name:E,sx:G,className:N,style:$,loading:Y=!1,fullWidth:O=!0}=e;const[V,H]=(0,i.useState)(""),q=t.filter((e=>e.label.toLowerCase().includes(V.toLowerCase())));if(Y)return(0,C.jsxs)(r.A,{fullWidth:!0,size:B,error:!!I,disabled:!0,required:k,sx:{width:T,...G},className:N,style:$,children:[S&&(0,C.jsx)(a.A,{id:`${W||"multi-select"}-label`,children:S}),(0,C.jsx)(o.A,{labelId:`${W||"multi-select"}-label`,id:W||"multi-select",name:E,multiple:!0,value:[],input:(0,C.jsx)(d.A,{label:S}),renderValue:()=>(0,C.jsx)(n.A,{color:"text.secondary",children:"Loading options..."}),children:(0,C.jsx)(c.A,{disabled:!0,children:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:8},children:[(0,C.jsx)(u.A,{size:20,style:{marginRight:8}}),(0,C.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"Loading options..."})]})})}),P&&(0,C.jsx)(m.A,{children:P})]});if(!t||0===t.length)return(0,C.jsxs)(r.A,{fullWidth:!0,size:B,error:!!I,disabled:!0,required:k,sx:{width:T,...G},className:N,style:$,children:[S&&(0,C.jsx)(a.A,{id:`${W||"multi-select"}-label`,children:S}),(0,C.jsx)(o.A,{labelId:`${W||"multi-select"}-label`,id:W||"multi-select",name:E,multiple:!0,value:[],input:(0,C.jsx)(d.A,{label:S}),renderValue:()=>(0,C.jsx)(n.A,{color:"text.secondary",children:"No options available"}),children:(0,C.jsx)(c.A,{disabled:!0,children:(0,C.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"No options available"})})}),P&&(0,C.jsx)(m.A,{children:P})]});return(0,C.jsxs)(r.A,{fullWidth:!0,size:B,error:!!I,disabled:D,required:k,sx:{width:T||"100%",minWidth:"100%",...G},className:N,style:$,children:[S&&(0,C.jsx)(a.A,{id:`${W||"multi-select"}-label`,children:S}),(0,C.jsxs)(o.A,{labelId:`${W||"multi-select"}-label`,id:W||"multi-select",name:E,multiple:!0,value:l,onChange:e=>{const t=e.target.value;w(t)},input:(0,C.jsx)(d.A,{label:S}),renderValue:z||(e=>e&&0!==e.length?(0,C.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.map((e=>{const i=t.find((t=>t.value.toString()===e.toString()));return(0,C.jsx)(s.A,{label:i?i.label:e,size:"small",onDelete:(n=e,e=>{e.preventDefault(),e.stopPropagation();const t=l.filter((e=>e.toString()!==n.toString()));w(t)}),onClick:e=>e.stopPropagation(),deleteIcon:(0,C.jsx)(y.A,{fontSize:"small",onMouseDown:e=>e.stopPropagation()}),sx:{"& .MuiChip-deleteIcon":{display:"none",opacity:.7,"&:hover":{opacity:1}},"&:hover .MuiChip-deleteIcon":{display:"block"}}},e);var n}))}):(0,C.jsx)(n.A,{color:"text.secondary",children:F})),onClose:()=>{H("")},onClick:e=>{e.target instanceof HTMLElement&&(e.target.classList.contains("MuiChip-root")||e.target.classList.contains("MuiChip-label")||e.target.classList.contains("MuiChip-deleteIcon")||e.target.closest(".MuiChip-deleteIcon"))&&(e.preventDefault(),e.stopPropagation())},MenuProps:{PaperProps:{style:{maxHeight:M}}},children:[(0,C.jsxs)("div",{style:{position:"sticky",top:0,backgroundColor:"#fff",zIndex:2,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[R&&(0,C.jsx)("div",{style:{padding:8},children:(0,C.jsx)(p.A,{size:"small",placeholder:"Search...",fullWidth:!0,value:V,onChange:e=>{H(e.target.value)},onClick:e=>e.stopPropagation(),InputProps:{startAdornment:(0,C.jsx)(x.A,{position:"start",children:(0,C.jsx)(v.A,{fontSize:"small"})}),endAdornment:V?(0,C.jsx)(x.A,{position:"end",children:(0,C.jsx)(h.A,{size:"small",onClick:e=>{e.stopPropagation(),H("")},children:(0,C.jsx)(y.A,{fontSize:"small"})})}):null}})}),L&&q.length>0&&(0,C.jsxs)("div",{style:{paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,display:"flex",justifyContent:"space-between"},children:[(0,C.jsx)(g.A,{size:"small",onClick:()=>{const e=q.filter((e=>!e.disabled)).map((e=>e.value));w(e)},children:"Select All"}),(0,C.jsx)(g.A,{size:"small",onClick:()=>{w([])},children:"Clear All"})]})]}),0===q.length&&(0,C.jsx)(c.A,{disabled:!0,children:(0,C.jsx)(n.A,{variant:"body2",color:"text.secondary",children:"No options found"})}),q.map((e=>(0,C.jsxs)(c.A,{value:e.value,disabled:e.disabled,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,C.jsx)(j.A,{checked:l.some((t=>t.toString()===e.value.toString()))}),(0,C.jsx)(A.A,{primary:e.label,secondary:e.group})]}),e.description&&(0,C.jsx)(b.A,{title:e.description,arrow:!0,children:(0,C.jsx)(f.A,{fontSize:"small",color:"action",style:{marginLeft:8}})})]},e.value)))]}),(P||I)&&(0,C.jsx)(m.A,{children:I||P})]})}},4103:(e,t,l)=>{l.d(t,{A:()=>r});l(65043);var i=l(26240),n=l(88489),s=l(70579);const r=e=>{let{position:t="left",variant:l="teal",showWavePattern:r=!1,thickness:a=8,color:o,patternOpacity:d=.1}=e;const c=(0,i.A)(),u=(()=>{if(o)return o;return{teal:c.palette.primary.main,purple:c.palette.secondary.main,blue:c.palette.info.main,green:c.palette.success.main,amber:c.palette.warning.main,red:c.palette.error.main}[l]||c.palette.primary.main})(),m=(()=>{switch(t){case"top":return{top:0,left:0,right:0,height:a,width:"100%"};case"right":return{top:0,right:0,bottom:0,width:a,height:"100%"};case"bottom":return{bottom:0,left:0,right:0,height:a,width:"100%"};default:return{top:0,left:0,bottom:0,width:a,height:"100%"}}})(),p={position:"absolute",backgroundColor:u,zIndex:1,top:m.top,right:m.right,bottom:m.bottom,left:m.left,width:m.width,height:m.height};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:p}),r&&(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:d,backgroundImage:(0,n.e2)(u),backgroundSize:"100px 50px",backgroundPosition:"bottom",backgroundRepeat:"repeat-x",zIndex:0}})]})}},21863:(e,t,l)=>{l.d(t,{A:()=>g});var i=l(65043),n=l(85865),s=l(63336),r=l(53193),a=l(57972),o=l(74605),d=l(14256),c=l(11906),u=l(3044),m=l(99380),p=l(24176),x=l(92317),h=l(70579);const g=e=>{let{onExport:t}=e;const[l,g]=(0,i.useState)(x.A.CSV);return(0,h.jsxs)("div",{children:[(0,h.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,children:"Export Format"}),(0,h.jsx)(s.A,{variant:"outlined",style:{padding:16,marginBottom:16},children:(0,h.jsx)(r.A,{component:"fieldset",fullWidth:!0,children:(0,h.jsxs)(a.A,{"aria-label":"export-format",name:"format",value:l,onChange:e=>{g(e.target.value)},children:[(0,h.jsx)(o.A,{value:x.A.CSV,control:(0,h.jsx)(d.A,{}),label:(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(m.A,{color:"primary",style:{marginRight:8}}),(0,h.jsx)(n.A,{children:"CSV File"})]})}),(0,h.jsx)(o.A,{value:x.A.EXCEL,control:(0,h.jsx)(d.A,{}),label:(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(p.A,{color:"success",style:{marginRight:8}}),(0,h.jsx)(n.A,{children:"Excel Spreadsheet"})]})}),(0,h.jsx)(o.A,{value:x.A.PDF,control:(0,h.jsx)(d.A,{}),label:(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(u.A,{color:"error",style:{marginRight:8}}),(0,h.jsx)(n.A,{children:"PDF Document"})]})})]})})}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:(0,h.jsx)(c.A,{onClick:()=>{t(l)},variant:"contained",color:"primary",children:"Export"})})]})}},40647:(e,t,l)=>{l.d(t,{A:()=>d});l(65043);var i=l(63336),n=l(85865),s=l(81637),r=l(24176),a=l(88696),o=l(70579);const d=e=>{let{data:t,loading:l,visibleColumns:d,groupBy:c,hierarchicalGrouping:u,handleColumnVisibilityChange:m,onStateChange:p,onDrillDown:x}=e;const h=()=>[{id:"groupValue",label:"Day"===c?"Date":c,format:(e,t)=>t.groupValue},{id:"registrations",label:"Registrations",align:"right",format:(e,t)=>t.registrations},{id:"ftd",label:"FTD",align:"right",format:(e,t)=>t.ftd},{id:"deposits",label:"Deposits",align:"right",format:(e,t)=>t.deposits},{id:"paidCashouts",label:"Cashouts",align:"right",format:(e,t)=>t.paidCashouts},{id:"ggrCasino",label:"Casino GGR",align:"right",type:"currency",format:(e,t)=>t.ggrCasino.toFixed(2)},{id:"ggrSport",label:"Sport GGR",align:"right",type:"currency",format:(e,t)=>t.ggrSport.toFixed(2)},{id:"ggrLive",label:"Live GGR",align:"right",type:"currency",format:(e,t)=>t.ggrLive.toFixed(2)},{id:"totalGGR",label:"Total GGR",align:"right",type:"currency",format:(e,t)=>t.totalGGR.toFixed(2)}];return(0,o.jsxs)(i.A,{sx:{p:3},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[(0,o.jsx)(r.A,{style:{marginRight:8}}),(0,o.jsx)(n.A,{variant:"h6",children:"Daily Actions Data"})]}),l?(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:32},children:(0,o.jsx)(s.A,{})}):(0,o.jsx)(a.zZ,{title:"",columns:h(),data:t,loading:!1,emptyMessage:"No data available for the selected filters. Try adjusting your filters or click 'Apply Filters' to load data.",idField:"id",onStateChange:p,onDrillDown:x,features:{columnManagement:{enabled:!0,allowReordering:!0,allowHiding:!0},filtering:{enabled:!0,advancedFilter:!0},export:{enabled:!0},grouping:{enabled:u.enabled,hierarchical:u.enabled,defaultGroupByLevels:u.groupByLevels},sorting:{enabled:!0},pagination:{enabled:!0}},initialState:{grouping:{groupByColumn:u.enabled?null:c,groupByLevels:u.groupByLevels,expandedGroups:[],hierarchical:u.enabled},columns:{visible:d,order:h().map((e=>e.id)),sticky:[],widths:{}}}},`table-${u.enabled}-${u.groupByLevels.join("-")}`)]})}},48210:(e,t,l)=>{l.d(t,{A:()=>o});l(65043);var i=l(35475),n=l(85865),s=l(11906),r=l(28242),a=l(70579);const o=e=>{let{title:t,subtitle:l}=e;return(0,a.jsxs)("div",{style:{marginBottom:32,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:t}),(0,a.jsx)(n.A,{variant:"body1",color:"text.secondary",children:l})]}),(0,a.jsx)(s.A,{component:i.N_,variant:"contained",color:"primary",to:"/reports/daily-actions/advanced",startIcon:(0,a.jsx)(r.A,{}),children:"Advanced Report"})]})}},56851:(e,t,l)=>{l.d(t,{A:()=>v});l(65043);var i=l(12110),n=l(26494),s=l(85865),r=l(77739),a=l(17392),o=l(81637),d=l(90310),c=l(39336),u=l(2830),m=l(18728),p=l(37912),x=l(93881),h=l(2306),g=l(47030),j=l(98082),A=l(4103),b=l(70579);const v=e=>{let{title:t,value:l,subtitle:v,description:y,trend:f=null,trendLabel:C="vs previous period",icon:w=null,loading:S=!1,onMoreClick:F,color:D,isInverse:k=!1,prefix:I="",valueFormatOptions:P,sx:M}=e;const R=null===f?{icon:null,color:"text.secondary"}:f>0?{icon:(0,b.jsx)(p.A,{fontSize:"small"}),color:k?"error.main":"success.main"}:f<0?{icon:(0,b.jsx)(x.A,{fontSize:"small"}),color:k?"success.main":"error.main"}:{icon:(0,b.jsx)(h.A,{fontSize:"small"}),color:"text.secondary"};return(0,b.jsxs)(i.A,{sx:{height:"100%",display:"flex",flexDirection:"column",bgcolor:D,position:"relative",overflow:"hidden",boxShadow:"0px 12px 24px rgba(0, 0, 0, 0.12), 0px 24px 32px rgba(0, 0, 0, 0.16)",borderRadius:2,border:"1px solid rgba(0, 0, 0, 0.08)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:"0px 16px 32px rgba(0, 0, 0, 0.16), 0px 32px 48px rgba(0, 0, 0, 0.2)"},...M},children:[(0,b.jsx)(A.A,{position:"left",variant:null===f?"blue":f>0?k?"red":"green":f<0?k?"green":"red":"blue"}),(0,b.jsxs)(n.A,{sx:{flex:1,position:"relative",p:3},children:[(0,b.jsxs)(u.A,{sx:(0,m.MY)({display:"flex",justifyContent:"space-between",alignItems:"center",mb:1}),children:[(0,b.jsxs)(u.A,{sx:(0,m.MY)({display:"flex",alignItems:"center"}),children:[(0,b.jsx)(s.A,{variant:"subtitle2",color:"text.secondary",children:t}),y&&(0,b.jsx)(r.A,{title:y,arrow:!0,children:(0,b.jsx)(a.A,{size:"small",sx:{ml:.5,p:0},children:(0,b.jsx)(g.A,{fontSize:"small",color:"action"})})})]}),F&&(0,b.jsx)(a.A,{size:"small",onClick:e=>F(e),sx:{marginRight:-1},children:(0,b.jsx)(j.A,{fontSize:"small"})})]}),(0,b.jsxs)(u.A,{sx:(0,m.MY)({display:"flex",alignItems:"center",justifyContent:"space-between",mt:1}),children:[(0,b.jsx)(u.A,{children:S?(0,b.jsx)(o.A,{size:24}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.A,{variant:"h4",component:"div",fontWeight:"medium",children:[I,(e=>void 0===e||null===e?"0":"string"===typeof e?e:isNaN(Number(e))?"0":P?new Intl.NumberFormat("en-GB",P).format(e):new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e))(l)]}),v&&(0,b.jsx)(s.A,{variant:"body2",color:"text.secondary",children:v})]})}),w&&(0,b.jsx)(u.A,{sx:(0,m.MY)({display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e=>(0,d.X4)(e.palette.primary.main,.1),color:"primary.main",borderRadius:"50%",width:48,height:48}),children:w})]}),null!==f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{sx:{my:1.5,borderColor:"divider"}}),(0,b.jsxs)(u.A,{sx:(0,m.MY)({display:"flex",alignItems:"center"}),children:[(0,b.jsxs)(u.A,{sx:(0,m.MY)({display:"flex",alignItems:"center",color:R.color,mr:1}),children:[R.icon,(0,b.jsx)(s.A,{variant:"body2",component:"span",fontWeight:"medium",sx:{color:R.color,ml:.5},children:(e=>{if(null===e||void 0===e)return"";if(isNaN(Number(e)))return"";const t=parseFloat(Number(e).toFixed(2));return`${t>0?"+":""}${t.toFixed(2)}%`})(f)})]}),(0,b.jsx)(s.A,{variant:"caption",color:"text.secondary",children:C})]})]})]})]})}},79048:(e,t,l)=>{l.d(t,{A:()=>C});l(65043);var i=l(63336),n=l(85865),s=l(11906),r=l(30279),a=l(8591),o=l(53193),d=l(18356),c=l(72221),u=l(32143),m=l(67784),p=l(82746),x=l(40672),h=l(58390),g=l(28242),j=l(48625),A=l(41132),b=l(21337),v=l(85473),y=l(352),f=l(70579);const C=e=>{let{startDate:t,endDate:l,setStartDate:C,setEndDate:w,selectedWhiteLabels:S,setSelectedWhiteLabels:F,whiteLabelsOptions:D,whiteLabelsLoading:k=!1,selectedCountries:I,setSelectedCountries:P,countriesOptions:M,countriesLoading:R=!1,groupBy:L,setGroupBy:z,groupByOptions:B,showAdvancedFilters:T,setShowAdvancedFilters:W,showFiltersPanel:E,setShowFiltersPanel:G,advancedFilters:N,setAdvancedFilters:$,handleApplyFilters:Y,handleExport:O,loading:V,dataLength:H}=e;const q=(e,t)=>{$({...N,[e]:t})};return(0,f.jsxs)(i.A,{sx:{p:3,mb:4},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)(g.A,{style:{marginRight:8}}),(0,f.jsx)(n.A,{variant:"h6",children:"Filters"})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)(s.A,{color:"primary",onClick:()=>{W(!T)},endIcon:T?(0,f.jsx)(v.A,{}):(0,f.jsx)(b.A,{}),style:{marginRight:8},disabled:!E,children:T?"Hide Advanced Filters":"Show Advanced Filters"}),(0,f.jsx)(s.A,{color:"primary",onClick:()=>{G(!E)},endIcon:E?(0,f.jsx)(v.A,{}):(0,f.jsx)(b.A,{}),children:E?"Hide Filters":"Show Filters"})]})]}),(0,f.jsxs)(r.A,{in:E,children:[(0,f.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(h.$,{dateAdapter:x.h,children:(0,f.jsx)(p.l,{label:"Start Date",value:t,onChange:e=>{e&&C(e)},slotProps:{textField:{fullWidth:!0}}})})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(h.$,{dateAdapter:x.h,children:(0,f.jsx)(p.l,{label:"End Date",value:l,onChange:e=>{e&&w(e)},slotProps:{textField:{fullWidth:!0}}})})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsxs)(o.A,{fullWidth:!0,children:[(0,f.jsx)(d.A,{id:"group-by-label",children:"Group By"}),(0,f.jsx)(c.A,{labelId:"group-by-label",id:"group-by",value:L,label:"Group By",onChange:e=>{z(e.target.value)},children:B.map((e=>(0,f.jsx)(u.A,{value:e.id,children:e.name},e.id)))})]})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(y.A,{label:"Countries",options:M,value:I,onChange:P,placeholder:"Select countries",loading:R})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,children:(0,f.jsx)(y.A,{label:"White Labels",options:D,value:S,onChange:F,placeholder:"Select white labels",loading:k})})]}),T&&(0,f.jsxs)("div",{style:{marginTop:24},children:[(0,f.jsx)(n.A,{variant:"subtitle1",gutterBottom:!0,children:"Advanced Filters"}),(0,f.jsx)("div",{children:(0,f.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(h.$,{dateAdapter:x.h,children:(0,f.jsx)(p.l,{label:"Registration Date",value:N.registration||null,onChange:e=>{q("registration",e)},slotProps:{textField:{fullWidth:!0}}})})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(h.$,{dateAdapter:x.h,children:(0,f.jsx)(p.l,{label:"First Time Deposit Date",value:N.firstTimeDeposit||null,onChange:e=>{q("firstTimeDeposit",e)},slotProps:{textField:{fullWidth:!0}}})})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(m.A,{fullWidth:!0,label:"Trackers",value:N.trackers||"",onChange:e=>q("trackers",e.target.value)})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(m.A,{fullWidth:!0,label:"Promotion Code",value:N.promotionCode||"",onChange:e=>q("promotionCode",e.target.value)})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,children:(0,f.jsx)(m.A,{fullWidth:!0,label:"Players (comma separated)",value:N.players||"",onChange:e=>q("players",e.target.value)})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsxs)(o.A,{fullWidth:!0,children:[(0,f.jsx)(d.A,{id:"sms-enabled-label",children:"SMS Enabled"}),(0,f.jsxs)(c.A,{labelId:"sms-enabled-label",id:"sms-enabled",value:N.smsEnabled||"",label:"SMS Enabled",onChange:e=>q("smsEnabled",e.target.value),children:[(0,f.jsx)(u.A,{value:"",children:(0,f.jsx)("em",{children:"Any"})}),(0,f.jsx)(u.A,{value:"Yes",children:"Yes"}),(0,f.jsx)(u.A,{value:"No",children:"No"})]})]})}),(0,f.jsx)(a.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsxs)(o.A,{fullWidth:!0,children:[(0,f.jsx)(d.A,{id:"mail-enabled-label",children:"Mail Enabled"}),(0,f.jsxs)(c.A,{labelId:"mail-enabled-label",id:"mail-enabled",value:N.mailEnabled||"",label:"Mail Enabled",onChange:e=>q("mailEnabled",e.target.value),children:[(0,f.jsx)(u.A,{value:"",children:(0,f.jsx)("em",{children:"Any"})}),(0,f.jsx)(u.A,{value:"Yes",children:"Yes"}),(0,f.jsx)(u.A,{value:"No",children:"No"})]})]})})]})})]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:24},children:[(0,f.jsx)(s.A,{variant:"contained",color:"primary",startIcon:(0,f.jsx)(j.A,{}),onClick:Y,style:{marginRight:16},children:"Apply Filters"}),(0,f.jsx)("span",{children:(0,f.jsx)(s.A,{variant:"outlined",startIcon:(0,f.jsx)(A.A,{}),disabled:V||0===H,onClick:O,children:"Export"})})]})]}),!E&&(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:8},children:[(0,f.jsx)(s.A,{variant:"contained",color:"primary",size:"small",startIcon:(0,f.jsx)(j.A,{}),onClick:Y,style:{marginRight:16},children:"Apply"}),(0,f.jsx)(s.A,{variant:"outlined",size:"small",startIcon:(0,f.jsx)(A.A,{}),disabled:V||0===H,onClick:O,children:"Export"})]})]})}},95192:(e,t,l)=>{l.d(t,{vg:()=>M});var i=l(65043),n=(l(2830),l(18728),l(4103),l(352),l(70579));var s=l(56851);var r=l(8591),a=l(45424),o=l(32143),d=l(2050),c=l(48734),u=l(39336),m=l(85865),p=l(83462),x=l(4219),h=l(35316),g=l(96446),j=l(11906),A=l(29347),b=l(36081),v=l(93344),y=l(57566),f=l(73192),C=l(27455),w=l(44533),S=l(37912),F=l(39423),D=l(27155);const k=[{id:"totalPlayers",label:"Total Players",description:"Total number of unique players",format:"number",icon:(0,n.jsx)(v.A,{}),defaultComparisonPeriod:"previous"},{id:"newRegistrations",label:"New Registrations",description:"New player registrations",format:"number",icon:(0,n.jsx)(y.A,{}),defaultComparisonPeriod:"previous"},{id:"totalDeposits",label:"Total Deposits",description:"Total deposit amount",format:"currency",icon:(0,n.jsx)(f.A,{}),defaultComparisonPeriod:"previous"},{id:"totalBets",label:"Total Bets",description:"Total bet amount",format:"currency",icon:(0,n.jsx)(C.A,{}),defaultComparisonPeriod:"previous"},{id:"totalWithdrawals",label:"Total Withdrawals",description:"Total withdrawal amount",format:"currency",icon:(0,n.jsx)(w.A,{}),defaultComparisonPeriod:"previous"},{id:"totalGGR",label:"Total GGR",description:"Gross Gaming Revenue",format:"currency",icon:(0,n.jsx)(S.A,{}),defaultComparisonPeriod:"previous"},{id:"avgBetAmount",label:"Avg. Bet Amount",description:"Average bet amount per player",format:"currency",icon:(0,n.jsx)(C.A,{}),defaultComparisonPeriod:"previous"},{id:"conversionRate",label:"Conversion Rate",description:"Percentage of players who made a deposit",format:"percentage",icon:(0,n.jsx)(D.A,{}),defaultComparisonPeriod:"previous"},{id:"avgSessionDuration",label:"Avg. Session Duration",description:"Average time spent by players",format:"time",icon:(0,n.jsx)(F.A,{}),defaultComparisonPeriod:"previous"},{id:"betCount",label:"Bet Count",description:"Total number of bets placed",format:"number",icon:(0,n.jsx)(C.A,{}),defaultComparisonPeriod:"previous"}],I=[{value:"previous",label:"Previous Period"},{value:"lastWeek",label:"Last Week"},{value:"lastMonth",label:"Last Month"},{value:"lastYear",label:"Last Year"},{value:"custom",label:"Custom Period"}],P=["totalPlayers","newRegistrations","totalDeposits","totalBets"],M=e=>{var t;let{summary:l,isLoading:v,error:y,selectedMetrics:f,comparisonPeriods:C,onMetricsChange:w,onComparisonPeriodChange:S}=e;const[F,D]=(0,i.useState)(P),M=f||F,[R,L]=(0,i.useState)((()=>{const e={};return k.forEach((t=>{e[t.id]=t.defaultComparisonPeriod})),e})),z=C||R,[B,T]=(0,i.useState)(null),[W,E]=(0,i.useState)(null),[G,N]=(0,i.useState)(null),[$,Y]=(0,i.useState)(null),[O,V]=(0,i.useState)(!1),[H,q]=(0,i.useState)([]),[_,X]=(0,i.useState)(null);(0,i.useEffect)((()=>{Z()}),[M]),(0,i.useEffect)((()=>{_&&O&&(console.log("Metric to replace changed, updating available metrics dialog"),Z())}),[_,O]);const Z=()=>{const e=k.filter((e=>!M.includes(e.id)||e.id===_)).filter((e=>e.id!==_)).map((e=>e.id));console.log("Available metrics for dialog:",e),console.log("Selected metrics:",M),console.log("Metric to replace:",_),q(e)};(0,i.useEffect)((()=>{f&&D(f)}),[f]),(0,i.useEffect)((()=>{C&&L(C)}),[C]);const J=()=>{console.log("Closing menu"),T(null),O?console.log("Dialog is open, keeping active metric:",W):(console.log("Resetting active metric"),E(null))},K=()=>{console.log("Closing metric dialog"),V(!1),console.log("Resetting active metric and metric to replace on dialog close"),E(null),X(null)},Q=e=>{var t,i;if(!l)return null;if(l.trends&&l.trends[e]&&null!==(t=l.trends[e])&&void 0!==t&&t[z[e]])return(null===(i=l.trends[e])||void 0===i?void 0:i[z[e]])||null;switch(e){case"totalPlayers":return l.playersTrend||null;case"newRegistrations":return l.registrationsTrend||null;case"totalDeposits":return l.depositsTrend||null;case"totalBets":return l.betsTrend||null;default:return null}},U=e=>{switch(z[e]){case"previous":default:return"vs previous period";case"lastWeek":return"vs last week";case"lastMonth":return"vs last month";case"lastYear":return"vs last year";case"custom":return"vs custom period"}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Ay,{container:!0,spacing:3,sx:{mb:3},children:M.map((e=>{const t=k.find((t=>t.id===e));if(!t)return null;let i=0;if(l&&e in l){const t=l[e];"number"!==typeof t&&"string"!==typeof t||(i=t)}const a="currency"===t.format,o="percentage"===t.format,d="time"===t.format;return(0,n.jsx)(r.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,n.jsx)(s.A,{id:`metric-card-${e}`,title:t.label,value:i,trend:Q(e),trendLabel:U(e),icon:t.icon,loading:v||$===e,error:y,description:t.description,prefix:"",valueFormatOptions:a?{style:"currency",currency:"GBP",minimumFractionDigits:2,maximumFractionDigits:2}:o?{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}:d?{minimumFractionDigits:2,maximumFractionDigits:2}:"number"===t.format?{minimumFractionDigits:0,maximumFractionDigits:0}:{minimumFractionDigits:2,maximumFractionDigits:2},onMoreClick:t=>{((e,t)=>{console.log("Menu opened for metric:",t),console.log("Event target:",e.currentTarget),T(e.currentTarget),E(t),X(t),N(e)})(t,e)}})},e)}))}),(0,n.jsxs)(a.A,{anchorEl:B,open:Boolean(B),onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,n.jsxs)(o.A,{onClick:()=>{console.log("Opening metric dialog"),console.log("Active metric before dialog open:",W),console.log("Metric to replace:",_),V(!0),Z(),J()},children:[(0,n.jsx)(d.A,{children:(0,n.jsx)(b.A,{fontSize:"small"})}),(0,n.jsx)(c.A,{children:"Change Metric"})]}),(0,n.jsx)(u.A,{}),(0,n.jsx)(m.A,{variant:"caption",sx:{px:2,py:1,display:"block",color:"text.secondary"},children:"Compare To:"}),I.map((e=>(0,n.jsx)(o.A,{onClick:()=>(e=>{if(W){const t={...z,[W]:e};C||L(t),S&&S(W,e)}J()})(e.value),selected:!!W&&z[W]===e.value,children:(0,n.jsx)(c.A,{inset:!0,children:e.label})},e.value)))]}),(0,n.jsxs)(p.A,{open:O,onClose:K,maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(x.A,{children:"Change Metric"}),(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(m.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:["Select a new metric to replace ",_?null===(t=k.find((e=>e.id===_)))||void 0===t?void 0:t.label:"",0===H.length&&(0,n.jsx)(g.A,{sx:{mt:1,color:"error.main"},children:"No available metrics to choose from. All metrics are already selected."})]}),(0,n.jsx)(r.Ay,{container:!0,spacing:2,children:H.map((e=>{const t=k.find((t=>t.id===e));return t?(0,n.jsx)(r.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsx)(j.A,{variant:"outlined",fullWidth:!0,startIcon:t.icon,onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("Metric button clicked:",e),console.log("Metric to replace:",_),(e=>{if(!_)return void console.log("No metric to replace set, cannot change metric");console.log("Changing metric:",_,"to",e);const t=M.map((t=>t===_?e:t));console.log("New metrics:",t),f||D(t),w&&w(t),Y(e),setTimeout((()=>{Y(null)}),500)})(e),K()},sx:{justifyContent:"flex-start",textAlign:"left",py:1},children:(0,n.jsxs)(g.A,{children:[(0,n.jsx)(m.A,{variant:"body2",component:"div",children:t.label}),(0,n.jsx)(m.A,{variant:"caption",color:"text.secondary",children:t.description})]})})},e):null}))})]}),(0,n.jsx)(A.A,{children:(0,n.jsx)(j.A,{onClick:K,children:"Cancel"})})]},`metric-dialog-${_||"none"}`)]})};l(88696),l(92317);l(40647),l(48210),l(79048),l(21863)}}]);
//# sourceMappingURL=5192.9f65c69c.chunk.js.map