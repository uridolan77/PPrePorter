"use strict";(self.webpackChunkppreporter_client=self.webpackChunkppreporter_client||[]).push([[58],{46058:(t,e,s)=>{s.r(e),s.d(e,{default:()=>B});var i=s(65043),a=s(35475),r=s(19252),l=s(96446),n=s(85865),d=s(11906),c=s(63336),o=s(68903),h=s(53193),x=s(18356),A=s(69285),j=s(32143),g=s(12110),y=s(26494),m=s(14194),u=s(81637),p=s(79650),v=s(71806),b=s(84882),f=s(28076),D=s(10039),G=s(73460),C=s(29598),R=s(82232),S=s(58390),F=s(19170),w=s(69525),L=s(28353),I=s(28242),M=s(48625),T=s(41132),W=s(24176),k=s(70579);const B=()=>{const[t,e]=(0,i.useState)((0,F.A)(new Date,30)),[s,B]=(0,i.useState)(new Date),[E,N]=(0,i.useState)(""),[P,_]=(0,i.useState)([]),[U,$]=(0,i.useState)([]),[z,V]=(0,i.useState)(!1),[q,H]=(0,i.useState)(null),[J,K]=(0,i.useState)({totalRegistrations:0,totalFTD:0,totalDeposits:0,totalCashouts:0,totalGGR:0});(0,i.useEffect)((()=>{(async()=>{try{const t=await L.A.getMetadata();_(t.whiteLabels||[])}catch(t){console.error("Error fetching metadata:",t),H("Failed to load metadata. Please try again later.")}})()}),[]);const O=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t);return(0,k.jsxs)(r.A,{maxWidth:"xl",children:[(0,k.jsxs)(l.A,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,k.jsxs)(l.A,{children:[(0,k.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:"Daily Actions Report"}),(0,k.jsx)(n.A,{variant:"body1",color:"text.secondary",children:"View and analyze daily player activities, deposits, and gaming revenue"})]}),(0,k.jsx)(d.A,{variant:"contained",color:"primary",component:a.N_,to:"/reports/daily-actions/advanced",startIcon:(0,k.jsx)(I.A,{}),children:"Advanced Report"})]}),(0,k.jsxs)(c.A,{sx:{p:3,mb:4},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,k.jsx)(I.A,{sx:{mr:1}}),(0,k.jsx)(n.A,{variant:"h6",children:"Filters"})]}),(0,k.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,k.jsx)(o.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(S.$,{dateAdapter:R.h,children:(0,k.jsx)(C.l,{label:"Start Date",value:t,onChange:t=>t&&e(t),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,md:3,children:(0,k.jsx)(S.$,{dateAdapter:R.h,children:(0,k.jsx)(C.l,{label:"End Date",value:s,onChange:t=>t&&B(t),slotProps:{textField:{fullWidth:!0}}})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,md:3,children:(0,k.jsxs)(h.A,{fullWidth:!0,children:[(0,k.jsx)(x.A,{children:"White Label"}),(0,k.jsxs)(A.A,{value:E,onChange:t=>{N(t.target.value)},label:"White Label",children:[(0,k.jsx)(j.A,{value:"",children:"All White Labels"}),P.map((t=>(0,k.jsx)(j.A,{value:t.id,children:t.name},t.id)))]})]})}),(0,k.jsxs)(o.Ay,{item:!0,xs:12,md:3,sx:{display:"flex",alignItems:"center"},children:[(0,k.jsx)(d.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(M.A,{}),onClick:()=>{(async()=>{V(!0),H(null);try{const e={startDate:(0,w.A)(t,"yyyy-MM-dd"),endDate:(0,w.A)(s,"yyyy-MM-dd")};E&&(e.whiteLabelId=E);const i=await L.A.getData(e),a=i.data||[];if($(a),i.summary)K(i.summary);else{const t={totalRegistrations:a.reduce(((t,e)=>t+e.registrations),0),totalFTD:a.reduce(((t,e)=>t+e.ftd),0),totalDeposits:a.reduce(((t,e)=>t+e.deposits),0),totalCashouts:a.reduce(((t,e)=>t+e.paidCashouts),0),totalGGR:a.reduce(((t,e)=>t+e.totalGGR),0)};K(t)}}catch(e){console.error("Error fetching daily actions:",e),H("Failed to load daily actions data. Please try again later.")}finally{V(!1)}})()},sx:{mr:2},children:"Apply Filters"}),(0,k.jsx)(d.A,{variant:"outlined",startIcon:(0,k.jsx)(T.A,{}),disabled:z||0===U.length,children:"Export"})]})]})]}),(0,k.jsxs)(o.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,k.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,k.jsx)(g.A,{children:(0,k.jsxs)(y.A,{children:[(0,k.jsx)(n.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Registrations"}),(0,k.jsx)(n.A,{variant:"h5",children:J.totalRegistrations.toLocaleString()})]})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,k.jsx)(g.A,{children:(0,k.jsxs)(y.A,{children:[(0,k.jsx)(n.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"First Time Depositors"}),(0,k.jsx)(n.A,{variant:"h5",children:J.totalFTD.toLocaleString()})]})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,k.jsx)(g.A,{children:(0,k.jsxs)(y.A,{children:[(0,k.jsx)(n.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Deposits"}),(0,k.jsx)(n.A,{variant:"h5",children:O(J.totalDeposits)})]})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,k.jsx)(g.A,{children:(0,k.jsxs)(y.A,{children:[(0,k.jsx)(n.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Cashouts"}),(0,k.jsx)(n.A,{variant:"h5",children:O(J.totalCashouts)})]})})}),(0,k.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,k.jsx)(g.A,{children:(0,k.jsxs)(y.A,{children:[(0,k.jsx)(n.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Total GGR"}),(0,k.jsx)(n.A,{variant:"h5",children:O(J.totalGGR)})]})})})]}),(0,k.jsxs)(c.A,{sx:{p:3},children:[(0,k.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,k.jsx)(W.A,{sx:{mr:1}}),(0,k.jsx)(n.A,{variant:"h6",children:"Daily Actions Data"})]}),q&&(0,k.jsx)(m.A,{severity:"error",sx:{mb:3},children:q}),z?(0,k.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,k.jsx)(u.A,{})}):0===U.length?(0,k.jsx)(m.A,{severity:"info",children:'No data available for the selected filters. Try adjusting your filters or click "Apply Filters" to load data.'}):(0,k.jsx)(p.A,{children:(0,k.jsxs)(v.A,{children:[(0,k.jsx)(b.A,{children:(0,k.jsxs)(f.A,{children:[(0,k.jsx)(D.A,{children:"Date"}),(0,k.jsx)(D.A,{children:"White Label"}),(0,k.jsx)(D.A,{align:"right",children:"Registrations"}),(0,k.jsx)(D.A,{align:"right",children:"FTD"}),(0,k.jsx)(D.A,{align:"right",children:"Deposits"}),(0,k.jsx)(D.A,{align:"right",children:"Cashouts"}),(0,k.jsx)(D.A,{align:"right",children:"Casino GGR"}),(0,k.jsx)(D.A,{align:"right",children:"Sports GGR"}),(0,k.jsx)(D.A,{align:"right",children:"Live GGR"}),(0,k.jsx)(D.A,{align:"right",children:"Total GGR"})]})}),(0,k.jsx)(G.A,{children:U.map((t=>(0,k.jsxs)(f.A,{children:[(0,k.jsx)(D.A,{children:(0,w.A)(new Date(t.date),"MMM dd, yyyy")}),(0,k.jsx)(D.A,{children:t.whiteLabelName}),(0,k.jsx)(D.A,{align:"right",children:t.registrations}),(0,k.jsx)(D.A,{align:"right",children:t.ftd}),(0,k.jsx)(D.A,{align:"right",children:O(t.deposits)}),(0,k.jsx)(D.A,{align:"right",children:O(t.paidCashouts)}),(0,k.jsx)(D.A,{align:"right",children:O(t.ggrCasino)}),(0,k.jsx)(D.A,{align:"right",children:O(t.ggrSport)}),(0,k.jsx)(D.A,{align:"right",children:O(t.ggrLive)}),(0,k.jsx)(D.A,{align:"right",children:O(t.totalGGR)})]},t.id)))})]})})]})]})}}}]);
//# sourceMappingURL=58.ee35b6c8.chunk.js.map